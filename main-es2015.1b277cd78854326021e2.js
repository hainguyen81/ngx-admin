(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,r){e.exports=r("zUnb")},crnd:function(e,t){function r(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id="crnd"},zUnb:function(e,t,r){"use strict";r.r(t);var s=r("8Y7J"),n=r("wAiw");function i(e,t){let r;if(r=[].concat(e||[]),"function"==typeof t){let e;for(e=0;e<r.length;)t.apply(r,[r[e],e])?r.splice(e,1):++e}return r}Array.prototype.removeIf||(Array.prototype.removeIf=function(e){return i(this,e)}),Array.prototype.removeSelfIf||(Array.prototype.removeSelfIf=function(e){const t=i(this,e);this.clear(),this.push(...t||[])}),Array.prototype.remove||(Array.prototype.remove=function(...e){return function(e,...t){let r,s,n;for(r=(t||[]).length;r&&(e||[]).length;)for(n=t[--r];-1!==(s=(e||[]).indexOf(n));)(e||[]).splice(s,1)}(this,...e)}),Array.prototype.clear||(Array.prototype.clear=function(){this.length&&this.splice(0,this.length)}),Array.prototype.first||(Array.prototype.first=function(){return this.length?this[0]:null}),Array.prototype.last||(Array.prototype.last=function(){return this.length?this[this.length-1]:null}),Array.prototype.inject||(Array.prototype.inject=function(e,...t){!function(e,t,...r){let s;s=[],r instanceof Array||"[object Array]"===Object.prototype.toString.call(r)?s=[].concat(r):r&&s.push(r),s.length&&!isNaN(t)&&0<=t&&t<this.length&&(e||[]).splice(t+1,0,...s)}(this,e,...t)}),Array.prototype.unique||(Array.prototype.unique=function(){return function(e){let t;if(t=(e||[]).concat(),(t||[]).length)for(let r=0;r<t.length;r++)for(let e=r+1;e<t.length;e++)t[r]===t[e]&&t.splice(e--,1);return t}(this)}),Array.prototype.contains||(Array.prototype.contains=function(e){return this.length&&this.indexOf(e)>=0}),Array.prototype.diff||(Array.prototype.diff=function(e){return function(e,t){let r,s;r=[],s=(t||[]).concat([]);for(let n=0;n<(e||[]).length;n++)s.contains(e[n])?s.splice(s.indexOf(e[n]),1):r.push(e[n]);for(let n=0;n<s.length;n++)r.contains(s[n])||r.push(s[n]);return r}(this,e)}),Array.prototype.isDiff||(Array.prototype.isDiff=function(e){return function(e,t){let r;if(r=(t||[]).length!==(e||[]).length,!r)for(let s=0;s<(e||[]).length;s++)if(!(t||[]).contains(e[s])){r=!0;break}return r}(this,e)}),String.prototype.left||(String.prototype.left=function(e){return function(e,t){let r;return r=e||"",t=Math.min(r.length,Math.max(t,0)),r.substring(0,t)}(this,e)}),String.prototype.right||(String.prototype.right=function(e){return function(e,t){let r;return r=e||"",t=Math.max(t,0),r.substring(t=t<r.length?r.length-t-1:0,r.length)}(this,e)}),String.prototype.padCenter||(String.prototype.padCenter=function(e,t){return function(e,t,r){let s;return s=e||"",0<=(t=Math.max(t,0))||t<=s.length||!(r||"").length?s:s.padStart((s.length+t)/2,r).padEnd(t,r)}(this,e,t)}),String.prototype.trimLast||(String.prototype.trimLast=function(e){return function(e,t){let r;return r=e||"",r.lastIndexOf(t)>=0?r.substring(0,r.lastIndexOf(t)):r}(this,e)});const o={github:!0,production:!0,databaseName:"HiGithub",offline:!0,baseHref:"https://hainguyen81.github.io/ngx-admin/",useProxy:!1,mock:!0},a={version:1,third_party:"third_party",auth:"auth",module:"module",user:"user",customer:"customer",country:"country",city:"city",province:"province",organization:"organization",general_settings:"general_settings",warehouse:"warehouse",warehouse_item:"warehouse_item",warehouse_order:"warehouse_order",warehouse_order_detail:"warehouse_order_detail",warehouse_inventory:"warehouse_inventory",warehouse_inventory_detail:"warehouse_inventory_detail",warehouse_category:"warehouse_category",warehouse_adjust:"warehouse_adjust",warehouse_adjust_detail:"warehouse_adjust_detail",warehouse_settings:"warehouse_settings",warehouse_batch_no:"warehouse_batch_no",warehouse_management:"warehouse_management"},c={name:o.databaseName,version:a.version,objectStoresMeta:[{store:a.third_party,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"response",keypath:"response",options:{unique:!1}},{name:"expiredAt",keypath:"expiredAt",options:{unique:!1}}]},{store:a.general_settings,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!1}},{name:"name",keypath:"name",options:{unique:!1}},{name:"value",keypath:"value",options:{unique:!1}},{name:"builtin",keypath:"builtin",options:{unique:!1}},{name:"module_id",keypath:"module_id",options:{unique:!1}},{name:"module_code",keypath:"module_code",options:{unique:!1}},{name:"module",keypath:"module",options:{unique:!1}}]},{store:a.auth,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"access_token",keypath:"access_token",options:{unique:!0}},{name:"token_type",keypath:"token_type",options:{unique:!1}},{name:"refresh_token",keypath:"refresh_token",options:{unique:!0}},{name:"expires_in",keypath:"expires_in",options:{unique:!1}},{name:"scope",keypath:"scope",options:{unique:!1}},{name:"company",keypath:"company",options:{unique:!1}},{name:"enterprise",keypath:"enterprise",options:{unique:!1}},{name:"username",keypath:"username",options:{unique:!1}},{name:"firstName",keypath:"firstName",options:{unique:!1}},{name:"lastName",keypath:"lastName",options:{unique:!1}},{name:"email",keypath:"email",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"status",keypath:"status",options:{unique:!1}},{name:"rolesGroupId",keypath:"rolesGroupId",options:{unique:!1}},{name:"rolesGroup",keypath:"rolesGroup",options:{unique:!1}}]},{store:a.module,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"apiId",keypath:"apiId",options:{unique:!0}},{name:"api",keypath:"api",options:{unique:!1}},{name:"children",keypath:"children",options:{unique:!1}}]},{store:a.user,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"scope",keypath:"scope",options:{unique:!1}},{name:"company",keypath:"company",options:{unique:!1}},{name:"enterprise",keypath:"enterprise",options:{unique:!1}},{name:"username",keypath:"username",options:{unique:!0}},{name:"password",keypath:"password",options:{unique:!1}},{name:"firstName",keypath:"firstName",options:{unique:!1}},{name:"lastName",keypath:"lastName",options:{unique:!1}},{name:"email",keypath:"email",options:{unique:!0}},{name:"image",keypath:"image",options:{unique:!0}},{name:"status",keypath:"status",options:{unique:!1}}]},{store:a.customer,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"type",keypath:"type",options:{unique:!1}},{name:"status",keypath:"status",options:{unique:!1}},{name:"level",keypath:"level",options:{unique:!1}},{name:"email",keypath:"email",options:{unique:!0}},{name:"tel",keypath:"tel",options:{unique:!1}},{name:"fax",keypath:"fax",options:{unique:!1}},{name:"website",keypath:"website",options:{unique:!1}},{name:"address",keypath:"address",options:{unique:!1}},{name:"district_id",keypath:"district_id",options:{unique:!1}},{name:"district",keypath:"district",options:{unique:!1}},{name:"city_id",keypath:"city_id",options:{unique:!1}},{name:"city",keypath:"city",options:{unique:!1}},{name:"province_id",keypath:"province_id",options:{unique:!1}},{name:"province",keypath:"province",options:{unique:!1}},{name:"zip_code",keypath:"zip_code",options:{unique:!1}},{name:"country_id",keypath:"country_id",options:{unique:!1}},{name:"country",keypath:"country",options:{unique:!1}},{name:"contact_name",keypath:"contact_name",options:{unique:!1}},{name:"contact_tel",keypath:"contact_tel",options:{unique:!1}},{name:"contact_fax",keypath:"contact_fax",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}}]},{store:a.organization,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"parentId",keypath:"parentId",options:{unique:!1}},{name:"parent",keypath:"parent",options:{unique:!1}},{name:"type",keypath:"type",options:{unique:!1}},{name:"tax",keypath:"tax",options:{unique:!1}},{name:"address",keypath:"address",options:{unique:!1}},{name:"district_id",keypath:"district_id",options:{unique:!1}},{name:"district",keypath:"district",options:{unique:!1}},{name:"city_id",keypath:"city_id",options:{unique:!1}},{name:"city",keypath:"city",options:{unique:!1}},{name:"province_id",keypath:"province_id",options:{unique:!1}},{name:"province",keypath:"province",options:{unique:!1}},{name:"zip_code",keypath:"zip_code",options:{unique:!1}},{name:"country_id",keypath:"country_id",options:{unique:!1}},{name:"country",keypath:"country",options:{unique:!1}},{name:"tel",keypath:"tel",options:{unique:!1}},{name:"fax",keypath:"fax",options:{unique:!1}},{name:"email",keypath:"email",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}},{name:"managerId",keypath:"managerId",options:{unique:!1}},{name:"manager",keypath:"manager",options:{unique:!1}},{name:"contact",keypath:"contact",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"children",keypath:"children",options:{unique:!1}}]},{store:a.warehouse,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"type",keypath:"type",options:{unique:!1}},{name:"street_address",keypath:"street_address",options:{unique:!1}},{name:"district_id",keypath:"district_id",options:{unique:!1}},{name:"district",keypath:"district",options:{unique:!1}},{name:"city_id",keypath:"city_id",options:{unique:!1}},{name:"city",keypath:"city",options:{unique:!1}},{name:"province_id",keypath:"province_id",options:{unique:!1}},{name:"province",keypath:"province",options:{unique:!1}},{name:"country_id",keypath:"country_id",options:{unique:!1}},{name:"country",keypath:"country",options:{unique:!1}},{name:"zip_code",keypath:"zip_code",options:{unique:!1}},{name:"tel",keypath:"tel",options:{unique:!1}},{name:"fax",keypath:"fax",options:{unique:!1}},{name:"email",keypath:"email",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}},{name:"pathCodes",keypath:"pathCodes",options:{unique:!1}},{name:"pathIds",keypath:"pathIds",options:{unique:!1}},{name:"parentId",keypath:"parentId",options:{unique:!1}},{name:"parent",keypath:"parent",options:{unique:!1}},{name:"children",keypath:"children",options:{unique:!1}}]},{store:a.warehouse_item,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!1}},{name:"name",keypath:"name",options:{unique:!1}},{name:"status",keypath:"status",options:{unique:!1}},{name:"barcode",keypath:"barcode",options:{unique:!1}},{name:"serial",keypath:"serial",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"manufacturer",keypath:"manufacturer",options:{unique:!1}},{name:"length",keypath:"length",options:{unique:!1}},{name:"width",keypath:"width",options:{unique:!1}},{name:"height",keypath:"height",options:{unique:!1}},{name:"weight",keypath:"weight",options:{unique:!1}},{name:"size",keypath:"size",options:{unique:!1}},{name:"unit",keypath:"unit",options:{unique:!1}},{name:"rate_per_unit",keypath:"rate_per_unit",options:{unique:!1}},{name:"dealer_price",keypath:"dealer_price",options:{unique:!1}},{name:"cost_price",keypath:"cost_price",options:{unique:!1}},{name:"selling_price",keypath:"selling_price",options:{unique:!1}},{name:"currency",keypath:"currency",options:{unique:!1}},{name:"stock_on_hand",keypath:"stock_on_hand",options:{unique:!1}},{name:"committed_stock",keypath:"committed_stock",options:{unique:!1}},{name:"available_stock",keypath:"available_stock",options:{unique:!1}},{name:"incoming_stock",keypath:"incoming_stock",options:{unique:!1}},{name:"quantity_shipped",keypath:"quantity_shipped",options:{unique:!1}},{name:"quantity_received",keypath:"quantity_received",options:{unique:!1}},{name:"description",keypath:"description",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}},{name:"is_version",keypath:"is_version",options:{unique:!1}},{name:"versions",keypath:"versions",options:{unique:!1}},{name:"item_id",keypath:"item_id",options:{unique:!1}},{name:"item_code",keypath:"item_code",options:{unique:!1}},{name:"item",keypath:"item",options:{unique:!1}},{name:"categories_id",keypath:"categories_id",options:{unique:!1}},{name:"category",keypath:"category",options:{unique:!1}},{name:"brand_id",keypath:"brand_id",options:{unique:!1}},{name:"brand",keypath:"brand",options:{unique:!1}}]},{store:a.warehouse_order,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"order_code",keypath:"order_code",options:{unique:!0}},{name:"order_type",keypath:"order_type",options:{unique:!1}},{name:"sales_person",keypath:"sales_person",options:{unique:!1}},{name:"order_date",keypath:"order_date",options:{unique:!1}},{name:"order_status",keypath:"order_status",options:{unique:!1}},{name:"ship_to_name",keypath:"ship_to_name",options:{unique:!1}},{name:"ship_to_company",keypath:"ship_to_company",options:{unique:!1}},{name:"ship_to_street_address",keypath:"ship_to_street_address",options:{unique:!1}},{name:"ship_to_city",keypath:"ship_to_city",options:{unique:!1}},{name:"ship_to_state_province",keypath:"ship_to_state_province",options:{unique:!1}},{name:"ship_to_zip_code",keypath:"ship_to_zip_code",options:{unique:!1}},{name:"ship_to_country",keypath:"ship_to_country",options:{unique:!1}},{name:"ship_to_tel",keypath:"ship_to_tel",options:{unique:!1}},{name:"ship_to_fax",keypath:"ship_to_fax",options:{unique:!1}},{name:"ship_to_email",keypath:"ship_to_email",options:{unique:!1}},{name:"expected_delivery_date",keypath:"expected_delivery_date",options:{unique:!1}},{name:"shipment_date",keypath:"shipment_date",options:{unique:!1}},{name:"payment_terms",keypath:"payment_terms",options:{unique:!1}},{name:"delivery_method",keypath:"delivery_method",options:{unique:!1}},{name:"sub_total",keypath:"sub_total",options:{unique:!1}},{name:"discount_rate",keypath:"discount_rate",options:{unique:!1}},{name:"discount_amount",keypath:"discount_amount",options:{unique:!1}},{name:"tax_rate",keypath:"tax_rate",options:{unique:!1}},{name:"tax_amount",keypath:"tax_amount",options:{unique:!1}},{name:"shipping_charges",keypath:"shipping_charges",options:{unique:!1}},{name:"other_amount",keypath:"other_amount",options:{unique:!1}},{name:"total",keypath:"total",options:{unique:!1}},{name:"terms_conditions",keypath:"terms_conditions",options:{unique:!1}},{name:"order_remark",keypath:"order_remark",options:{unique:!1}},{name:"file_attach",keypath:"file_attach",options:{unique:!1}},{name:"vendor_id",keypath:"vendor_id",options:{unique:!1}},{name:"vendor",keypath:"vendor",options:{unique:!1}},{name:"customer_id",keypath:"customer_id",options:{unique:!1}},{name:"customer",keypath:"customer",options:{unique:!1}}]},{store:a.warehouse_order_detail,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"quantity",keypath:"quantity",options:{unique:!1}},{name:"unit_price",keypath:"unit_price",options:{unique:!1}},{name:"amount",keypath:"amount",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}},{name:"order_id",keypath:"order_id",options:{unique:!1}},{name:"order",keypath:"order",options:{unique:!1}},{name:"item_id",keypath:"item_id",options:{unique:!1}},{name:"item",keypath:"item",options:{unique:!1}}]},{store:a.warehouse_inventory,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"type",keypath:"type",options:{unique:!1}},{name:"date",keypath:"date",options:{unique:!1}},{name:"reason_for_issuing",keypath:"reason_for_issuing",options:{unique:!1}},{name:"total_amount",keypath:"total_amount",options:{unique:!1}},{name:"deliverer",keypath:"deliverer",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}},{name:"status",keypath:"status",options:{unique:!1}},{name:"file_attach",keypath:"file_attach",options:{unique:!1}},{name:"warehouse_id",keypath:"warehouse_id",options:{unique:!1}},{name:"warehouse_code",keypath:"warehouse",options:{unique:!1}},{name:"warehouse",keypath:"warehouse",options:{unique:!1}},{name:"vendor_customer_id",keypath:"vendor_id",options:{unique:!1}},{name:"vendor_customer_code",keypath:"vendor",options:{unique:!1}},{name:"vendor_customer",keypath:"vendor",options:{unique:!1}}]},{store:a.warehouse_inventory_detail,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"quantity_orders",keypath:"quantity_orders",options:{unique:!1}},{name:"quantity_actually",keypath:"quantity_actually",options:{unique:!1}},{name:"unit_price",keypath:"unit_price",options:{unique:!1}},{name:"amount",keypath:"amount",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}},{name:"batches",keypath:"batches",options:{unique:!1}},{name:"series",keypath:"series",options:{unique:!1}},{name:"storage",keypath:"storage",options:{unique:!1}},{name:"inventory_id",keypath:"inventory_id",options:{unique:!1}},{name:"inventory_code",keypath:"inventory_code",options:{unique:!1}},{name:"inventory",keypath:"inventory",options:{unique:!1}},{name:"item_id",keypath:"item_id",options:{unique:!1}},{name:"item_code",keypath:"item_code",options:{unique:!1}},{name:"item",keypath:"item",options:{unique:!1}}]},{store:a.warehouse_category,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"type",keypath:"type",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}},{name:"parentId",keypath:"parentId",options:{unique:!1}},{name:"parent",keypath:"parent",options:{unique:!1}},{name:"children",keypath:"children",options:{unique:!1}}]},{store:a.warehouse_adjust,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"date",keypath:"date",options:{unique:!1}},{name:"reason",keypath:"reason",options:{unique:!1}},{name:"file_attach",keypath:"file_attach",options:{unique:!1}},{name:"warehouse_id",keypath:"warehouse_id",options:{unique:!1}},{name:"warehouse",keypath:"warehouse",options:{unique:!1}}]},{store:a.warehouse_adjust_detail,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"quanlity",keypath:"quanlity",options:{unique:!1}},{name:"item_id",keypath:"item_id",options:{unique:!1}},{name:"item",keypath:"item",options:{unique:!1}},{name:"adjust_id",keypath:"adjust_id",options:{unique:!1}},{name:"adjust",keypath:"adjust",options:{unique:!1}}]},{store:a.country,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"capital",keypath:"capital",options:{unique:!1}},{name:"region",keypath:"region",options:{unique:!1}},{name:"currency",keypath:"currency",options:{unique:!1}},{name:"language",keypath:"language",options:{unique:!1}},{name:"dial_code",keypath:"dial_code",options:{unique:!1}},{name:"flag",keypath:"flag",options:{unique:!1}}]},{store:a.city,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"zip_code",keypath:"zip_code",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"province_id",keypath:"province_id",options:{unique:!1}},{name:"province",keypath:"province",options:{unique:!1}}]},{store:a.province,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"zip_code",keypath:"zip_code",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"country_id",keypath:"country_id",options:{unique:!1}},{name:"country",keypath:"country",options:{unique:!1}}]},{store:a.warehouse_settings,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"type",keypath:"type",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"order",keypath:"order",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}}]},{store:a.warehouse_batch_no,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"status",keypath:"status",options:{unique:!1}},{name:"mfg_date",keypath:"mfg_date",options:{unique:!1}},{name:"exp_date",keypath:"exp_date",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}}]},{store:a.warehouse_management,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"type",keypath:"type",options:{unique:!1}},{name:"item_id",keypath:"item_id",options:{unique:!1}},{name:"item_code",keypath:"item_code",options:{unique:!1}},{name:"item",keypath:"item",options:{unique:!1}},{name:"warehouse_id",keypath:"warehouse_id",options:{unique:!1}},{name:"warehouse_code",keypath:"warehouse_code",options:{unique:!1}},{name:"warehouse",keypath:"warehouse",options:{unique:!1}},{name:"object_id",keypath:"object_id",options:{unique:!1}},{name:"object_code",keypath:"object_code",options:{unique:!1}},{name:"object",keypath:"object",options:{unique:!1}},{name:"quantity",keypath:"quantity",options:{unique:!1}}]}],migrationFactory:function(){return{1:(e,t)=>{const r=t.objectStore(a.customer);r.createIndex("__customer_index_by_type_code",["type","code"],{unique:!0}),r.createIndex("__customer_index_by_type",["type"],{unique:!1});const s=t.objectStore(a.general_settings);s.createIndex("__general_settings_index_by_id",["id","module_id","code"],{unique:!0}),s.createIndex("__general_settings_index_by_code",["id","module_code","code"],{unique:!0}),s.createIndex("__general_settings_index_by_module_code",["module_code","code"],{unique:!1});const n=t.objectStore(a.warehouse_item);n.createIndex("__warehouse_item_index_by_id",["id","item_id"],{unique:!0}),n.createIndex("__warehouse_item_index_by_code",["code","item_code"],{unique:!0});const i=t.objectStore(a.warehouse_inventory_detail);i.createIndex("__warehouse_inv_detail_index_by_id",["id","inventory_id"],{unique:!0}),i.createIndex("__warehouse_inv_detail_index_by_inventory_id",["inventory_id"],{unique:!1}),i.createIndex("__warehouse_inv_detail_index_by_inventory_code",["inventory_code"],{unique:!1});const o=t.objectStore(a.warehouse_management);o.createIndex("__whman_index_by_id",["warehouse_id","item_id","object_id"],{unique:!0}),o.createIndex("__whman_index_by_code",["warehouse_code","item_code"],{unique:!1}),o.createIndex("__whman_object_item_index_by_code",["warehouse_code","object_code","item_code"],{unique:!1}),o.createIndex("__whman_object_index_by_code",["warehouse_code","object_code"],{unique:!1})}}}};var u=r("SVse"),d=r("IheW"),p=r("P4hB"),h=r("vkgz");class l{getAuthService(){return this.authService}getRouter(){return this.router}constructor(e,t){this.authService=e,this.router=t}canActivate(){return this.getAuthService().isAuthenticated().pipe(Object(h.a)(e=>{e||this.getRouter().navigate(["auth/login"])}))}}var g=r("QQUL"),m=r("iInd"),y=r("z6cu");const _={level:p.d.DEBUG,serverLogLevel:p.d.OFF,disableConsoleLogging:!1};var f=r("LRne"),v=r("Cfvw"),b=r("7+OI"),k=r("c2HN"),O=r("MCLT");class C{static promiseToObservable(e){return e&&Object(k.a)(e)?Object(v.a)(e.then(e=>e)):Object(f.a)(null)}static sequencePromises(e,t,r){if(!r||!r.length)return Promise.resolve(e);let s;return s=e,r.reduce((r,n,i)=>r.then(e=>(s=t?t(s,e):e,n.then(e=>Promise.resolve(t?t(s,e):s)).catch(e=>Promise.resolve(s)))).catch(t=>Promise.resolve(e)),Promise.resolve(e))}static parallelPromises(e,t,r){return r&&r.length?Promise.all(r).then(r=>{let s;return s=e,t&&(r||[]).forEach(e=>s=t(s,e)),s}).catch(t=>e):Promise.resolve(e)}static unsubscribe(e){if(!Object(O.isNullOrUndefined)(e)&&Object(b.a)(e)){let r;if(r=e.hasOwnProperty("closed")&&e.closed||!1,!r&&"function"==typeof e.unsubscribe)try{e.unsubscribe.apply(e)}catch(t){window.console.warn(["Could not unsubscribe",t])}}}}const S={uuid:{v1:r("xDdU"),v3:r("MsAC"),v4:r("xk4V"),v5:r("a6Ml")},oid:r("Gppw")};class E extends class{constructor(e,t,r,s,n){this.dbService=e,this.logger=t,this.connectionService=r,this.dbStore=s,this.entityKey=n,this.updateExecutor=(e,t,...r)=>{r&&r.length?(this.getLogger().debug("Update data",r,"First data",r[0]),this.getDbService().update(this.getDbStore(),r[0]).then(()=>e(1),e=>{this.getLogger().error("Could not update data",e),t(e)})):e(0)},e||Object(y.a)("Could not inject IndexDb!"),t||Object(y.a)("Could not inject logger!"),r||Object(y.a)("Could not inject connection service!"),(s||"").length||Object(y.a)("Database store name must be not empty!"),(n||"").length||Object(y.a)("Database entity key property must be not empty!"),t.updateConfig(_),r.monitor().subscribe(e=>{e?this.synchronize():this.getLogger().warn("Not found internet connection to synchronize offline data")})}getDbService(){return this.dbService}getConnectionService(){return this.connectionService}getDbStore(){return this.dbStore}getEnityKey(){return this.entityKey}getLogger(){return this.logger}delete(e){const t=this;return new Promise((r,s)=>{this.deleteExecutor.apply(t,[r,s,e])})}update(e){const t=this;return new Promise((r,s)=>{this.updateExecutor.apply(t,[r,s,e])})}findEntities(e,t){return t?new Promise((r,s)=>{this.getDbService().getByIndex(this.getDbStore(),e,t).then(e=>r(e),e=>{this.getLogger().error(e),s(e)})}):this.getAll()}findById(e){return new Promise((t,r)=>{this.getDbService().getByIndex(this.getDbStore(),"id",e).then(e=>t(e),e=>{this.getLogger().error(e),r(e)})})}insert(e){return new Promise((t,r)=>{this.getDbService().add(this.getDbStore(),e).then(e=>t(e),e=>{this.getLogger().error(e),r(e)})})}deletePernament(e){return e[this.getEnityKey()]||Object(y.a)("Not found entity primary key from property {"+this.getEnityKey()+"}"),new Promise((t,r)=>{this.getDbService().delete(this.getDbStore(),e[this.getEnityKey()]).then(e=>t(e),e=>{this.getLogger().error(e),r(e)})})}clear(){return new Promise((e,t)=>{this.getDbService().clear(this.getDbStore()).then(()=>e(!0),e=>{this.getLogger().error(e),t(e)})})}getAll(){return new Promise((e,t)=>{this.getDbService().getAll(this.getDbStore()).then(t=>e(t),e=>{this.getLogger().error(e),t(e)})})}insertEntities(e){let t;return t=[],e&&e.length&&e.forEach(e=>t.push(this.insert(e))),this.invokePromises(0,(e,t)=>e+(t>0?1:0),t)}updateEntities(e){let t;return t=[],e&&e.length&&e.forEach(e=>t.push(this.update(e))),this.invokePromises(0,(e,t)=>e+(t>0?1:0),t)}deleteEntities(e){let t;return t=[],e&&e.length&&e.forEach(e=>t.push(this.delete(e))),this.invokePromises(0,(e,t)=>e+(t>0?1:0),t)}deleteEntitiesPernament(e){let t;return t=[],e&&e.length&&e.forEach(e=>t.push(this.deletePernament(e))),this.invokePromises(0,(e,t)=>e+(t>0?1:0),t)}count(){return new Promise((e,t)=>{this.getDbService().count(this.getDbStore()).then(t=>e(t),e=>{this.getLogger().error(e),t(e)})})}invokePromises(e,t,r){return C.sequencePromises(e,t,r)}openCursorByKeyRange(e,t){return this.getDbService().openCursor(this.getDbStore(),e,t)}openCursor(e){return this.getDbService().openCursor(this.getDbStore(),e,void 0)}openCursorByIndex(e,t,r){return this.getDbService().openCursorByIndex(this.getDbStore(),e,t,r)}getAllByIndex(e,t){return new Promise((r,s)=>{this.getDbService().getAllByIndex(this.getDbStore(),e,t).then(e=>r(e),e=>{this.getLogger().error(e),s(e)})})}synchronize(){this.getLogger().debug("Synchronize data...")}}{constructor(e,t,r,s){super(e,t,r,s,"uid")}}class w extends E{constructor(e,t,r,s){super(e,t,r,s),this.deleteExecutor=(e,t,...r)=>{r&&r.length?(this.getLogger().debug("Delete data",r,"First data",r[0]),r[0].deletedAt=(new Date).getTime(),this.updateExecutor.apply(this,[e,t,...r])):e(0)}}saveEntities(e){const t=[],r=[];return(e||[]).forEach(e=>{e.id=e.id||S.oid.generate(),Object(O.isNullOrUndefined)(e.uid)?(e.createdAt=(new Date).getTime(),t.push(e)):(e.updatedAt=(new Date).getTime(),r.push(e))}),C.sequencePromises(0,(e,t)=>e+t,[this.updateEntities(r),this.insertEntities(t)]).then(e=>(this.getLogger().debug("Save entities",e),e),e=>(this.getLogger().error(e),0)).catch(e=>(this.getLogger().error(e),0))}}class T extends w{constructor(e,t,r){super(e,t,r,"EMPTY"),this.deleteExecutor=(e,t,...r)=>{super.getLogger().debug("Call delete entity...."),e(0)},this.updateExecutor=(e,t,...r)=>{super.getLogger().debug("Call insert entity...."),e(0)},e||Object(y.a)("Could not inject IndexDb!"),t||Object(y.a)("Could not inject logger!")}update(e){return new Promise(e=>{super.getLogger().debug("Call update entity...."),e(0)})}getAll(){return new Promise(e=>{super.getLogger().debug("Call get all entities...."),e(null)})}findById(e){return new Promise(e=>{super.getLogger().debug("Call find entity by identity...."),e(null)})}findEntities(e){return new Promise(e=>{super.getLogger().debug("Call find entities by criteria...."),e([])})}}var q=r("jTdg"),A=r("mrSG"),R=r("lJxs"),j=r("JIr8"),P=r("HDdC");class N{static parseResponseJson(e){if(e=this.safeParseJson(e)){let t;t=Object(O.isObject)(e)&&Object.keys(e).length>0,t=t&&Object(O.isObject)(e.status)&&200===e.status.code,t=t&&Object(O.isBoolean)(e.status.success)&&(e.status.success||!1),t=t&&Object(O.isArray)(e.elements)&&Array.from(e.elements).length>0,t&&(e=Array.from(e.elements))}return e}static parseFisrtResponseJson(e){return e=N.parseResponseJson(e),Object(O.isArray)(e)&&(e=Array.from(e).shift()),e}static jsonToInstance(e,t){if(!e)return;let r;return r=this.safeParseJson(e),r?Object.assign(new t,r):void 0}static safeParseJson(e){if(e)try{return JSON.parse("string"==typeof e?e:JSON.stringify(e))}catch(t){return void window.console.error(["Could not parse JSON",e,t])}}}class I{isSuccess(){return this.success}isFailure(){return!this.isSuccess()}getResponse(){return this.response}getData(){return this.getResponse()&&this.getResponse().body?N.parseResponseJson(this.getResponse().body):null}getRedirect(){return this.redirect}setRedirect(e){this.redirect=e}getErrors(){return this.errors}getMessages(){return this.messages}constructor(e,t,r,s,n){this.success=e,this.response=t,this.setRedirect(r),this.errors=s,this.messages=n}}var x=r("QmoS");let D=(()=>{class e{constructor(e,t,r){this.http=e,this.logger=t,this.dbService=r,e||Object(y.a)("Could not inject HttpClient!"),t||Object(y.a)("Could not inject logger!"),t.updateConfig(_),r||this.getLogger().warn("Could not found database service for offline mode!")}getHttp(){return this.http}getLogger(){return this.logger}getDbService(){return this.dbService}setHandleResponseErrorDelegate(e){this.handleResponseErrorDelegate=e}setHandleOfflineModeDelegate(e){this.handleOfflineModeDelegate=e}handleResponseError(e,t,r,s){const n=[];return o.offline&&(r&&r instanceof d.c&&(0===r.status||r.status>500)&&this.getDbService()||r&&!(r instanceof d.c))?"function"==typeof this.handleOfflineModeDelegate?this.handleOfflineModeDelegate.apply(this,[e,t,r,s]):this.handleOfflineMode(e,t,r,s):(n.push(r&&r instanceof d.c&&r.error&&(r.error.error_description||"").length?r.error.error_description:r&&r instanceof d.c&&r.error?r.error:r),Object(f.a)(this.parseResponse(new I(!1,r,(s||{}).redirectFailure,n,[]))))}post(e,t){return this.request(e,"POST",t)}get(e,t){return this.request(e,"GET",t)}del(e,t){return this.request(e,"DELETE",t)}head(e,t){return this.request(e,"HEAD",t)}path(e,t){return this.request(e,"PATH",t)}request(e,t,r){const s=this;return s.getHttp().request(t,e,r).pipe(Object(R.a)(e=>(s.getLogger().debug("Response",e),e)),Object(R.a)(n=>(n instanceof d.h?s.ensureVaidResponse(n,e,t,r):n=new d.h({body:JSON.stringify(n),headers:r&&r.headers instanceof d.e?r.headers:new d.e((r||{}).headers),status:200,url:e}),s.parseResponse(new I(!0,n,(r||{}).redirectSuccess,[],(r||{}).messages)))),Object(j.a)(s.processRequestError(e,t,r)))}ensureVaidResponse(e,t,r,s){if(!e||!e.ok){let r;e&&e.headers?r=e.headers:s&&s.headers instanceof d.e?r=s.headers:s&&s.headers&&(r=new d.e(s.headers)),Object(y.a)(new d.c({error:e?e.body:s?s.body:null,headers:r,status:e?e.status:0,statusText:e?e.statusText:null,url:e?e.url:t}))}}processRequestError(e,t,r){return s=>{this.getLogger().error("Request Error",e,t,r,s);const n="function"==typeof this.handleResponseErrorDelegate?this.handleResponseErrorDelegate(e,t,s,r):this.handleResponseError(e,t,s,r);return n?n.pipe(Object(R.a)(e=>{let t;if(t=[],!Object(O.isArray)(e)&&e?t.push(e):Object(O.isArray)(e)&&(t=t.concat(e)),t&&t.length)return t[0]})):Object(f.a)(void 0)}}}return A.__decorate([Object(x.a)(),A.__metadata("design:type",Function),A.__metadata("design:paramtypes",[String,Object]),A.__metadata("design:returntype",P.a)],e.prototype,"post",null),A.__decorate([Object(x.a)(),A.__metadata("design:type",Function),A.__metadata("design:paramtypes",[String,Object]),A.__metadata("design:returntype",P.a)],e.prototype,"get",null),A.__decorate([Object(x.a)(),A.__metadata("design:type",Function),A.__metadata("design:paramtypes",[String,Object]),A.__metadata("design:returntype",P.a)],e.prototype,"del",null),A.__decorate([Object(x.a)(),A.__metadata("design:type",Function),A.__metadata("design:paramtypes",[String,Object]),A.__metadata("design:returntype",P.a)],e.prototype,"head",null),A.__decorate([Object(x.a)(),A.__metadata("design:type",Function),A.__metadata("design:paramtypes",[String,Object]),A.__metadata("design:returntype",P.a)],e.prototype,"path",null),A.__decorate([Object(x.a)(),A.__metadata("design:type",Function),A.__metadata("design:paramtypes",[String,String,Object]),A.__metadata("design:returntype",P.a)],e.prototype,"request",null),e})();class L extends D{constructor(e,t,r){super(e,t,r)}parseResponse(e){if(e&&e.getResponse()&&e.getResponse().body&&e.getResponse().ok)return N.parseResponseJson(e.getResponse().body)}handleOfflineMode(e,t,r,s){Object(y.a)("Please implement this method if you wanna use offline mode!")}}var U=r("kScs");class M{static base64Encode(e,...t){let r,s;return r=(e||"").length?e:":",s="",t&&t.length&&(s=btoa(t.join(r))),s}static base64Decode(e){return(e||"").length?atob(e):""}static md5Encode(e,...t){let r,s;if(r=(e||"").length?e:":",s=[],t&&t.length){let e;e=new U.Md5,t.forEach(t=>{(t||"").length&&s.push(e.appendStr(t).end().toString())})}return s.join(r)}}const F=function(){const e={headers:{"Content-Type":"application/json; charset=utf-8",Company:"hsg"},login:{code:()=>"API_AUTHORIZATION",name:()=>"app",api:{method:"POST",url:()=>"http://localhost:8082/api-rest-oauth2/service",login:()=>e.login.api.url.call(void 0).concat("/oauth/token?grant_type=client_credentials"),regexUrl:"oauth/**",version:"1.0.0"},client:{icon:{icon:"sign-in",pack:"fa"},url:()=>"/dashboard"}},system:{code:()=>"API_SYSTEM",name:()=>"system.menu.module",api:{method:"POST",url:()=>"http://localhost:8082/api-rest-system/service",login:()=>e.system.api.url.call(void 0).concat("/oauth/token?grant_type=client_credentials"),regexUrl:"system/**",version:"1.0.0"},client:{icon:{icon:"assistive-listening-systems",pack:"fa"},url:()=>"/dashboard/system"},children:{generalSettings:{code:()=>e.system.code.call(void 0).concat("_GENERAL_SETTINGS"),name:()=>"system.general.settings.menu",api:{method:"POST",url:()=>e.system.api.url.call(void 0).concat("/general/settings"),login:()=>e.system.api.login.call(void 0),regexUrl:"system/general/**",version:"1.0.0"},client:{icon:{icon:"wrench",pack:"fa"},url:()=>e.system.client.url.call(void 0).concat("/general/settings")}},organization:{code:()=>e.system.code.call(void 0).concat("_ORGANIZATION"),name:()=>"system.organization.menu",api:{method:"POST",url:()=>e.system.api.url.call(void 0).concat("/organization"),login:()=>e.system.api.login.call(void 0),regexUrl:"system/organization/**",version:"1.0.0"},client:{icon:{icon:"sitemap",pack:"fa"},url:()=>e.system.client.url.call(void 0).concat("/organization")}},user:{code:()=>e.system.code.call(void 0).concat("_USER"),name:()=>"system.user.menu",api:{method:"POST",url:()=>e.system.api.url.call(void 0).concat("/user"),login:()=>e.system.api.login.call(void 0),regexUrl:"system/user/**",version:"1.0.0"},client:{icon:{icon:"users",pack:"fa"},url:()=>e.system.client.url.call(void 0).concat("/user")}},customer:{code:()=>e.system.code.call(void 0).concat("_CUSTOMER"),name:()=>"system.customer.menu",api:{method:"POST",url:()=>e.system.api.url.call(void 0).concat("/customer"),login:()=>e.system.api.login.call(void 0),regexUrl:"system/customer/**",version:"1.0.0"},client:{icon:{icon:"address-card",pack:"fa"},url:()=>e.system.client.url.call(void 0).concat("/customer")}}}},warehouse:{code:()=>"API_WAREHOUSE",name:()=>"warehouse.menu.module",api:{method:"POST",url:()=>"http://localhost:8083/api-rest-warehouse/service",login:()=>e.warehouse.api.url.call(void 0).concat("/oauth/token?grant_type=client_credentials"),regexUrl:"warehouse/**",version:"1.0.0"},client:{icon:{icon:"warehouse",pack:"fas"},url:()=>"/dashboard/warehouse"},children:{settings:{code:()=>e.warehouse.code.call(void 0).concat("_SETTINGS"),name:()=>"warehouse.menu.master",api:{method:"POST",url:()=>e.warehouse.api.url.call(void 0).concat("/settings"),login:()=>e.warehouse.api.login.call(void 0),regexUrl:"warehouse/settings/**",version:"1.0.0"},client:{icon:{icon:"cogs",pack:"fa"},url:()=>e.warehouse.client.url.call(void 0).concat("/settings")},children:{warehouseSettings:{code:()=>e.warehouse.children.settings.code.call(void 0).concat("_GENERAL"),name:()=>"warehouse.settings.menu",api:{method:"POST",url:()=>e.warehouse.children.settings.api.url.call(void 0).concat("/general"),login:()=>e.warehouse.children.settings.api.login.call(void 0),regexUrl:"warehouse/settings/general/**",version:"1.0.0"},client:{icon:{icon:"cog",pack:"fa"},url:()=>e.warehouse.children.settings.client.url.call(void 0).concat("/general")}},warehouseStorage:{code:()=>e.warehouse.children.settings.code.call(void 0).concat("_STORAGE"),name:()=>"warehouse.storage.menu",api:{method:"POST",url:()=>e.warehouse.children.settings.api.url.call(void 0).concat("/storage"),login:()=>e.warehouse.children.settings.api.login.call(void 0),regexUrl:"warehouse/settings/storage/**",version:"1.0.0"},client:{icon:{icon:"archive",pack:"fa"},url:()=>e.warehouse.children.settings.client.url.call(void 0).concat("/storage")}},warehouseCategory:{code:()=>e.warehouse.children.settings.code.call(void 0).concat("_CATEGORY"),name:()=>"warehouse.category.menu",api:{method:"POST",url:()=>e.warehouse.children.settings.api.url.call(void 0).concat("/category"),login:()=>e.warehouse.children.settings.api.login.call(void 0),regexUrl:"warehouse/settings/category/**",version:"1.0.0"},client:{icon:{icon:"bars",pack:"fa"},url:()=>e.warehouse.children.settings.client.url.call(void 0).concat("/category")}},warehouseBatchNo:{code:()=>e.warehouse.children.settings.code.call(void 0).concat("_BATCH_NO"),name:()=>"warehouse.batch_no.menu",api:{method:"POST",url:()=>e.warehouse.children.settings.api.url.call(void 0).concat("/batchno"),login:()=>e.warehouse.children.settings.api.login.call(void 0),regexUrl:"warehouse/settings/batchno/**",version:"1.0.0"},client:{icon:{icon:"clock",pack:"fas"},url:()=>e.warehouse.children.settings.client.url.call(void 0).concat("/batchno")}}}},features:{code:()=>e.warehouse.code.call(void 0).concat("_FEATURES"),name:()=>"warehouse.menu.features",api:{method:"POST",url:()=>e.warehouse.api.url.call(void 0).concat("/features"),login:()=>e.warehouse.api.login.call(void 0),regexUrl:"warehouse/features/**",version:"1.0.0"},client:{icon:{icon:"briefcase",pack:"fas"},url:()=>e.warehouse.client.url.call(void 0).concat("/features")},children:{warehouseItem:{code:()=>e.warehouse.children.features.code.call(void 0).concat("_ITEM"),name:()=>"warehouse.item.menu",api:{method:"POST",url:()=>e.warehouse.children.features.api.url.call(void 0).concat("/item"),login:()=>e.warehouse.children.features.api.login.call(void 0),regexUrl:"warehouse/features/item/**",version:"1.0.0"},client:{icon:{icon:"boxes",pack:"fa"},url:()=>e.warehouse.children.features.client.url.call(void 0).concat("/item")}},warehouseInventory:{code:()=>e.warehouse.children.features.code.call(void 0).concat("_INVENTORY"),name:()=>"warehouse.inventory.menu",api:{method:"POST",url:()=>e.warehouse.children.features.api.url.call(void 0).concat("/inventory"),login:()=>e.warehouse.children.features.api.login.call(void 0),regexUrl:"warehouse/features/inventory/**",version:"1.0.0"},client:{icon:{icon:"truck-loading",pack:"fas"},url:()=>e.warehouse.children.features.client.url.call(void 0).concat("/inventory")}}}}}}};return e}();var H;!function(e){let t;!function(e){let t,r;!function(e){e.NOT_ACTIVATED="common.enum.status.notActivated",e.ACTIVATED="common.enum.status.activated",e.LOCKED="common.enum.status.locked"}(t=e.STATUS||(e.STATUS={})),function(e){e.USD="common.enum.currency.usd",e.VND="common.enum.currency.vnd",e.OTHERS="common.enum.currency.others"}(r=e.CURRENCY||(e.CURRENCY={})),e.MODULE_CODES={SYSTEM:F.system.code.call(void 0),SYSTEM_SETTINGS:F.system.children.generalSettings.code.call(void 0),SYSTEM_USER:F.system.children.user.code.call(void 0),SYSTEM_CUSTOMER:F.system.children.customer.code.call(void 0),SYSTEM_ORGANIZATION:F.system.children.organization.code.call(void 0),WAREHOUSE:F.warehouse.code.call(void 0),WAREHOUSE_SETTINGS:F.warehouse.children.settings.code.call(void 0),WAREHOUSE_SETTINGS_GENERAL:F.warehouse.children.settings.children.warehouseSettings.code.call(void 0),WAREHOUSE_SETTINGS_STORAGE:F.warehouse.children.settings.children.warehouseStorage.code.call(void 0),WAREHOUSE_SETTINGS_CATEGORY:F.warehouse.children.settings.children.warehouseCategory.code.call(void 0),WAREHOUSE_SETTINGS_BATCH:F.warehouse.children.settings.children.warehouseBatchNo.code.call(void 0),WAREHOUSE_FEATURES:F.warehouse.children.features.code.call(void 0),WAREHOUSE_FEATURES_ITEM:F.warehouse.children.features.children.warehouseItem.code.call(void 0),WAREHOUSE_FEATURES_INVENTORY:F.warehouse.children.features.children.warehouseInventory.code.call(void 0)},e.BUILTIN_CODES={STATUS:{code:"STATUS",name:"common.enum.status.name"},CURRENCY:{code:"CURRENCY",name:"common.enum.currency.name"},CUSTOMER_LEVEL:{code:"CUSTOMER_LEVEL",name:"common.enum.customerLevel.name"},CUSTOMER_TYPE:{code:"CUSTOMER_TYPE",name:"common.enum.customerType.name"},ORGANIZATION_TYPE:{code:"ORGANIZATION_TYPE",name:"common.enum.organizationType.name"},WAREHOUSE_SETTINGS_TYPE:{code:"WAREHOUSE_SETTINGS_TYPE",name:"common.enum.warehouseSettingsType.name"},WAREHOUSE_CATEGORY_TYPE:{code:"CATEGORY_TYPE",name:"common.enum.warehouseSettings.category.name"},WAREHOUSE_STORAGE_TYPE:{code:"STORAGE_TYPE",name:"common.enum.warehouseSettings.storage.name"},WAREHOUSE_INVENTORY_TYPE:{code:"INVENTORY_TYPE",name:"common.enum.warehouseSettings.inventory.type.name"},WAREHOUSE_INVENTORY_STATUS:{code:"INVENTORY_STATUS",name:"common.enum.warehouseSettings.inventory.status.name"}}}(t=e.COMMON||(e.COMMON={}))}(H||(H={}));var z=H.COMMON.STATUS;class B extends w{constructor(e,t,r){super(e,t,r,a.user),this.deleteExecutor=(e,t,...r)=>{r&&r.length?(this.getLogger().debug("Delete data",r,"First data",r[0]),(r[0].id||"").length?(r[0].status=z.LOCKED.toString(),this.updateExecutor.apply(this,[e,t,...r])):this.getDbService().deleteRecord(this.getDbStore(),r[0].uid).then(()=>e(1),e=>{this.getLogger().error("Could not delete data",e),t(e)})):e(0)}}}class Y extends L{constructor(e,t,r){super(e,t,r)}}const V="Basic",G="Bearer";class J extends E{constructor(e,t,r){super(e,t,r,a.auth),this.deleteExecutor=(e,t,...r)=>{r&&r.length&&this.getDbService().delete(this.getDbStore(),{id:(r[0].getPayload()||{}).id}).then(()=>e(1),e=>{this.getLogger().error(e),t(e)})}}}class K extends D{constructor(e,t,r){super(e,t,r),r||Object(y.a)("Could not inject authentication database service for offline mode")}setCreateTokenDelegate(e){this.createTokenDelegate=e}parseResponse(e){if(e&&e.isSuccess()&&e.getData())return this.createTokenDelegate.apply(this,[e.getData()])}handleOfflineMode(e,t,r,s){let n;if(n=s&&s.headers?s.headers:void 0,n&&n.has("Authorization")){let t,r;return t=this.getDbService(),r=n.get("Authorization"),this.getLogger().debug("Check authentication",r),C.promiseToObservable(t.getAll().then(t=>{let i;if(t&&t.length){let o;if(o=t.filter(e=>{let t;return t=M.base64Encode(":",e.username||"",e.password||""),t=[V,t].join(" "),r.toLowerCase()===t.toLowerCase()}),o&&o.length){let t,r;t=o[0],r=N.parseFisrtResponseJson(JSON.stringify(t)),delete r.password,i=this.parseResponse(new I(!0,new d.h({body:JSON.stringify(r),headers:n,status:200,url:e}),(s||{}).redirectSuccess,(s||{}).errors,(s||{}).messages))}}return i||(i=this.parseResponse(new I(!1,new d.h({body:"",headers:n,status:401,url:e}),(s||{}).redirectFailure,(s||{}).errors,(s||{}).messages))),i},t=>(this.getLogger().error("Not found any valid token",t),this.parseResponse(new I(!1,new d.h({body:"",headers:n,status:401,url:e}),(s||{}).redirectFailure,(s||{}).errors,(s||{}).messages)))).catch(t=>(this.getLogger().error("Not found any valid token",t),this.parseResponse(new I(!1,new d.h({body:"",headers:n,status:401,url:e}),(s||{}).redirectFailure,(s||{}).errors,(s||{}).messages)))))}return Object(f.a)(void 0)}}var W=r("o0ex"),X=r("xay1"),$=r("njC1"),Q=r("oxKT");class Z extends W.a{constructor(e,t,r){super(),this.httpService=e,this.dbService=t,this.logger=r,this.filterCfg={filters:[],andOperator:!0},this.pagingCfg={page:1},this.sortCfg=[],e||Object(y.a)("Not found HTTP service"),t||Object(y.a)("Not found database service"),r||Object(y.a)("Could not inject logger!"),r.updateConfig(_)}getHttpService(){return this.httpService}getDbService(){return this.dbService}get databaseService(){return this.getDbService()}getLogger(){return this.logger}reset(e=!1){e?(this.filterCfg={filters:[],andOperator:!0},this.sortCfg=[],this.pagingCfg.page=1):(this.setFilter([],!0,!1),this.setSort([],!1),this.setPage(1))}getFilter(){return this.filterCfg}setFilter(e,t,r){return e&&e.length>0?e.forEach(e=>{this.addFilter(e,t,!1)}):this.filterCfg={filters:[],andOperator:!0},this.filterCfg.andOperator=t,this.pagingCfg.page=1,super.setFilter(e,t,r),this}addFilter(e,t=!0,r=!0){e.field&&void 0!==e.search||Object(y.a)("Filter configuration object is not valid");let s=!1;return this.filterCfg.filters.forEach((t,r)=>{t.field===e.field&&(this.filterCfg.filters[r]=e,s=!0)}),s||this.filterCfg.filters.push(e),this.filterCfg.andOperator=t,super.addFilter(e,t,r),this}getSort(){return this.sortCfg}setSort(e,t=!0){return null!==e&&(e.forEach(e=>{e.field&&void 0!==e.direction||Object(y.a)("Sort configuration object is not valid")}),this.sortCfg=e),super.setSort(e,t),this}getPaging(){return this.pagingCfg}setPaging(e,t,r){return this.pagingCfg.page=e,this.pagingCfg.perPage=t,super.setPaging(e,t,r),this}setPage(e,t){this.pagingCfg.page=e,t||(t=(this.pagingCfg.perPage||0)>0),super.setPage(e,t||!1)}prepareData(e){return e=this.filter(e),e=this.sort(e),this.paginate(e)}sort(e){return this.sortCfg&&this.sortCfg.forEach(t=>{e=Q.a.sort(e,t.field,t.direction,t.compare)}),e}filter(e){if(this.filterCfg.filters)if(this.filterCfg.andOperator)this.filterCfg.filters.forEach(t=>{(t.search||"").length&&(e=$.a.filter(e,t.field,t.search,t.filter))});else if(this.filterCfg.filters.length){let t=[];this.filterCfg.filters.forEach(r=>{(r.search||"").length&&(t=t.concat($.a.filter(e,r.field,r.search,r.filter)))}),e=t.filter((e,t,r)=>r.indexOf(e)===t)}return e}paginate(e){return this.pagingCfg&&this.pagingCfg.page&&this.pagingCfg.perPage&&(e=X.a.paginate(e,this.pagingCfg.page,this.pagingCfg.perPage)),e}}class ee extends Z{constructor(e,t,r){super(e,t,r),this.latestCount=0}getAll(){return super.getDbService().getAll().then(this.onFulfilledData(),e=>(this.getLogger().error(e),[])).catch(e=>(this.getLogger().error(e),[]))}getAllByIndex(e,t){return super.getDbService().getAllByIndex(e,t).then(this.onFulfilledData(),e=>(this.getLogger().error(e),[])).catch(e=>(this.getLogger().error(e),[]))}onFulfilledData(){const e=this;return t=>(t=e.filter(t),t=e.sort(t),e.setRecordsNumber((t||[]).length),e.paginate(t))}setRecordsNumber(e){this.latestCount=e||0}getElements(){return this.getAll()}count(){return this.latestCount}update(e,t){return this.getDbService().update(t).then(()=>(this.refresh(),e))}remove(e){return this.getDbService().delete(e).then(()=>(this.refresh(),1))}refresh(){this.getLogger().debug("Refresh data source"),super.refresh()}load(e){return this.getLogger().debug("Load data",e),super.load(e)}prepend(e){return this.append(e)}append(e){return this.getLogger().debug("New data",e),this.getDbService().insert(e).then(()=>(this.refresh(),1))}}class te extends w{constructor(e,t,r){super(e,t,r,a.module)}}class re extends L{constructor(e,t,r){super(e,t,r),r||Object(y.a)("Could not inject user database service for offline mode")}}class se extends ee{constructor(e,t,r){super(e,t,r)}}var ne=r("XoHu");class ie extends g.e{constructor(e,t,r,s,n,i){super(e,t),this.authHttpService=r,this.authDbService=s,this.moduleDbService=n,this.logger=i,this.authenticate=e=>{let t,r,s,n,i,o;return t=this,r=new d.e(this.getOption("login.headers")||{}),s=M.base64Encode(":",e.email||"",M.md5Encode(":",e.password)),r=r.set("Authorization",[V,s].join(" ")),n=this.getOption("login.method"),i=this.getActionEndpoint("login"),o={body:{},headers:r,observe:"response",redirectSuccess:this.getOption("login.redirect.success"),redirectFailure:this.getOption("login.redirect.failure"),errors:this.getOption("login.errors")||[],messages:this.getOption("login.messages")||[]},this.getHttpService().request(i,n,o).pipe(Object(R.a)(e=>!Object(O.isArray)(e)&&e?e:Object(O.isArray)(e)?e[0]:void 0),Object(R.a)(e=>new g.b(!(!e||!Object.keys(e).length),new d.h({body:e&&Object.keys(e).length?e:void 0,status:200,url:i}),e&&Object.keys(e).length?o.redirectSuccess:o.redirectFailure,e&&Object.keys(e).length?[]:o.errors,o.messages,e&&Object.keys(e).length?e:void 0)))},t||Object(y.a)("Could not inject route!"),r||Object(y.a)("Could not inject HttpService!");const o=this;this.authHttpService.setCreateTokenDelegate(e=>o.createToken(e)),s||Object(y.a)("Could not inject IndexedDb!"),i||Object(y.a)("Could not inject logger!"),i.updateConfig(_)}static setup(e){return[ie,e]}getLogger(){return this.logger}getHttpService(){return this.authHttpService}getDbService(){return this.authDbService}getModuleDbService(){return this.moduleDbService}createToken(e,t){const r=N.safeParseJson(e);let s;return r&&r.hasOwnProperty("image")&&delete r.image,s=super.createToken(r,this.getOption("login.failWhenInvalidToken")),this.storeDb(s).then(e=>s=e,e=>this.getLogger().error(e)),s}storeDb(e){return e&&e.getPayload()&&e.isValid()?new Promise((t,r)=>{this.getDbService().clear().then(()=>{this.getDbService().insert(e.getPayload()).then(()=>{this.getModuleDbService().clear().then(()=>{this.getModuleDbService().insertEntities(this.parseModules(e.getPayload())).then(()=>t(e),e=>{this.getLogger().error(e),r(e)})},e=>{this.getLogger().error(e),r(e)})},e=>{this.getLogger().error(e),r(e)})},e=>{this.getLogger().error(e),r(e)})}):new Promise(e=>e(null))}parseModules(e){let t,r,s;return t=[],r=e&&Object(ne.a)(e)&&Object.keys(e).length>0,r?(r=r&&e&&e.hasOwnProperty("rolesGroup"),r=r&&e.rolesGroup&&e.rolesGroup.hasOwnProperty("roles"),r=r&&e.rolesGroup.roles&&Object(O.isArray)(e.rolesGroup.roles),r?(s=e.rolesGroup.roles,s.forEach(e=>{e.module&&t.push(e.module)}),this.getLogger().debug("Modules",t),t):t):t}}var oe=r("eIep");new s.C("Request header name interceptor token");class ae extends g.d{constructor(e,t,r){super(e,r),this._injector=e,this._logger=t,e||Object(y.a)("Could not inject Injector instance"),t||Object(y.a)("Could not inject NGXLogger instance")}getInjector(){return this._injector}get logger(){return this._logger}intercept(e,t){return this.logger.warn("Just remind: Intercept HTTP{"+Reflect.getPrototypeOf(this).constructor.name+"}",e),this.isSupported(e)?this.doIntercept(e,t):t.handle(e)}isSupported(e){return!Object(O.isNullOrUndefined)(e)}}const ce=new s.C("Custom Interceptor Access Token Parameter"),ue=new s.C("Custom Interceptor Company Header Parameter"),de=new s.C("Service Worker VAPID_PUBLIC_KEY to subscribe");var pe=r("tKwJ");r("lnXG");class he{static from(e){if(!e)return;let t;return t=void 0,e.subscribe(e=>t=e),t}static cast(e,t){if(e instanceof t)try{return e}catch(r){}}static createInstanceByType(e){return new e}static createInstance(e){return new e}static createInstanceWithArguments(e,...t){return new e(t)}static fromMap(e){if(e&&!(e.size<=0))return Array.from(e).reduce((e,[t,r])=>Object.assign(e,{[t]:r}),{})}static deepCopy(e){if(null===e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Array){const t=[];return e.forEach(e=>{t.push(e)}),t.map(e=>this.deepCopy(e))}if("object"==typeof e&&e!=={}){const t=Object.assign({},e);return Object.keys(t).forEach(e=>{t[e]=this.deepCopy(t[e])}),t}return e}static ifDefined(...e){for(const t of e)if(t)return t}static propertyExists(e,t){return e&&(e.hasOwnProperty(t)||t in e)}static enumKeys(e){return Object.keys(e).filter(t=>"number"==typeof e[t])}static enumValues(e){return Object.keys(e).filter(t=>"number"==typeof e[t]).map(t=>e[t])}}var le=r("cqWR");class ge{static buildFlatHierarchyItem(e,t,r,s,n){if(!e)return;let i;try{i=t?he.createInstance(t):void 0}catch(o){i=void 0}if(n&&(i=n.apply(this,[e,i])),i||(t?Object(y.a)("Could not create new item by the specified built type {"+t.name+"}"):Object(y.a)("Could not create new item by the specified built type or via `entityMapper` method")),r&&(s||"").length){let e;e=r[s]&&Object(O.isArray)(r[s])?Array.from(r[s]):[],e.push(i),e&&e.length&&(r[s]=e)}return i}static buildFlatToHierarchyTree(e,t,r,s,n,i,o,a){let c,u;return(t||"").length&&(r||"").length||Object(y.a)("Could not build hierarchy that not specify property names to detect child/parent!"),n||a||Object(y.a)("Could not build hierarchy that not specify the built type or `entityMapper` method!"),c=s?s[t]:void 0,u=[],i&&u.push(i),(e||[]).forEach(s=>{let d;(s[r]||"")===(c||"")&&(s[t]||"")!==(c||"")&&(d=ge.buildFlatHierarchyItem(s,n,i,o,a),!i&&u.push(d),this.buildFlatToHierarchyTree(e,t,r,s,n,d,o,a))}),u}static buildHierarchyItem(e,t,r,s,n,i){if(!e)return;let o;try{o=t?he.createInstance(t):void 0}catch(a){o=void 0}if(i&&(o=i.apply(this,[e,o])),o||(t?Object(y.a)("Could not create new item by the specified built type {"+t.name+"}"):Object(y.a)("Could not create new item by the specified built type or via `entityMapper` method")),r&&((s||"").length&&(o[s]=r),(n||"").length)){let e;e=r[n]&&Object(O.isArray)(r[n])?Array.from(r[n]):[],e.push(o),e&&e.length&&(r[n]=e)}return o}static buildHierarchyTree(e,t,r,s,n,i,o){let a;return t||o||Object(y.a)("Could not build hierarchy that not specify the built type or `entityMapper` method!"),a=[],e&&e.length&&e.forEach(e=>{let c;c=ge.buildHierarchyItem(e,t,r,n,i,o),a.push(c),(s||"").length&&Object(O.isArray)(e[s])&&Array.from(e[s]).length&&this.buildHierarchyTree(Array.from(e[s]),t,c,s,n,i,o)}),a}static buildModelTreeview(e,t,r){let s,n;return s=(e,r)=>(r?e&&(r.text=e[t]||"",r.value=e):r=new le.a({checked:!1,collapsed:!0,disabled:!1,text:e[t]||"-",value:e}),r),n=ge.buildFlatToHierarchyTree(e,"id","parentId",void 0,void 0,void 0,"children",s),(n||[]).sort((e,t)=>e.text<t.text?-1:e.text===t.text?0:1),n}}class me extends te{constructor(e,t,r){super(e,t,r)}buildMenu(){return new Promise((e,t)=>{super.getAll().then(t=>{let r;t&&t.length&&(r=class{static buildMenu(e,t,r){let s;return s=(e,t)=>(e&&t&&(t.title=e.name,t.icon=(e.api||{}).icon||e.icon||"",t.link=class{static findClientLink(e){let t;if(t="",!(e||"").length)return t;for(const r of Object.values(F))if(t=this.findClientLinkRecursive(e,r),!Object(O.isNullOrUndefined)(t))break;return t||""}static findClientLinkRecursive(e,t){if(!(e||"").length||!t||!Object(O.isObject)(t))return null;let r,s;if(r="",t.hasOwnProperty("code")&&(r="function"==typeof t.code?t.code.call(void 0):t.code),s=void 0,t.hasOwnProperty("client")&&Object(O.isObject)(t.client)&&t.client.hasOwnProperty("url")&&(s="function"==typeof t.client.url?t.client.url.call(void 0):t.client.url),r===e)return s||"";if(s=void 0,t.hasOwnProperty("children")&&Object(O.isObject)(t.children))for(const[n,i]of Object.entries(t.children))if(s=this.findClientLinkRecursive(e,i),!Object(O.isNullOrUndefined)(s))break;return s}}.findClientLink((e.api||{}).code),t.data=e,t.expanded=!1,t.selected=!1),t),ge.buildHierarchyTree(e,t,r,"children","parent","children",s)}}.buildMenu(t,pe.b)),this.getLogger().debug("Built menu",r),e(r)},e=>{this.getLogger().error(e),t(e)})})}}var ye=r("EApP");const _e={mock:o.mock,theme:"default",logConfig:_,sw:{vapid_public_key:"",base_url:"http://localhost:8089/api-rest-notification/service"},request:{headers:{},timeout:3e5},itemsPerPage:15,baseMenu:[{id:"MENU_ADD",icon:"plus-square",title:"common.contextMenu.add",enabled:!0,visible:!0,divider:!1},{id:"MENU_EDIT",icon:"edit",title:"common.contextMenu.edit",enabled:!0,visible:!0,divider:!1},{id:"MENU_DELETE",icon:"minus-square",title:"common.contextMenu.delete",enabled:!0,visible:!0,divider:!1}],baseToolbarActions:[{id:"ACTION_SAVE",label:"common.form.action.save",type:"button",status:"primary",icon:{icon:"save",pack:"fa"},size:"small",shape:"rectangle"},{id:"ACTION_DELETE",label:"common.form.action.delete",type:"button",status:"danger",icon:{icon:"trash-alt",pack:"fa"},size:"small",shape:"rectangle"},{id:"ACTION_RESET",label:"common.form.action.reset",type:"button",status:"warning",icon:{icon:"redo",pack:"fa"},size:"small",shape:"rectangle"},{id:"ACTION_SEARCH",label:"common.form.action.search",type:"button",status:"primary",icon:{icon:"search",pack:"fas"},size:"small",shape:"rectangle"}],imageFileExtensions:["jpg","jpeg","png","bmp","gif"]};_e.request.headers=Object.assign({},{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"*","Access-Control-Allow-Headers":"*","Service-Worker-Allowed":"*"});class fe extends ee{constructor(e,t,r){super(e,t,r)}}var ve=r("N9/u"),be=r("CG3O"),ke=r("/eNa");class Oe extends w{constructor(e,t,r){super(e,t,r,a.customer)}}class Ce extends L{constructor(e,t,r){super(e,t,r)}}class Se extends ee{constructor(e,t,r){super(e,t,r)}}var Ee=r("TSSN"),we=r("k5Gf");class Te extends w{constructor(e,t,r){super(e,t,r,a.organization),this.deleteExecutor=(e,t,...r)=>{r&&r.length?(this.getLogger().debug("Delete data",r,"First data",r[0]),this.getDbService().deleteRecord(this.getDbStore(),r[0].uid).then(()=>e(1),e=>{this.getLogger().error("Could not delete data",e),t(e)})):e(0)}}}class qe extends L{constructor(e,t,r){super(e,t,r)}}class Ae extends ee{constructor(e,t,r){super(e,t,r)}}var Re=r("cUpR");class je{}class Pe{constructor(e,t,r,s){this.translateService=e,this.logger=t,this._titleService=r,this._metaService=s,t||Object(y.a)("Could not inject NGXLogger"),e||Object(y.a)("Could not inject TranslateService"),r||Object(y.a)("Could not inject Title"),s||Object(y.a)("Could not inject Meta")}get titleService(){return this._titleService=this._titleService||new Re.c(document),this._titleService}set titleService(e){this._titleService=e}get metaService(){return this._metaService=this._metaService||new Re.b(document),this._metaService}set metaService(e){this._metaService=e}getTranslateService(){return this.translateService}getLogger(){return this.logger}getConfig(){return this.config||new je}setConfig(e){e||Object(y.a)("Config must be not undefined"),this.config=e,this.resolve()}resolve(){if(this.getConfig()){if(this.getLogger().debug("Resolve page header",this.titleService,this.metaService,this.getConfig()),this.titleService&&(this.getConfig().title||"").length){let e,t,r;e=this.getTranslateService(),t=[],r=this.getConfig().title,e&&(Object(O.isArray)(r)?Array.from(r).forEach(r=>{t.push(e.instant(r))}):t.push(e.instant(r))),this.getLogger().debug("Translate?",this.getConfig().title," -> ",t.join(" - ")),this.titleService.setTitle(t.join(" - "))}if(this.metaService&&this.getConfig().meta&&this.getConfig().meta.length){let e;e=this.metaService,this.getConfig().meta.forEach(t=>{let r;r=e.getTag(t.id),r?e.updateTag(t,t.id):e.addTag(t)})}}}}class Ne{constructor(e,t,r,s,n){this.moduleService=e,this.router=t,this.toasterService=r,this.translateService=s,this.logger=n,e||Object(y.a)("Could not inject ModuleService"),t||Object(y.a)("Could not inject Router"),r||Object(y.a)("Could not inject ToastrService"),s||Object(y.a)("Could not inject TranslateService"),n||Object(y.a)("Could not inject NGXLogger")}getModuleService(){return this.moduleService}getRouter(){return this.router}getToasterService(){return this.toasterService}getTranslateService(){return this.translateService}getLogger(){return this.logger}canActivateChild(e,t){return this.getModuleService().count().then(e=>((!e||e<=0)&&this.getToasterService().error(this.getTranslateService().instant("common.toast.unknown"),this.getTranslateService().instant("app")),e&&e>0),e=>(this.getLogger().error("ERROR - Check child route activate",t,e),!1)).catch(e=>(this.getLogger().error("ERROR - Check child route activate",t,e),!1))}}class Ie extends w{constructor(e,t,r){super(e,t,r,a.warehouse)}getStoragesByPath(e,t,r){if(!(e||"").length)return this.getAll().then(e=>{t.push(...Array.from(e))});this.openCursor(s=>{const n=s.target.result;r&&n&&!Object(O.isNullOrUndefined)(n.value)&&(n.value.pathCodes||"").length&&(n.value.pathCodes||"").toLowerCase().indexOf(e.toLowerCase())>=0&&t.push(n.value),!r&&n&&!Object(O.isNullOrUndefined)(n.value)&&(n.value.pathIds||"").length&&(n.value.pathIds||"").toLowerCase().indexOf(e.toLowerCase())>=0&&t.push(n.value)})}}class xe extends L{constructor(e,t,r){super(e,t,r)}}class De extends ee{constructor(e,t,r){super(e,t,r)}getStoragesByPath(e,t,r){return this.getDbService().getStoragesByPath(e,t,r)}}class Le extends w{constructor(e,t,r){super(e,t,r,a.warehouse_order)}}class Ue extends L{constructor(e,t,r){super(e,t,r)}}class Me extends ee{constructor(e,t,r){super(e,t,r)}}class Fe extends w{constructor(e,t,r){super(e,t,r,a.warehouse_order_detail)}}class He extends L{constructor(e,t,r){super(e,t,r)}}class ze extends ee{constructor(e,t,r){super(e,t,r)}}class Be extends w{constructor(e,t,r){super(e,t,r,a.warehouse_item)}}class Ye extends L{constructor(e,t,r){super(e,t,r)}}class Ve extends ee{constructor(e,t,r){super(e,t,r)}getAll(){return super.getAllByIndex("is_version",IDBKeyRange.only(0))}save(e){return this.getDbService().saveEntities(e).then(e=>(this.refresh(),e),e=>(this.getLogger().error(e),0)).catch(e=>(this.getLogger().error(e),0))}}class Ge extends w{constructor(e,t,r){super(e,t,r,a.warehouse_inventory)}}class Je extends L{constructor(e,t,r){super(e,t,r)}}class Ke extends ee{constructor(e,t,r){super(e,t,r)}}class We extends w{constructor(e,t,r){super(e,t,r,a.warehouse_inventory_detail)}}class Xe extends L{constructor(e,t,r){super(e,t,r)}}class $e extends ee{constructor(e,t,r){super(e,t,r)}save(e){return this.getDbService().saveEntities(e).then(e=>(this.refresh(),e),e=>(this.getLogger().error(e),0)).catch(e=>(this.getLogger().error(e),0))}}class Qe extends w{constructor(e,t,r){super(e,t,r,a.warehouse_category)}}class Ze extends L{constructor(e,t,r){super(e,t,r)}}class et extends ee{constructor(e,t,r){super(e,t,r)}}class tt extends w{constructor(e,t,r){super(e,t,r,a.warehouse_adjust)}}class rt extends L{constructor(e,t,r){super(e,t,r)}}class st extends ee{constructor(e,t,r){super(e,t,r)}}class nt extends w{constructor(e,t,r){super(e,t,r,a.warehouse_adjust_detail)}}class it extends L{constructor(e,t,r){super(e,t,r)}}class ot extends ee{constructor(e,t,r){super(e,t,r)}}class at extends w{constructor(e,t,r){super(e,t,r,a.country)}}class ct extends L{constructor(e,t,r){super(e,t,r)}}class ut extends ee{constructor(e,t,r){super(e,t,r)}}class dt{constructor(e){this.id=e}}class pt extends dt{constructor(e,t,r){super(e),this.id=e,this.code=t,this.name=r}}const ht={universal:{code:"UNIVERSAL",baseUrl:"https://www.universal-tutorial.com/",api:{token:{email:"hainguyenjc@gmail.com",vapid_public_key:"M70onCyk9pjjPxfwNiM3TyerUYNPGI26ZqBKuqhAP6LmE3Ct2bR91gw8QPg4D5Aom14",tokenUrl:()=>(o.useProxy?"":ht.universal.baseUrl).concat("api/getaccesstoken"),expiredIn:864e5},country:{url:()=>(o.useProxy?"":ht.universal.baseUrl).concat("api/countries"),method:"GET"},province:{url:()=>(o.useProxy?"":ht.universal.baseUrl).concat("api/states"),method:"GET"},city:{url:()=>(o.useProxy?"":ht.universal.baseUrl).concat("api/cities"),method:"GET"}}}};var lt=r("5+tZ");new s.C("Third-party API authorization token configuration");class gt extends Error{constructor(e,t){super(),this._code=e,this._cause=t}get code(){return this._code}get cause(){return this._cause}}class mt extends w{constructor(e,t,r){super(e,t,r,a.third_party),this.deleteExecutor=(e,t,...r)=>(r&&r.length&&(r[0].expiredAt=(new Date).getTime()),super.deleteExecutor(e,t))}getAll(){return super.getAll().then(e=>((e||[]).length&&this._ensureNonExpiredData(...e),e),e=>(this.getLogger().error(e),[]))}findEntities(e,t){return super.findEntities(e,t).then(e=>((e||[]).length&&this._ensureNonExpiredData(...e),e),e=>(this.getLogger().error(e),[]))}findById(e){return super.findById(e).then(e=>(e&&this._ensureNonExpiredData(e),e),e=>(this.getLogger().error(e),null))}_ensureNonExpiredData(...e){const t=new Date;(e||[]).forEach(e=>{e&&0!==e.expiredAt&&new Date(e.expiredAt)>=t&&Object(y.a)(new gt(e.code,new Error("Third party data has been expired!")))})}}let yt=(()=>{class e extends L{constructor(e,t,r,s,n){super(e,t,r),this._secureStorage=s,this.apiConfig=n,n||Object(y.a)("Could not inject third-party API configuration"),(n.code||"").length&&n.token||Object(y.a)("Third-party API configuration code must be not undefined")}get config(){return this.apiConfig}get secureStorage(){return this._secureStorage}generateTokenKey(){return[e.THIRD_PARTY_LATEST_ACCESS_TOKEN,this.config.code].join("_")}get latestToken(){return this.secureStorage.get(this.generateTokenKey())}generateRequiredTokenTimesKey(){return[e.THIRD_PARTY_REQUIRED_TOKEN_TIMES,this.config.code].join("_")}requiredTokenTimes(){const e=this.secureStorage.get(this.generateRequiredTokenTimesKey());return isNaN(e)?1:parseFloat(e)}increaseRequiredTokenTimes(){const e=this.requiredTokenTimes();this.secureStorage.set(this.generateRequiredTokenTimesKey(),e)}resetRequiredTokenTimes(){this.secureStorage.remove(this.generateRequiredTokenTimesKey())}parseResponse(e){if(!(e&&e.getResponse()&&e.getResponse().body&&e.getResponse().ok))return;const t=N.parseResponseJson(e.getResponse().body);return t.code=this.config.code.concat("|",this.apiConfig.token.method||"UNKNOWN","|",e.getResponse().url),Math.max(this.config.token.expiredIn,0)>0&&(t.expiredAt=(new Date).getTime()+this.config.token.expiredIn),t}configHeaders(e){return this.config.tokenParam&&"header"===this.config.tokenParam.type?this.config.tokenParam.values:e}configParams(e){return this.config.tokenParam&&"param"===this.config.tokenParam.type?this.config.tokenParam.values:e}configBody(e){return this.config.tokenParam&&"body"===this.config.tokenParam.type?this.config.tokenParam.values:e}configResponseType(e){return this.config.tokenParam?this.config.tokenParam.responseType:e}configObserve(e){return this.config.tokenParam?this.config.tokenParam.observe:e}handleResponseError(t,r,s,n){const i=this.requiredTokenTimes();return t!==this.config.token.tokenUrl&&i<e.THIRD_PARTY_REQUIRED_TOKEN_TIMES_MAXIMUM&&this.isUnauthorizedOrExpired(s)?(!(this.config.token.tokenUrl||"").length||Object(y.a)("Please provide third-party authorization configuration to require access token!"),this.increaseRequiredTokenTimes(),this.handleUnauthorizedExpired(t,r,n)):super.handleResponseError(t,r,n)}isUnauthorizedOrExpired(e){return!1}handleUnauthorizedExpired(e,t,r,s){let n=he.deepCopy(s||{});n.headers=this.configHeaders(),n.params=this.configParams(),n.body=this.configBody(),n.observe=this.configObserve(),n.responseType=this.configResponseType(),this.config.tokenParam&&"custom"===this.config.tokenParam.type&&(n=this.customAuthorizeRequestOptions(n),n=n||{});const i=this;return i.getHttp().request(i.config.token.method||"GET",i.config.token.tokenUrl,n).pipe(Object(R.a)(e=>(i.getLogger().debug("Access Token Response",e),e)),Object(R.a)(t=>{const r=t;i.ensureVaidResponse(r,i.config.token.tokenUrl,i.config.token.method||"GET",n);const o=i.parseAccessToken(r);return o||Object(y.a)(new d.c({url:e,headers:s.headers,status:401,statusText:"Unauthorized",error:"Token has been expired! But could not require/parse new token again!"})),i.secureStorage.set(this.generateTokenKey(),o),i.resetRequiredTokenTimes(),o}),Object(R.a)(e=>i.updateRequestOptionsBeforeRequest(s)),Object(lt.a)(r=>i.getHttp().request(t,e,r).pipe(Object(R.a)(s=>(s instanceof d.h?i.ensureVaidResponse(s,e,t,r):s=new d.h({body:JSON.stringify(s),headers:r&&r.headers instanceof d.e?r.headers:new d.e((r||{}).headers),status:200,url:e}),i.parseResponse(new I(!0,s,r.redirectSuccess,[],r.messages)))),Object(j.a)(i.processRequestError(e,t,s)))),Object(j.a)(i.processRequestError(e,t,s)))}customAuthorizeRequestOptions(e){return e}parseAccessToken(e){return N.safeParseJson(e instanceof d.h?e.body:e)}processAccessToken(e,t){return t}updateRequestOptionsBeforeRequest(e){return(e=Object.assign({},e||{})).headers=e.headers||{},e.headers instanceof d.e?e.headers.set("X-ThirdParty",this.config.code):e.headers["X-ThirdParty"]=this.config.code,this.processAccessToken(this.latestToken,e)}request(e,t,r){return r=this.updateRequestOptionsBeforeRequest(r=r||{}),super.request(e,t,r)}}return e.THIRD_PARTY_LATEST_ACCESS_TOKEN="XThirdPartyToken",e.THIRD_PARTY_REQUIRED_TOKEN_TIMES="XThirdPartyRequiredToken",e.THIRD_PARTY_REQUIRED_TOKEN_TIMES_MAXIMUM=3,A.__decorate([Object(x.a)(),A.__metadata("design:type",Function),A.__metadata("design:paramtypes",[String,String,Object]),A.__metadata("design:returntype",P.a)],e.prototype,"request",null),e})();class _t{constructor(e){this.parsers=e}}class ft{constructor(e){this._dataPropertyName=e,(e||"").length||Object(y.a)("Please define the property of the returned third-part API data to parse")}get dataPropertyName(){return this._dataPropertyName}parse(e){let t,r;return t=null,e&&(e.response||"").length?(r=N.parseResponseJson(e.response),r&&!Object(O.isArray)(r)&&(r=[r]),Object(O.isArray)(r)&&r.length&&(t=[],r.forEach(e=>{if(e&&e.hasOwnProperty(this.dataPropertyName)&&(e[this.dataPropertyName]||"").length){const r=this.mappingData(e);r&&t.push(r),!r&&window.console.warn(["Could not parse ",e," data from third-party API!"])}})),t):t}}new s.C("Third-party API data parsers definition");let vt=(()=>{class e extends ee{constructor(e,t,r,s){super(e,t,r),this._dataParser=s}dataParser(){return this._dataParser||new _t([])}getAll(){return Object(y.a)(e.EXCEPTION_NOT_SUPPORTED),Promise.reject(e.EXCEPTION_NOT_SUPPORTED)}findData(t,r,s,n){(t||"").length||Object(y.a)(e.EXCEPTION_NOT_SUPPORTED);const i=this,o=[i.getHttpService().config.code,r||"UNKNOWN",t].join("|");return i.getDbService().findEntities(e.INDEX_NAME_THIRD_PARTY_CODE,o).then(e=>(e||[]).length?e:i.getHttpService().request(t,r,n).toPromise().then(e=>(e&&!Object(O.isArray)(e)&&(e=[].concat(e)),i.getDbService().insertEntities(e).then(t=>{let r;if(r=[],s&&i.dataParser()&&i.dataParser().parsers){let t;t=i.getDataParser(s),t&&(e||[]).forEach(e=>{const s=t.parse(e);s&&Object(O.isArray)(s)?r=r.concat(s):s&&r.push(s)})}return e=i.filter(e),e=i.sort(e),i.setRecordsNumber((e||[]).length),e=i.paginate(e),r},e=>(i.getLogger().error(e),[])).catch(e=>(i.getLogger().error(e),[]))),e=>(i.getLogger().error(e),[])).catch(e=>(i.getLogger().error(e),[])),e=>(i.getLogger().error(e),[])).catch(e=>(i.getLogger().error(e),[]))}getDataParser(e){let t;if(t=null,this.dataParser().parsers&&e)for(const r of this.dataParser().parsers)if(r&&r.provide===e){t=r.parser;break}return t}}return e.EXCEPTION_NOT_SUPPORTED="Not support for getting all data because third-party manage data by URL, method and code!",e.INDEX_NAME_THIRD_PARTY_CODE="code",e})(),bt=(()=>{class e extends E{constructor(e,t,r,s){super(e,t,r,"NOT_USING_STORE_BECAUSE_THIS_JUST_BRIDGE_API"),this._thirdPartyApi=s,this.deleteExecutor=(e,t,...r)=>{r&&r.length?(this.getLogger().debug("Delete data",r,"First data",r[0]),r[0].deletedAt=(new Date).getTime(),r[0].expiredAt=(new Date).getTime(),this.updateExecutor.apply(this,[e,t,...r])):e(0)},s||Object(y.a)("Could not inject ThirdPartyApiDatasource instance")}get thirdPartyApi(){return this._thirdPartyApi}getAll(){return Object(y.a)(e.EXCEPTION_PERFORMANCE_REASON),Promise.reject(e.EXCEPTION_PERFORMANCE_REASON)}fetch(t){return t&&t.dbCacheFilter||Object(y.a)(e.EXCEPTION_PERFORMANCE_REASON),t.callApi&&(t.callApi.method||"").length&&("function"==typeof this.thirdPartyApi[t.callApi.method]||this.thirdPartyApi[t.callApi.method]instanceof Promise||this.thirdPartyApi[t.callApi.method]instanceof P.a)||Object(y.a)(e.EXCEPTION_INVALID_API_GATEWAY),this.getDbService().getAllByIndex(t.dbCacheFilter.dbStore,t.dbCacheFilter.indexName,t.dbCacheFilter.criteria).then(e=>{if(!e||Object(O.isArray)(e)&&!(e||[]).length){const e=this.thirdPartyApi[t.callApi.method];let r;return r=e instanceof Promise||e instanceof P.a?e instanceof Promise?e:e.toPromise():new Promise(r=>r(e.apply(this._thirdPartyApi,t.callApi.args))),r.then(t.apiFulfilled,e=>(this.getLogger().error(e),[])).catch(e=>(this.getLogger().error(e),[]))}return e&&!Object(O.isArray)(e)?Array.of(e):e?Array.from(e):e},e=>(this.getLogger().error(e),[])).catch(e=>(this.getLogger().error(e),[]))}}return e.EXCEPTION_PERFORMANCE_REASON="Not support for getting all data because of performance!",e.EXCEPTION_INVALID_API_GATEWAY="Not found the valid API function",e})(),kt=(()=>{class e extends w{constructor(e,t,r,s){super(e,t,r,a.city),this.thirdPartyApiBridge=s,s||Object(y.a)("Could not inject ThirdPartyApiBridgeDbService instance")}getAll(){return Object(y.a)(e.EXCEPTION_PERFORMANCE_REASON),Promise.reject(e.EXCEPTION_PERFORMANCE_REASON)}findByProvince(t){t||Object(y.a)(e.EXCEPTION_PERFORMANCE_REASON);const r=this,s={dbCacheFilter:{dbStore:this.getDbStore(),indexName:e.INDEX_NAME_PROVINCE_ID,criteria:t.id},callApi:{method:e.THIRD_PARTY_ENTRY_METHOD,args:[e.THIRD_PARTY_CITY_URL.concat("/",t.name),e.THIRD_PARTY_CITY_METHOD,pt]},apiFulfilled:e=>{let s;const n={};return s=Object(O.isArray)(e)?e:e?[e]:[],s=s.removeIf(e=>Object(O.isNullOrUndefined)(e)),s.forEach(e=>{e.province_id=t.id;let r=t.code.concat("|",e.code);n.hasOwnProperty(r)?(n[r]=n[r]+1,r=r.concat("|",n[r].toString())):n[r]=1,e.code=r}),r.insertEntities(s).then(e=>s,e=>(r.getLogger().error(e),[])).catch(e=>(r.getLogger().error(e),[]))}};return r.thirdPartyApiBridge.fetch(s)}}return e.EXCEPTION_PERFORMANCE_REASON="Not support for getting all cities because of performance!",e.INDEX_NAME_PROVINCE_ID="province_id",e.THIRD_PARTY_CITY_URL=ht.universal.api.city.url.call(void 0),e.THIRD_PARTY_CITY_METHOD=ht.universal.api.city.method,e.THIRD_PARTY_ENTRY_METHOD="findData",e})();class Ot extends L{constructor(e,t,r){super(e,t,r),r||Object(y.a)("Could not inject user database service for offline mode")}}class Ct extends ee{constructor(e,t,r){super(e,t,r)}findByProvince(e){return super.getDbService().findByProvince(e).then(this.onFulfilledData(),e=>(this.getLogger().error(e),[])).catch(e=>(this.getLogger().error(e),[]))}}class St extends dt{constructor(e,t,r){super(e),this.id=e,this.code=t,this.name=r}}let Et=(()=>{class e extends w{constructor(e,t,r,s){super(e,t,r,a.province),this.thirdPartyApiBridge=s,s||Object(y.a)("Could not inject ThirdPartyApiBridgeDbService instance")}getAll(){return Object(y.a)(e.EXCEPTION_PERFORMANCE_REASON),Promise.reject(e.EXCEPTION_PERFORMANCE_REASON)}findByCountry(t){t||Object(y.a)(e.EXCEPTION_PERFORMANCE_REASON);const r=this,s={dbCacheFilter:{dbStore:this.getDbStore(),indexName:e.INDEX_NAME_COUNTRY_ID,criteria:t.id},callApi:{method:e.THIRD_PARTY_ENTRY_METHOD,args:[e.THIRD_PARTY_STATE_URL.concat("/",t.name),e.THIRD_PARTY_STATE_METHOD,St]},apiFulfilled:e=>{let s;const n={};return s=Object(O.isArray)(e)?e:e?[e]:[],s=s.removeIf(e=>Object(O.isNullOrUndefined)(e)),s.forEach(e=>{e.country_id=t.id;let r=t.code.concat("|",e.code);n.hasOwnProperty(r)?(n[r]=n[r]+1,r=r.concat("|",n[r].toString())):n[r]=1,e.code=r}),r.insertEntities(s).then(e=>s,e=>(r.getLogger().error(e),[])).catch(e=>(r.getLogger().error(e),[]))}};return r.thirdPartyApiBridge.fetch(s)}}return e.EXCEPTION_PERFORMANCE_REASON="Not support for getting all provinces because of performance!",e.INDEX_NAME_COUNTRY_ID="country_id",e.THIRD_PARTY_STATE_URL=ht.universal.api.province.url.call(void 0),e.THIRD_PARTY_STATE_METHOD=ht.universal.api.province.method,e.THIRD_PARTY_ENTRY_METHOD="findData",e})();class wt extends L{constructor(e,t,r){super(e,t,r)}}class Tt extends ee{constructor(e,t,r){super(e,t,r)}findByCountry(e){return super.getDbService().findByCountry(e).then(this.onFulfilledData(),e=>(this.getLogger().error(e),[])).catch(e=>(this.getLogger().error(e),[]))}}class qt extends dt{constructor(e,t){super(e),this.id=e,this.code=t}}class At extends qt{constructor(){super(null,ht.universal.code)}}var Rt=r("jk/G"),jt=r("iLSq");class Pt{constructor(e,t,r,s){this.isCompression=e,this.encodingType=t,this.encryptionSecret=r,this.encryptionNamespace=s}}class Nt{serialize(e){return JSON.stringify(e)}deserialize(e){return N.safeParseJson(e)}}class It{constructor(e,t){this.prefix=e,this.allowNull=t}}const xt=new s.C("Local storage secure encryption configuration"),Dt=new s.C("Local storage configuration"),Lt=new s.C("Local storage serializer/deserializer injection");class Ut extends Rt.a{constructor(e,t,r){super(t||new Nt,r||new It),this._logger=e,this._serializer=t,e||Object(y.a)("Could not inject NGXLogger instance"),t||e.warn("Not inject serializer configuration! The default serializer will be used!"),t=t||new Nt,r||e.warn("Not inject storage configuration! The default configuration will be used!")}get logger(){return this._logger}get serializer(){return this._serializer}}class Mt{constructor(e,t,r,s){this._logger=e,this._serializer=t,this._storageConfig=r,this._secureConfig=s,e||Object(y.a)("Could not inject NGXLogger instance"),s||e.warn("Not inject secure storage configuration! The default configuration will be used!"),s=s||new Pt,this._internalSecuredStorage=new jt({isCompression:s.isCompression,encodingType:s.encodingType,encryptionNamespace:s.encryptionNamespace,encryptionSecret:s.encryptionSecret})}get secureConfig(){return this._secureConfig}get logger(){return this._logger}get serializer(){return this._serializer}get storageConfig(){return this._storageConfig}get internalSecuredStorage(){return this._internalSecuredStorage}_transformKey(e){return(this.storageConfig.prefix||"").concat(e||"")}_revertKey(e){return(e||"").substring((this.storageConfig.prefix||"").length)}getKey(e){const t=this.getAllKeys();return(t||[]).length&&0<=e&&e<t.length?t[e]:void 0}count(){return(this.getAllKeys()||[]).length}get(e,t){const r=this.internalSecuredStorage.get(this._transformKey(e),t);return Object(O.isNullOrUndefined)(r)?r:this.serializer.deserialize(r)}getDataFromLocalStorage(e){const t=this.internalSecuredStorage.getDataFromLocalStorage(this._transformKey(e));return Object(O.isNullOrUndefined)(t)?t:this.serializer.deserialize(t)}set(e,t){(Object(O.isNullOrUndefined)(t)&&this.storageConfig.allowNull||!Object(O.isNullOrUndefined)(t))&&this.internalSecuredStorage.set(this._transformKey(e),Object(O.isNullOrUndefined)(t)?t:this.serializer.serialize(t))}setDataToLocalStorage(e,t){(Object(O.isNullOrUndefined)(t)&&this.storageConfig.allowNull||!Object(O.isNullOrUndefined)(t))&&this.internalSecuredStorage.set(this._transformKey(e),Object(O.isNullOrUndefined)(t)?t:this.serializer.serialize(t))}remove(e){this.internalSecuredStorage.remove(this._transformKey(e))}getEncryptionSecret(){return this.internalSecuredStorage.getEncryptionSecret()}getAllKeys(){const e=this.internalSecuredStorage.getAllKeys();let t;return t=[],(e||[]).forEach(e=>t.push(this._revertKey(e))),t}removeAll(){this.internalSecuredStorage.removeAll()}clear(){this.internalSecuredStorage.clear()}resetAllKeys(){return this.internalSecuredStorage.resetAllKeys()}processData(e,t){return this.internalSecuredStorage.processData(e,t)}setMetaData(){this.internalSecuredStorage.setMetaData()}getMetaData(){return this.internalSecuredStorage.getMetaData()}}const Ft="TokenExpiredError",Ht="JsonWebTokenError",zt={code:ht.universal.code,baseUrl:ht.universal.baseUrl,token:{tokenUrl:ht.universal.api.token.tokenUrl.call(void 0),method:"GET",expiredIn:ht.universal.api.token.expiredIn},tokenParam:{type:"header",values:{"api-token":ht.universal.api.token.vapid_public_key,"user-email":ht.universal.api.token.email}}};class Bt extends mt{constructor(e,t,r){super(e,t,r)}}let Yt=(()=>{class e extends yt{constructor(e,t,r,s){super(e,t,r,s,zt)}parseResponse(e){if(!(e&&e.getResponse()&&e.getResponse().body&&e.getResponse().ok))return;const t=new At;return t.id=t.id||S.oid.generate(),t.code=[this.config.code,this.config.token.method||"UNKNOWN",e.getResponse().url].join("|"),t.response=e.getResponse().body,t}isUnauthorizedOrExpired(e){if(e&&e instanceof d.c&&(500===e.status||401===e.status)){const t=e;if(t.error){const e=N.safeParseJson(t.error);return e&&e.error&&[Ft,Ht].indexOf(e.error.name)>=0}}return super.isUnauthorizedOrExpired(e)}parseAccessToken(t){return(super.parseAccessToken(t)||{})[e.UNIVERSAL_ACCESS_TOKEN_API_PARAMETER_NAME]}processAccessToken(e,t){const r=[G,e||""].join(" ");return(t=t||{}).headers=t.headers||{},t.headers instanceof d.e?t.headers.set("Authorization",r):t.headers.Authorization=r,t}}return e.UNIVERSAL_ACCESS_TOKEN_API_PARAMETER_NAME="auth_token",e})();var Vt=(()=>{class e extends ft{constructor(){super(e.DATA_PROPERTY_PROVINCE_NAME)}mappingData(t){const r=S.oid.generate(),s=t[this.dataPropertyName];return new St(r,s.left(e.PROVINCE_CODE_FROM_NAME_LENGTH),s)}}return e.DATA_PROPERTY_PROVINCE_NAME="state_name",e.PROVINCE_CODE_FROM_NAME_LENGTH=3,e})(),Gt=(()=>{class e extends ft{constructor(){super(e.DATA_PROPERTY_CITY_NAME)}mappingData(t){const r=S.oid.generate(),s=t[this.dataPropertyName];return new St(r,s.left(e.CITY_CODE_FROM_NAME_LENGTH),s)}}return e.DATA_PROPERTY_CITY_NAME="city_name",e.CITY_CODE_FROM_NAME_LENGTH=3,e})();const Jt=[{provide:St,parser:new Vt},{provide:pt,parser:new Gt}],Kt=new class extends _t{constructor(){super(Jt)}};class Wt extends vt{constructor(e,t,r){super(e,t,r,Kt)}}var Xt=r("tS1D");const $t=new s.C("The default request timeout to apply"),Qt=new s.C("The default request header to apply such as CORS");class Zt extends bt{constructor(e,t,r,s){super(e,t,r,s)}}r("NFKh");const er=r("NFKh");class tr extends w{constructor(e,t,r){super(e,t,r,a.warehouse_settings)}}class rr extends L{constructor(e,t,r){super(e,t,r)}}class sr extends ee{constructor(e,t,r){super(e,t,r)}}class nr extends w{constructor(e,t,r){super(e,t,r,a.general_settings)}}class ir extends L{constructor(e,t,r){super(e,t,r)}}class or extends ee{constructor(e,t,r){super(e,t,r)}}class ar{static getElementsBySelector(e,t){if((e||"").length)return(t||document).querySelectorAll(e)}static getClosestElementBySelector(e,t){if(!(e||"").length)return;const r=t||document;return r?r.closest(e):void 0}static getFirstElementBySelector(e,t){let r;return r=this.getElementsBySelector(e,t),r&&r.length?r.item(0):void 0}static getFocusableElements(e){return ar.getElementsBySelector("a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled])",e)}static getFirstFocusableElement(e){let t;return t=this.getFocusableElements(e),t&&t.length?t.item(0):void 0}static preventEvent(e){const t=e;return!t||(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),t.cancelBubble=!0,t.returnValue=!1,!1)}static sibling(e,t,r){let s;return s=e?(t||document.body).nextElementSibling:(t||document.body).previousElementSibling,(r||"").length&&s&&!s.matches(r)?this.sibling(e,s,r):s}static nextSibling(e,t){return this.sibling(!0,e,t)}static previousSibling(e,t){return this.sibling(!1,e,t)}static walk(e,t,r){let s;if(s=this.getElementsBySelector((r||"").length?r:"*"),!t)return s.item(e?0:s.length-1);for(let n=0;n<s.length;n++)if(s.item(n)===t&&(!(r||"").length||s.item(n).matches(r))){if(e&&n<s.length-1)return s.item(n+1);if(!e&&0<n)return s.item(n-1)}}static next(e,t){return this.walk(!0,e,t)}static previous(e,t){return this.walk(!1,e,t)}static getBaseHref(){let e,t;return e=document.getElementsByTagName("base"),t=e&&e.item(0)&&e.item(0).hasAttribute("href")?e.item(0).getAttribute("href"):o.baseHref,(t||"").trimLast("/")}static offset(e){if(Object(O.isNullOrUndefined)(e))return{top:-1,left:-1,width:-1,height:-1};const t=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,s=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+s,left:t.left+r,width:e instanceof HTMLElement?e.offsetWidth:-1,height:e instanceof HTMLElement?e.offsetHeight:-1}}static detectBrowserLanguage(){const e=Object(O.isNullOrUndefined)(navigator)?"":navigator.language||"";return!e.length||e.indexOf("-")<0?e||"":e.substring(0,e.indexOf("-"))}static detectBrowserLanguages(){const e=this.detectBrowserConfigurationLanguages(),t=[];return e.forEach(e=>{const r=!e.length||e.indexOf("-")<0?e:e.substring(0,e.indexOf("-"));r.length&&t.indexOf(r)<0&&t.push(r)}),t}static detectBrowserConfigurationLanguages(){return Object(O.isNullOrUndefined)(navigator)?[]:Array.from(navigator.languages||[])}}class cr extends w{constructor(e,t,r){super(e,t,r,a.warehouse_item)}}class ur extends L{constructor(e,t,r){super(e,t,r)}}class dr extends ee{getDataModel(){return this.dataModel}setDataModel(e){this.dataModel=e,super.reset(!0),super.refresh()}constructor(e,t,r){super(e,t,r)}getAll(){const e=this.dataModel?this.dataModel.code:void 0;return(e||"").length?super.getAllByIndex("item_code",IDBKeyRange.only(e)):Promise.resolve([])}}class pr extends w{constructor(e,t,r){super(e,t,r,a.warehouse_batch_no)}}class hr extends L{constructor(e,t,r){super(e,t,r)}}class lr extends ee{constructor(e,t,r){super(e,t,r)}}class gr{constructor(e,t,r){this._applicationRef=e,this._componentFactoryResolver=t,this._injector=r}get container(){return this._container}get applicationRef(){return this._applicationRef}get componentFactoryResolver(){return this._componentFactoryResolver}get injector(){return this._injector}get rootViewContainer(){if(this.container)return this.container;const e=this.applicationRef._rootComponents;if(e.length)return e[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer.")}set rootViewContainer(e){this._container=e}get rootViewContainerNode(){return this.getComponentRootNode(this.rootViewContainer)}getComponentRootNode(e){return e.hostView.rootNodes[0]}projectComponentInputs(e,t){if(t){const r=Object.getOwnPropertyNames(t);for(const s of r)e.instance[s]=t[s]}return e}appendComponentByFactory(e,t,r={},s=this.rootViewContainerNode){const n=(Object(O.isNullOrUndefined)(e)?this.componentFactoryResolver:e).resolveComponentFactory(t).create(this.injector),i=this.applicationRef,o=this.getComponentRootNode(n);if(this.projectComponentInputs(n,r),i.attachView)i.attachView(n.hostView),n.onDestroy(()=>{i.detachView(n.hostView)});else{const e=n.changeDetectorRef;"function"==typeof i.registerChangeDetector&&"function"==typeof i.unregisterChangeDetector&&(i.registerChangeDetector.apply(i,[e]),n.onDestroy(()=>{i.unregisterChangeDetector.apply(i,[e]),o.parentNode&&o.parentNode.removeChild(o)}))}return s.appendChild(o),n}appendComponent(e,t={},r=this.rootViewContainerNode){return this.appendComponentByFactory(null,e,t,r)}}class mr extends w{constructor(e,t,r){super(e,t,r,a.warehouse_management)}}class yr extends L{constructor(e,t,r){super(e,t,r)}}class _r extends ee{constructor(e,t,r){super(e,t,r)}}class fr{constructor(){this.properties={baseLocation:location.origin,debug:o.mock,concurrentJobs:1},this.workers=new Map,this.findWorker=e=>this.workers.get(e)}startTask(e){const t=new Worker(this.getOrCreateWorkerUrl());return this.workers.set(e.id,t),this.createWorkerObservableForTask(t,e)}pauseTask(e){this.notify(e,"pause",e)}resumeTask(e){this.notify(e,"resume",e)}stopTask(e){this.notify(e,"stop",e)}createWorkerObservableForTask(e,t){return new P.a(r=>{e.addEventListener("message",s=>{const n=s.data||{};n.taskId===t.id&&(r.next(n),"TERMINATED"===n.taskStatus&&(r.complete(),e.terminate()))}),e.addEventListener("error",e=>r.error(e)),this.notify(t.id,"start",t)})}getOrCreateWorkerUrl(){return this.workerURL||(this.workerURL=this.createWorkerUrl()),this.workerURL}notify(e,t,r){this.workers.has(e)&&this.workers.get(e).postMessage({action:t,payload:r})}createWorkerUrl(){const e=`\n            ${this.createWorkerTemplate()}\n            self.addEventListener('message', function(event) {\n                var listener = function ${this.workerListener.toString()};\n                listener(worker, event.data.action, event.data.payload);\n            });`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))}createWorkerTemplate(){return`\n            var config = {\n              properties: {\n                baseLocation: '${this.properties.baseLocation}',\n                debug: ${this.properties.debug},\n                concurrentJobs: ${this.properties.concurrentJobs},\n              },\n              dependencies: {\n                createJobManager: ${class{constructor(){this.pendingJobs=new Map,this.findPendingJob=e=>this.pendingJobs.get(e),this.cancelJob=e=>{const t=this.findPendingJob(e);Object(O.isNullOrUndefined)(t)||(t.canceled=!0,t.deleteOnCancel&&this.pendingJobs.delete(e))},this.performJob=(e,t,r,s)=>{this.pendingJobs.set(e.id,{job:e,timeout:r,deleteOnCancel:s});const n=this.pendingJobs.get(e.id).timeout||1e3,i=window.setTimeout(()=>{t(e,!this.pendingJobs.get(e.id).canceled),window.clearTimeout(i)},n)}}}.toString()},\n                createJobQueue: ${class{constructor(e){this._jobs=e,this.jobs=()=>(this._jobs=Object(O.isNullOrUndefined)(this._jobs)?[]:this._jobs,this._jobs),this.addJobs=(...e)=>{this.jobs().push(...e)},this.getJob=()=>this.jobs().shift(),this.isEmpty=()=>!this.jobs().length}}.toString()},\n              },\n            }\n            var worker = new ${class{constructor(e){this._SCRIPTS=["/assets/workers/base.worker.js"],this.pendingJobs=[],this.start=e=>{console.warn([`START TASK: ${e.id}`,e]),this.task=e,this.progress={totalJobs:e.jobs.length,doneJobs:0,progressPercent:e.jobs.length>0?0:100},this.queue=new this.createUploadQueue(e.jobs),this.changeTaskStatus("PAUSED")},this.pause=e=>{console.warn([`PAUSE TASK: ${e}`]),this.cancelPendingJobs(),this.changeTaskStatus("PAUSED")},this.resume=e=>{console.warn([`RESUME TASK: ${e}`]),this.changeTaskStatus("RUNNING"),this.runTask()},this.stop=e=>{console.warn([`STOP TASK: ${e}`]),this.changeTaskStatus("STOPPED"),this.terminateTask()},this.cancelPendingJobs=()=>{this.pendingJobs.forEach(e=>this.jobManager.cancelJob(e.id))},this.terminateTask=()=>{this.cancelPendingJobs(),this.changeTaskStatus("TERMINATED")},this.runTask=()=>{if(this.task&&"RUNNING"===this.task.status&&this.pendingJobs.length<this.properties.concurrentJobs){if(this.queue.isEmpty()&&!this.pendingJobs.length)return void this.terminateTask();const e=this.queue.getJob();e&&(this.pendingJobs.push(e),this.jobManager.performJob(e,this.jobOver),this.runTask())}},this.jobOver=(e,t)=>{const r=this.pendingJobs.indexOf(e);if(-1!==r&&this.pendingJobs.splice(r,1),!t)return this.queue.addJobs(e),void setTimeout(()=>this.runTask(),100);this.progress.doneJobs++,this.progress.progressPercent=Math.ceil(100*this.progress.doneJobs/this.progress.totalJobs),this.publishMessage(),this.runTask()},this.changeTaskStatus=e=>{this.task&&this.task.status!==e&&(this.task.status=e,this.publishMessage())},this.publishMessage=()=>{postMessage({taskId:this.task.id,taskStatus:this.task.status,progress:this.progress,taskData:this.task.data})},this.properties=e.properties,this.createUploadQueue=e.dependencies.createJobQueue,this.jobManager=new e.dependencies.createJobManager,importScripts(...this._SCRIPTS.map(e=>this.properties.baseLocation.concat(e)))}}.toString()}(config);\n        `}workerListener(e,t,r){switch(t){case"start":e.start(r);break;case"stop":e.stop(r);break;case"resume":e.resume(r);break;case"pause":e.pause(r)}}}var vr=r("3pDu");const br=[].concat([{provide:fr,useClass:fr,deps:[]}]),kr=function(){return{WAREHOUSE_INVENTORY:{script:"",controller:null}}}();kr.WAREHOUSE_INVENTORY.script="./assets/workers/".concat("warehouse/warehouse.inventory/warehouse.inventory.service.worker.js");const Or={enabled:o.mock,registrationStrategy:"registerImmediately"},Cr=[].concat(function(){const e=[];return Object.keys(kr).forEach(t=>{e.push(vr.a.register(kr[t].script,Or))}),e}()),Sr=([].concat(Cr),"hi_system_");function Er(){return new It(Sr,!1)}function wr(){return new Pt(!0,"rc4","s3cr3tPa$$w0rd@h1System","hi-system")}const Tr=new s.C("Application baseHref injection"),qr=document,Ar=[{provide:u.c,useValue:qr},{provide:u.a,useFactory:ar.getBaseHref,deps:[]},{provide:Tr,useFactory:ar.getBaseHref,deps:[]},{provide:de,useValue:_e.sw.vapid_public_key},{provide:s.G,useValue:"vi"},{provide:u.d,useClass:u.d,deps:[]},{provide:d.b,useClass:d.b,deps:[d.d]},{provide:p.c,useClass:p.c,deps:[d.d]},{provide:p.b,useClass:p.b,deps:[d.d]},{provide:W.a,useClass:be.a,deps:[]},{provide:ve.a,useClass:ve.a,deps:[]},{provide:ke.a,useClass:ke.a,deps:[]},{provide:Re.c,useClass:Re.c,deps:[u.c]},{provide:Re.b,useClass:Re.b,deps:[u.c]},{provide:s.u,useClass:class{constructor(e,t,r,s){this.translateService=e,this.toasterService=t,this.logger=r,this.injector=s,e||Object(y.a)("Could not inject TranslateService"),t||Object(y.a)("Could not inject ToastrService"),r||Object(y.a)("Could not inject NGXLogger"),s||Object(y.a)("Could not inject Injector")}getTranslateService(){return this.translateService}getToasterService(){return this.toasterService}getLogger(){return this.logger}getInjector(){return this.injector}handleError(e){const t=this.getInjector().get(u.i),r=e&&e.message?e.message:e?e.toString():"Unknown ERROR!!!",s=t instanceof u.j?t.path():"";window.console.error(["Global error handler",e]),this.getLogger()&&this.getLogger().error("Unexpected Error",{message:r,url:s,error:e}),this.getToasterService()&&this.getToasterService().error(this.getTranslateService().instant("common.toast.unknown"),this.getTranslateService().instant("app"))}},deps:[Ee.b,ye.a,p.a,s.D]},{provide:Dt,useFactory:Er,deps:[]},{provide:xt,useFactory:wr,deps:[]},{provide:Lt,useClass:class{constructor(e){this._logger=e,this._logger||Object(y.a)("Could not inject NGXLogger instance")}get logger(){return this._logger}serialize(e){return M.base64Encode(":",e)}deserialize(e){return M.base64Decode(e)}},deps:[p.a]},{provide:Ut,useClass:Ut,deps:[p.a,Lt,Dt]},{provide:Mt,useClass:Mt,deps:[p.a,Lt,Dt,xt]},{provide:gr,useClass:gr,deps:[s.f,s.o,s.D]}],Rr=[{provide:g.a,useValue:"Authorization"},{provide:ue,useValue:"Company"},{provide:ce,useValue:"access_token"},{provide:d.a,useClass:class extends ae{constructor(e,t,r="Authorization",s="Company",n="access_token"){super(e,t,r),this.headerName=r,this.companyHeaderName=s,this.accessTokenParamName=n}isSupported(e){return super.isSupported(e)&&!this.isThirdPartyRequest(e)}isThirdPartyRequest(e){return e.headers&&e.headers.has("X-ThirdParty")}doIntercept(e,t){return this.authService.getToken().pipe(Object(oe.a)(r=>(r&&r.getValue()&&e&&!e.headers.has(this.headerName)&&!e.headers.hasOwnProperty(this.headerName)&&(e.headers.set(this.headerName,r.getValue()),e.headers.set(this.companyHeaderName,r.getPayload().company),e.params.append(this.accessTokenParamName,r.getValue())),t.handle(e))))}},deps:[s.D,p.a,g.a,ue,ce],multi:!0},{provide:$t,useValue:_e.request.timeout},{provide:d.a,useClass:class extends ae{constructor(e,t,r){super(e,t,null),this._timeout=r}get timeout(){return Math.max(this._timeout,0)}doIntercept(e,t){const r=e.headers.get("timeout")||this.timeout,s=Number(r);return t.handle(e).pipe(Object(Xt.a)(s))}},deps:[s.D,p.a,$t],multi:!0},{provide:Qt,useValue:_e.request.headers},{provide:d.a,useClass:class extends ae{constructor(e,t,r){super(e,t,null),this._headers=r}get headers(){return this._headers}doIntercept(e,t){if(e&&this.headers){let t;t=this.headers instanceof d.e?this.headers:new d.e(this.headers),t.keys().forEach(r=>{e.headers.has(r)||e.headers.set(r,t.get(r))})}return t.handle(e)}},deps:[s.D,p.a,Qt],multi:!0}],jr=[{provide:l,useClass:l,deps:[g.c,m.c]},{provide:te,useClass:te,deps:[q.a,p.a,ke.a]},{provide:re,useClass:re,deps:[d.b,p.a,te]},{provide:se,useClass:se,deps:[re,te,p.a]},{provide:J,useClass:J,deps:[q.a,p.a,ke.a]},{provide:K,useClass:K,deps:[d.b,p.a,B]},{provide:ie,useClass:ie,deps:[d.b,m.a,K,J,te,p.a]}],Pr=[{provide:Bt,useClass:Bt,deps:[q.a,p.a,ke.a]},{provide:Yt,useClass:Yt,deps:[d.b,p.a,Bt,Mt]},{provide:Wt,useClass:Wt,deps:[Yt,Bt,p.a]},{provide:Zt,useClass:Zt,deps:[q.a,p.a,ke.a,Wt]}],Nr=[{provide:Ee.a,useFactory:function(e,t){return e||Object(y.a)("Not found HttpClient to create TranslateHttpLoader"),new we.a(e,(t||"").concat("/assets/i18n/"))},deps:[d.b,u.a]},{provide:Pe,useClass:Pe,deps:[Ee.b,p.a]}],Ir=[{provide:B,useClass:B,deps:[q.a,p.a,ke.a]},{provide:Y,useClass:Y,deps:[d.b,p.a,B]},{provide:fe,useClass:fe,deps:[Y,B,p.a]}],xr=[{provide:Oe,useClass:Oe,deps:[q.a,p.a,ke.a]},{provide:Ce,useClass:Ce,deps:[d.b,p.a,B]},{provide:Se,useClass:Se,deps:[Ce,Oe,p.a]}],Dr=[{provide:nr,useClass:nr,deps:[q.a,p.a,ke.a]},{provide:ir,useClass:ir,deps:[d.b,p.a,nr]},{provide:or,useClass:or,deps:[ir,nr,p.a]}],Lr=[{provide:Te,useClass:Te,deps:[q.a,p.a,ke.a]},{provide:qe,useClass:qe,deps:[d.b,p.a,Te]},{provide:Ae,useClass:Ae,deps:[qe,Te,p.a]}],Ur=[{provide:at,useClass:at,deps:[q.a,p.a,ke.a]},{provide:ct,useClass:ct,deps:[d.b,p.a,at]},{provide:ut,useClass:ut,deps:[ct,at,p.a]},{provide:Et,useClass:Et,deps:[q.a,p.a,ke.a,Zt]},{provide:wt,useClass:wt,deps:[d.b,p.a,Et]},{provide:Tt,useClass:Tt,deps:[wt,Et,p.a]},{provide:kt,useClass:kt,deps:[q.a,p.a,ke.a,Zt]},{provide:Ot,useClass:Ot,deps:[d.b,p.a,kt]},{provide:Ct,useClass:Ct,deps:[Ot,kt,p.a]}],Mr=[{provide:Ie,useClass:Ie,deps:[q.a,p.a,ke.a]},{provide:xe,useClass:xe,deps:[d.b,p.a,Ie]},{provide:De,useClass:De,deps:[xe,Ie,p.a]},{provide:tr,useClass:tr,deps:[q.a,p.a,ke.a]},{provide:rr,useClass:rr,deps:[d.b,p.a,tr]},{provide:sr,useClass:sr,deps:[rr,tr,p.a]},{provide:Le,useClass:Le,deps:[q.a,p.a,ke.a]},{provide:Ue,useClass:Ue,deps:[d.b,p.a,Le]},{provide:Me,useClass:Me,deps:[Ue,Le,p.a]},{provide:Fe,useClass:Fe,deps:[q.a,p.a,ke.a]},{provide:He,useClass:He,deps:[d.b,p.a,Fe]},{provide:ze,useClass:ze,deps:[He,Fe,p.a]},{provide:Be,useClass:Be,deps:[q.a,p.a,ke.a]},{provide:Ye,useClass:Ye,deps:[d.b,p.a,Be]},{provide:Ve,useClass:Ve,deps:[Ye,Be,p.a]},{provide:cr,useClass:cr,deps:[q.a,p.a,ke.a]},{provide:ur,useClass:ur,deps:[d.b,p.a,cr]},{provide:dr,useClass:dr,deps:[ur,cr,p.a]},{provide:Ge,useClass:Ge,deps:[q.a,p.a,ke.a]},{provide:Je,useClass:Je,deps:[d.b,p.a,Ge]},{provide:Ke,useClass:Ke,deps:[Je,Ge,p.a]},{provide:We,useClass:We,deps:[q.a,p.a,ke.a]},{provide:Xe,useClass:Xe,deps:[d.b,p.a,We]},{provide:$e,useClass:$e,deps:[Xe,We,p.a]},{provide:Qe,useClass:Qe,deps:[q.a,p.a,ke.a]},{provide:Ze,useClass:Ze,deps:[d.b,p.a,Qe]},{provide:et,useClass:et,deps:[Ze,Qe,p.a]},{provide:tt,useClass:tt,deps:[q.a,p.a,ke.a]},{provide:rt,useClass:rt,deps:[d.b,p.a,tt]},{provide:st,useClass:st,deps:[rt,tt,p.a]},{provide:nt,useClass:nt,deps:[q.a,p.a,ke.a]},{provide:it,useClass:it,deps:[d.b,p.a,nt]},{provide:ot,useClass:ot,deps:[it,nt,p.a]},{provide:pr,useClass:pr,deps:[q.a,p.a,ke.a]},{provide:hr,useClass:hr,deps:[d.b,p.a,pr]},{provide:lr,useClass:lr,deps:[hr,pr,p.a]},{provide:mr,useClass:mr,deps:[q.a,p.a,ke.a]},{provide:yr,useClass:yr,deps:[d.b,p.a,mr]},{provide:_r,useClass:_r,deps:[yr,mr,p.a]}],Fr=[{provide:me,useClass:me,deps:[q.a,p.a,ke.a]},{provide:Ne,useClass:Ne,deps:[te,m.c,ye.a,Ee.b,p.a]}],Hr=[{provide:T,useClass:T,deps:[q.a,p.a,ke.a]}],zr=[].concat([{provide:s.b,useFactory:()=>e=>{window.console.info(["Bootstrap Listener: Component",e,"Component Instance",e?e.instance:"NULL","Component Title",e&&e.instance?e.instance.title:"NULL"])},deps:[],multi:!0},{provide:s.d,useFactory:()=>()=>new Promise((e,t)=>{window.console.info(["Application Initializer Listener"]),e(!0)}),deps:[],multi:!0}]).concat(Ar).concat(Rr).concat(Pr).concat(jr).concat(Nr).concat(Dr).concat(Lr).concat(Ir).concat(xr).concat(Ur).concat(Mr).concat(Fr).concat(br).concat(Hr),Br={autoDismiss:!0,closeButton:!1,countDuplicates:!0,disableTimeOut:!1,enableHtml:!0,newestOnTop:!0,positionClass:"toast-top-right",preventDuplicates:!0,progressBar:!0,tapToDismiss:!0,timeOut:5e3},Yr={defaultLang:"en",use:"vi",languages:["en","vi"]},Vr=function(){var e={PageConfig:{title:"app"},Injector:void 0,appRef:void 0,viewRef:void 0,COMMON:_e,TOASTER:Br,API:{},Db:c,Providers:zr,Env:o,i18n:Yr,IdGenerators:S,CryptoService:er,Storage:{storageConfig:{},secureConfig:{}},ServiceWorkers:kr};return e.API=Object.assign({},F),e}();Vr.Storage.storageConfig=Object.assign({},Er()),Vr.Storage.secureConfig=Object.assign({},wr());var Gr=r("YL2T"),Jr=r("0fkH");function Kr(e,t){t.forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(r=>{e.prototype[r]||Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(t.prototype,r))})})}o.production&&Object(s.rb)(),Kr(Gr.a,[class{get prototypeName(){return Reflect.getPrototypeOf(this).constructor.name}constructor(){}ngOnChanges(e){window.console.warn(["ComponentLifeCycle","ngOnChanges",this.prototypeName])}ngOnInit(){window.console.warn(["ComponentLifeCycle","ngOnInit",this.prototypeName])}ngDoCheck(){window.console.warn(["ComponentLifeCycle","ngDoCheck",this.prototypeName])}ngAfterContentInit(){window.console.warn(["ComponentLifeCycle","ngAfterContentInit",this.prototypeName])}ngAfterContentChecked(){window.console.warn(["ComponentLifeCycle","ngAfterContentChecked",this.prototypeName])}ngAfterViewInit(){window.console.warn(["ComponentLifeCycle","ngAfterViewInit",this.prototypeName])}ngAfterViewChecked(){window.console.warn(["ComponentLifeCycle","ngAfterViewChecked",this.prototypeName])}ngOnDestroy(){window.console.warn(["ComponentLifeCycle","ngOnDestroy",this.prototypeName])}}]),Kr(Jr.a,[class{constructor(e,t,r,s,n,i,o){this._translateService=e,this._factoryResolver=t,this._viewContainerRef=r,this._changeDetectorRef=s,this._elementRef=n,this._formlyConfig=i,this._injector=o,this.__initialized=!1,this._formlyConfig=this.translateFormConfig(i)}get componentFactoryResolver(){return Object(O.isNullOrUndefined)(this._factoryResolver)&&!Object(O.isNullOrUndefined)(this.injector)&&(this._factoryResolver=this.injector.get(s.o)),this._factoryResolver}set componentFactoryResolver(e){this._factoryResolver=e}get viewContainerRef(){return Object(O.isNullOrUndefined)(this._viewContainerRef)&&!Object(O.isNullOrUndefined)(this.injector)&&(this._viewContainerRef=this.injector.get(s.mb)),this._viewContainerRef}get changeDetectorRef(){return Object(O.isNullOrUndefined)(this._changeDetectorRef)&&!Object(O.isNullOrUndefined)(this.injector)&&(this._changeDetectorRef=this.injector.get(s.j)),this._changeDetectorRef}get elementRef(){return Object(O.isNullOrUndefined)(this._elementRef)&&!Object(O.isNullOrUndefined)(this.injector)&&(this._elementRef=this.injector.get(s.t)),this._elementRef}get injector(){return this._injector}set injector(e){this._injector=e}get translateService(){return Object(O.isNullOrUndefined)(this._translateService)&&!Object(O.isNullOrUndefined)(this.injector)&&(this._translateService=this.injector.get(Ee.b)),this._translateService}get formlyConfig(){return this.__initialized||(this._formlyConfig=this.translateFormConfig(this._formlyConfig),this.__initialized=!0),this._formlyConfig}set formlyConfig(e){this._formlyConfig=e}translate(e,t){return(e||"").length&&this.translateService?t?this.translateService.instant(e,t):this.translateService.instant(e):e}translateFormConfig(e){if(!Object(O.isNullOrUndefined)(e)){const t=this;e["messages:keys"]={};const r=e.messages;Object.keys(r).length&&Object.keys(r).forEach(t=>{r[t]=this.__translateFormValidationMessage(t,r[t],e["messages:keys"])});const s=e.addValidatorMessage;e.addValidatorMessage=(r,n)=>{const i=t.__translateFormValidationMessage(r,n,e["messages:keys"]);s.apply(e,[r,i])};const n=e.getValidatorMessage;e.getValidatorMessage=r=>t.__translateFormValidationMessage(r,n.apply(e,[r]),e["messages:keys"]);const i=e.addConfig;e.addConfig=r=>{(r.validationMessages||[]).forEach(r=>{r.message=t.__translateFormValidationMessage(r.name,r.message,e["messages:keys"])}),i.apply(e,[r])}}return e}__translateFormValidationMessage(e,t,r){if(r=r||{},"function"==typeof t)return(e,r)=>{const s=t.apply(r,[e,r]);return(s||"").length?this.translate(s):""};if("string"==typeof t&&(t||"").length){const s=[e,"key"].join(":");return r.hasOwnProperty(s)||(r[s]=t),this.translate(r[s])}}}]),Object(n.a)().bootstrapModule(class{constructor(e,t){Vr.Injector=s.D.create({providers:Vr.Providers,parent:e}),t.registerFontPack("fa",{packClass:"fa",iconClassPrefix:"fa"}),t.registerFontPack("fas",{packClass:"fas",iconClassPrefix:"fa"}),t.registerFontPack("far",{packClass:"far",iconClassPrefix:"fa"}),t.registerFontPack("ion",{iconClassPrefix:"ion"}),navigator&&"serviceWorker"in navigator&&(console.warn(["Start browser service worker registration",navigator.serviceWorker]),navigator.serviceWorker.getRegistrations().then(e=>{console.warn(["Browser service registration",e]);let t={};!Object(O.isNullOrUndefined)(e)&&Array.from(e).length?Object.keys(kr).forEach(r=>{const s=kr[r];let n=s.script;n.startsWith("./")&&(n=n.right(n.length-2)),!Array.from(e).filter(e=>{const t=!Object(O.isNullOrUndefined)(e.active)&&(e.active.scriptURL||"").length&&e.active.scriptURL.indexOf(n)>=0;return t&&(s.controller=e.active,s.controller.postMessage({type:"environment",environment:o,dbStores:a}),e.update()),t}).length||(t[r]=s)}):t=kr,console.warn(["Need to register service workers",t]),Object.keys(t).forEach(e=>{const r=t[e];(r.script||"").length?navigator.serviceWorker.register(r.script).then(t=>(console.warn([`Register ${e} successfully`,t]),navigator.serviceWorker.ready.then(e=>{r.controller=e.active,r.controller.postMessage({type:"environment",environment:o,dbStores:a})})),t=>{console.error(`Could not register ${e}: ${t}`)}).catch(t=>{console.error(`Could not register ${e}: ${t}`)}):console.warn(`Invalid worker script to register ${e}`)})}))}}).then(e=>window.console.info(["======= MAIN BOOTSTRAP APPLICATION SUCCESSFUL =======",e]),e=>window.console.error(["======= MAIN BOOTSTRAP APPLICATION ERROR =======",e])).catch(e=>window.console.error(["======= MAIN BOOTSTRAP APPLICATION ERROR =======",e]))}},[[0,0,5]]]);