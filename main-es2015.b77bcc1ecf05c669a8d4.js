(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,s){e.exports=s("zUnb")},RnhZ:function(e,t,s){var r={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function n(e){var t=i(e);return s(t)}function i(e){if(!s.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id="RnhZ"},crnd:function(e,t){function s(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}s.keys=function(){return[]},s.resolve=s,e.exports=s,s.id="crnd"},zUnb:function(e,t,s){"use strict";s.r(t);var r=s("8Y7J"),n=s("wAiw");function i(e,t){let s;if(s=[].concat(e||[]),"function"==typeof t){let e;for(e=0;e<s.length;)t.apply(s,[s[e],e])?s.splice(e,1):++e}return s}Array.prototype.removeIf||(Array.prototype.removeIf=function(e){return i(this,e)}),Array.prototype.removeSelfIf||(Array.prototype.removeSelfIf=function(e){const t=i(this,e);this.clear(),this.push(...t||[])}),Array.prototype.remove||(Array.prototype.remove=function(...e){return function(e,...t){let s,r,n;for(s=(t||[]).length;s&&(e||[]).length;)for(n=t[--s];-1!==(r=(e||[]).indexOf(n));)(e||[]).splice(r,1)}(this,...e)}),Array.prototype.clear||(Array.prototype.clear=function(){this.length&&this.splice(0,this.length)}),Array.prototype.first||(Array.prototype.first=function(){return this.length?this[0]:null}),Array.prototype.last||(Array.prototype.last=function(){return this.length?this[this.length-1]:null}),Array.prototype.inject||(Array.prototype.inject=function(e,...t){!function(e,t,...s){let r;r=[],s instanceof Array||"[object Array]"===Object.prototype.toString.call(s)?r=[].concat(s):s&&r.push(s),r.length&&!isNaN(t)&&0<=t&&t<this.length&&(e||[]).splice(t+1,0,...r)}(this,e,...t)}),Array.prototype.unique||(Array.prototype.unique=function(){return function(e){let t;if(t=(e||[]).concat(),(t||[]).length)for(let s=0;s<t.length;s++)for(let e=s+1;e<t.length;e++)t[s]===t[e]&&t.splice(e--,1);return t}(this)}),Array.prototype.contains||(Array.prototype.contains=function(e){return this.length&&this.indexOf(e)>=0}),Array.prototype.diff||(Array.prototype.diff=function(e){return function(e,t){let s,r;s=[],r=(t||[]).concat([]);for(let n=0;n<(e||[]).length;n++)r.contains(e[n])?r.splice(r.indexOf(e[n]),1):s.push(e[n]);for(let n=0;n<r.length;n++)s.contains(r[n])||s.push(r[n]);return s}(this,e)}),Array.prototype.isDiff||(Array.prototype.isDiff=function(e){return function(e,t){let s;if(s=(t||[]).length!==(e||[]).length,!s)for(let r=0;r<(e||[]).length;r++)if(!(t||[]).contains(e[r])){s=!0;break}return s}(this,e)}),String.prototype.left||(String.prototype.left=function(e){return function(e,t){let s;return s=e||"",t=Math.min(s.length,Math.max(t,0)),s.substring(0,t)}(this,e)}),String.prototype.right||(String.prototype.right=function(e){return function(e,t){let s;return s=e||"",t=Math.max(t,0),s.substring(t=t<s.length?s.length-t-1:0,s.length)}(this,e)}),String.prototype.padCenter||(String.prototype.padCenter=function(e,t){return function(e,t,s){let r;return r=e||"",0<=(t=Math.max(t,0))||t<=r.length||!(s||"").length?r:r.padStart((r.length+t)/2,s).padEnd(t,s)}(this,e,t)}),String.prototype.trimLast||(String.prototype.trimLast=function(e){return function(e,t){let s;return s=e||"",s.lastIndexOf(t)>=0?s.substring(0,s.lastIndexOf(t)):s}(this,e)});const o={github:!0,production:!0,databaseName:"HiGithub",offline:!0,baseHref:"https://hainguyen81.github.io/ngx-admin/",useProxy:!1,mock:!0},a={version:1,third_party:"third_party",auth:"auth",module:"module",user:"user",customer:"customer",country:"country",city:"city",province:"province",organization:"organization",general_settings:"general_settings",warehouse:"warehouse",warehouse_item:"warehouse_item",warehouse_order:"warehouse_order",warehouse_order_detail:"warehouse_order_detail",warehouse_inventory:"warehouse_inventory",warehouse_inventory_detail:"warehouse_inventory_detail",warehouse_category:"warehouse_category",warehouse_adjust:"warehouse_adjust",warehouse_adjust_detail:"warehouse_adjust_detail",warehouse_settings:"warehouse_settings",warehouse_batch_no:"warehouse_batch_no",warehouse_management:"warehouse_management"},c={name:o.databaseName,version:a.version,objectStoresMeta:[{store:a.third_party,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"response",keypath:"response",options:{unique:!1}},{name:"expiredAt",keypath:"expiredAt",options:{unique:!1}}]},{store:a.general_settings,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!1}},{name:"name",keypath:"name",options:{unique:!1}},{name:"value",keypath:"value",options:{unique:!1}},{name:"builtin",keypath:"builtin",options:{unique:!1}},{name:"module_id",keypath:"module_id",options:{unique:!1}},{name:"module_code",keypath:"module_code",options:{unique:!1}},{name:"module",keypath:"module",options:{unique:!1}}]},{store:a.auth,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"access_token",keypath:"access_token",options:{unique:!0}},{name:"token_type",keypath:"token_type",options:{unique:!1}},{name:"refresh_token",keypath:"refresh_token",options:{unique:!0}},{name:"expires_in",keypath:"expires_in",options:{unique:!1}},{name:"scope",keypath:"scope",options:{unique:!1}},{name:"company",keypath:"company",options:{unique:!1}},{name:"enterprise",keypath:"enterprise",options:{unique:!1}},{name:"username",keypath:"username",options:{unique:!1}},{name:"firstName",keypath:"firstName",options:{unique:!1}},{name:"lastName",keypath:"lastName",options:{unique:!1}},{name:"email",keypath:"email",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"status",keypath:"status",options:{unique:!1}},{name:"rolesGroupId",keypath:"rolesGroupId",options:{unique:!1}},{name:"rolesGroup",keypath:"rolesGroup",options:{unique:!1}}]},{store:a.module,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"apiId",keypath:"apiId",options:{unique:!0}},{name:"api",keypath:"api",options:{unique:!1}},{name:"children",keypath:"children",options:{unique:!1}}]},{store:a.user,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"scope",keypath:"scope",options:{unique:!1}},{name:"company",keypath:"company",options:{unique:!1}},{name:"enterprise",keypath:"enterprise",options:{unique:!1}},{name:"username",keypath:"username",options:{unique:!0}},{name:"password",keypath:"password",options:{unique:!1}},{name:"firstName",keypath:"firstName",options:{unique:!1}},{name:"lastName",keypath:"lastName",options:{unique:!1}},{name:"email",keypath:"email",options:{unique:!0}},{name:"image",keypath:"image",options:{unique:!0}},{name:"status",keypath:"status",options:{unique:!1}}]},{store:a.customer,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"type",keypath:"type",options:{unique:!1}},{name:"status",keypath:"status",options:{unique:!1}},{name:"level",keypath:"level",options:{unique:!1}},{name:"email",keypath:"email",options:{unique:!0}},{name:"tel",keypath:"tel",options:{unique:!1}},{name:"fax",keypath:"fax",options:{unique:!1}},{name:"website",keypath:"website",options:{unique:!1}},{name:"address",keypath:"address",options:{unique:!1}},{name:"district_id",keypath:"district_id",options:{unique:!1}},{name:"district",keypath:"district",options:{unique:!1}},{name:"city_id",keypath:"city_id",options:{unique:!1}},{name:"city",keypath:"city",options:{unique:!1}},{name:"province_id",keypath:"province_id",options:{unique:!1}},{name:"province",keypath:"province",options:{unique:!1}},{name:"zip_code",keypath:"zip_code",options:{unique:!1}},{name:"country_id",keypath:"country_id",options:{unique:!1}},{name:"country",keypath:"country",options:{unique:!1}},{name:"contact_name",keypath:"contact_name",options:{unique:!1}},{name:"contact_tel",keypath:"contact_tel",options:{unique:!1}},{name:"contact_fax",keypath:"contact_fax",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}}]},{store:a.organization,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"parentId",keypath:"parentId",options:{unique:!1}},{name:"parent",keypath:"parent",options:{unique:!1}},{name:"type",keypath:"type",options:{unique:!1}},{name:"tax",keypath:"tax",options:{unique:!1}},{name:"address",keypath:"address",options:{unique:!1}},{name:"district_id",keypath:"district_id",options:{unique:!1}},{name:"district",keypath:"district",options:{unique:!1}},{name:"city_id",keypath:"city_id",options:{unique:!1}},{name:"city",keypath:"city",options:{unique:!1}},{name:"province_id",keypath:"province_id",options:{unique:!1}},{name:"province",keypath:"province",options:{unique:!1}},{name:"zip_code",keypath:"zip_code",options:{unique:!1}},{name:"country_id",keypath:"country_id",options:{unique:!1}},{name:"country",keypath:"country",options:{unique:!1}},{name:"tel",keypath:"tel",options:{unique:!1}},{name:"fax",keypath:"fax",options:{unique:!1}},{name:"email",keypath:"email",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}},{name:"managerId",keypath:"managerId",options:{unique:!1}},{name:"manager",keypath:"manager",options:{unique:!1}},{name:"contact",keypath:"contact",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"children",keypath:"children",options:{unique:!1}}]},{store:a.warehouse,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"type",keypath:"type",options:{unique:!1}},{name:"street_address",keypath:"street_address",options:{unique:!1}},{name:"district_id",keypath:"district_id",options:{unique:!1}},{name:"district",keypath:"district",options:{unique:!1}},{name:"city_id",keypath:"city_id",options:{unique:!1}},{name:"city",keypath:"city",options:{unique:!1}},{name:"province_id",keypath:"province_id",options:{unique:!1}},{name:"province",keypath:"province",options:{unique:!1}},{name:"country_id",keypath:"country_id",options:{unique:!1}},{name:"country",keypath:"country",options:{unique:!1}},{name:"zip_code",keypath:"zip_code",options:{unique:!1}},{name:"tel",keypath:"tel",options:{unique:!1}},{name:"fax",keypath:"fax",options:{unique:!1}},{name:"email",keypath:"email",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}},{name:"pathCodes",keypath:"pathCodes",options:{unique:!1}},{name:"pathIds",keypath:"pathIds",options:{unique:!1}},{name:"parentId",keypath:"parentId",options:{unique:!1}},{name:"parent",keypath:"parent",options:{unique:!1}},{name:"children",keypath:"children",options:{unique:!1}}]},{store:a.warehouse_item,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!1}},{name:"name",keypath:"name",options:{unique:!1}},{name:"status",keypath:"status",options:{unique:!1}},{name:"barcode",keypath:"barcode",options:{unique:!1}},{name:"serial",keypath:"serial",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"manufacturer",keypath:"manufacturer",options:{unique:!1}},{name:"length",keypath:"length",options:{unique:!1}},{name:"width",keypath:"width",options:{unique:!1}},{name:"height",keypath:"height",options:{unique:!1}},{name:"weight",keypath:"weight",options:{unique:!1}},{name:"size",keypath:"size",options:{unique:!1}},{name:"unit",keypath:"unit",options:{unique:!1}},{name:"rate_per_unit",keypath:"rate_per_unit",options:{unique:!1}},{name:"dealer_price",keypath:"dealer_price",options:{unique:!1}},{name:"cost_price",keypath:"cost_price",options:{unique:!1}},{name:"selling_price",keypath:"selling_price",options:{unique:!1}},{name:"currency",keypath:"currency",options:{unique:!1}},{name:"stock_on_hand",keypath:"stock_on_hand",options:{unique:!1}},{name:"committed_stock",keypath:"committed_stock",options:{unique:!1}},{name:"available_stock",keypath:"available_stock",options:{unique:!1}},{name:"incoming_stock",keypath:"incoming_stock",options:{unique:!1}},{name:"quantity_shipped",keypath:"quantity_shipped",options:{unique:!1}},{name:"quantity_received",keypath:"quantity_received",options:{unique:!1}},{name:"description",keypath:"description",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}},{name:"is_version",keypath:"is_version",options:{unique:!1}},{name:"versions",keypath:"versions",options:{unique:!1}},{name:"item_id",keypath:"item_id",options:{unique:!1}},{name:"item_code",keypath:"item_code",options:{unique:!1}},{name:"item",keypath:"item",options:{unique:!1}},{name:"categories_id",keypath:"categories_id",options:{unique:!1}},{name:"category",keypath:"category",options:{unique:!1}},{name:"brand_id",keypath:"brand_id",options:{unique:!1}},{name:"brand",keypath:"brand",options:{unique:!1}}]},{store:a.warehouse_order,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"order_code",keypath:"order_code",options:{unique:!0}},{name:"order_type",keypath:"order_type",options:{unique:!1}},{name:"sales_person",keypath:"sales_person",options:{unique:!1}},{name:"order_date",keypath:"order_date",options:{unique:!1}},{name:"order_status",keypath:"order_status",options:{unique:!1}},{name:"ship_to_name",keypath:"ship_to_name",options:{unique:!1}},{name:"ship_to_company",keypath:"ship_to_company",options:{unique:!1}},{name:"ship_to_street_address",keypath:"ship_to_street_address",options:{unique:!1}},{name:"ship_to_city",keypath:"ship_to_city",options:{unique:!1}},{name:"ship_to_state_province",keypath:"ship_to_state_province",options:{unique:!1}},{name:"ship_to_zip_code",keypath:"ship_to_zip_code",options:{unique:!1}},{name:"ship_to_country",keypath:"ship_to_country",options:{unique:!1}},{name:"ship_to_tel",keypath:"ship_to_tel",options:{unique:!1}},{name:"ship_to_fax",keypath:"ship_to_fax",options:{unique:!1}},{name:"ship_to_email",keypath:"ship_to_email",options:{unique:!1}},{name:"expected_delivery_date",keypath:"expected_delivery_date",options:{unique:!1}},{name:"shipment_date",keypath:"shipment_date",options:{unique:!1}},{name:"payment_terms",keypath:"payment_terms",options:{unique:!1}},{name:"delivery_method",keypath:"delivery_method",options:{unique:!1}},{name:"sub_total",keypath:"sub_total",options:{unique:!1}},{name:"discount_rate",keypath:"discount_rate",options:{unique:!1}},{name:"discount_amount",keypath:"discount_amount",options:{unique:!1}},{name:"tax_rate",keypath:"tax_rate",options:{unique:!1}},{name:"tax_amount",keypath:"tax_amount",options:{unique:!1}},{name:"shipping_charges",keypath:"shipping_charges",options:{unique:!1}},{name:"other_amount",keypath:"other_amount",options:{unique:!1}},{name:"total",keypath:"total",options:{unique:!1}},{name:"terms_conditions",keypath:"terms_conditions",options:{unique:!1}},{name:"order_remark",keypath:"order_remark",options:{unique:!1}},{name:"file_attach",keypath:"file_attach",options:{unique:!1}},{name:"vendor_id",keypath:"vendor_id",options:{unique:!1}},{name:"vendor",keypath:"vendor",options:{unique:!1}},{name:"customer_id",keypath:"customer_id",options:{unique:!1}},{name:"customer",keypath:"customer",options:{unique:!1}}]},{store:a.warehouse_order_detail,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"quantity",keypath:"quantity",options:{unique:!1}},{name:"unit_price",keypath:"unit_price",options:{unique:!1}},{name:"amount",keypath:"amount",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}},{name:"order_id",keypath:"order_id",options:{unique:!1}},{name:"order",keypath:"order",options:{unique:!1}},{name:"item_id",keypath:"item_id",options:{unique:!1}},{name:"item",keypath:"item",options:{unique:!1}}]},{store:a.warehouse_inventory,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"type",keypath:"type",options:{unique:!1}},{name:"date",keypath:"date",options:{unique:!1}},{name:"reason_for_issuing",keypath:"reason_for_issuing",options:{unique:!1}},{name:"total_amount",keypath:"total_amount",options:{unique:!1}},{name:"deliverer",keypath:"deliverer",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}},{name:"status",keypath:"status",options:{unique:!1}},{name:"file_attach",keypath:"file_attach",options:{unique:!1}},{name:"warehouse_id",keypath:"warehouse_id",options:{unique:!1}},{name:"warehouse_code",keypath:"warehouse",options:{unique:!1}},{name:"warehouse",keypath:"warehouse",options:{unique:!1}},{name:"vendor_customer_id",keypath:"vendor_id",options:{unique:!1}},{name:"vendor_customer_code",keypath:"vendor",options:{unique:!1}},{name:"vendor_customer",keypath:"vendor",options:{unique:!1}}]},{store:a.warehouse_inventory_detail,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"quantity_orders",keypath:"quantity_orders",options:{unique:!1}},{name:"quantity_actually",keypath:"quantity_actually",options:{unique:!1}},{name:"unit_price",keypath:"unit_price",options:{unique:!1}},{name:"amount",keypath:"amount",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}},{name:"batches",keypath:"batches",options:{unique:!1}},{name:"series",keypath:"series",options:{unique:!1}},{name:"storage",keypath:"storage",options:{unique:!1}},{name:"inventory_id",keypath:"inventory_id",options:{unique:!1}},{name:"inventory_code",keypath:"inventory_code",options:{unique:!1}},{name:"inventory",keypath:"inventory",options:{unique:!1}},{name:"item_id",keypath:"item_id",options:{unique:!1}},{name:"item_code",keypath:"item_code",options:{unique:!1}},{name:"item",keypath:"item",options:{unique:!1}}]},{store:a.warehouse_category,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"type",keypath:"type",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}},{name:"parentId",keypath:"parentId",options:{unique:!1}},{name:"parent",keypath:"parent",options:{unique:!1}},{name:"children",keypath:"children",options:{unique:!1}}]},{store:a.warehouse_adjust,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"date",keypath:"date",options:{unique:!1}},{name:"reason",keypath:"reason",options:{unique:!1}},{name:"file_attach",keypath:"file_attach",options:{unique:!1}},{name:"warehouse_id",keypath:"warehouse_id",options:{unique:!1}},{name:"warehouse",keypath:"warehouse",options:{unique:!1}}]},{store:a.warehouse_adjust_detail,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"quanlity",keypath:"quanlity",options:{unique:!1}},{name:"item_id",keypath:"item_id",options:{unique:!1}},{name:"item",keypath:"item",options:{unique:!1}},{name:"adjust_id",keypath:"adjust_id",options:{unique:!1}},{name:"adjust",keypath:"adjust",options:{unique:!1}}]},{store:a.country,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"capital",keypath:"capital",options:{unique:!1}},{name:"region",keypath:"region",options:{unique:!1}},{name:"currency",keypath:"currency",options:{unique:!1}},{name:"language",keypath:"language",options:{unique:!1}},{name:"dial_code",keypath:"dial_code",options:{unique:!1}},{name:"flag",keypath:"flag",options:{unique:!1}}]},{store:a.city,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"zip_code",keypath:"zip_code",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"province_id",keypath:"province_id",options:{unique:!1}},{name:"province",keypath:"province",options:{unique:!1}}]},{store:a.province,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"zip_code",keypath:"zip_code",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"country_id",keypath:"country_id",options:{unique:!1}},{name:"country",keypath:"country",options:{unique:!1}}]},{store:a.warehouse_settings,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"type",keypath:"type",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"order",keypath:"order",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}}]},{store:a.warehouse_batch_no,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"status",keypath:"status",options:{unique:!1}},{name:"mfg_date",keypath:"mfg_date",options:{unique:!1}},{name:"exp_date",keypath:"exp_date",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}}]},{store:a.warehouse_management,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"type",keypath:"type",options:{unique:!1}},{name:"item_id",keypath:"item_id",options:{unique:!1}},{name:"item_code",keypath:"item_code",options:{unique:!1}},{name:"item",keypath:"item",options:{unique:!1}},{name:"warehouse_id",keypath:"warehouse_id",options:{unique:!1}},{name:"warehouse_code",keypath:"warehouse_code",options:{unique:!1}},{name:"warehouse",keypath:"warehouse",options:{unique:!1}},{name:"object_id",keypath:"object_id",options:{unique:!1}},{name:"object_code",keypath:"object_code",options:{unique:!1}},{name:"object",keypath:"object",options:{unique:!1}},{name:"quantity",keypath:"quantity",options:{unique:!1}}]}],migrationFactory:function(){return{1:(e,t)=>{const s=t.objectStore(a.customer);s.createIndex("__customer_index_by_type_code",["type","code"],{unique:!0}),s.createIndex("__customer_index_by_type",["type"],{unique:!1});const r=t.objectStore(a.general_settings);r.createIndex("__general_settings_index_by_id",["id","module_id","code"],{unique:!0}),r.createIndex("__general_settings_index_by_code",["id","module_code","code"],{unique:!0}),r.createIndex("__general_settings_index_by_module_code",["module_code","code"],{unique:!1});const n=t.objectStore(a.warehouse_item);n.createIndex("__warehouse_item_index_by_id",["id","item_id"],{unique:!0}),n.createIndex("__warehouse_item_index_by_code",["code","item_code"],{unique:!0});const i=t.objectStore(a.warehouse_inventory_detail);i.createIndex("__warehouse_inv_detail_index_by_id",["id","inventory_id"],{unique:!0}),i.createIndex("__warehouse_inv_detail_index_by_inventory_id",["inventory_id"],{unique:!1}),i.createIndex("__warehouse_inv_detail_index_by_inventory_code",["inventory_code"],{unique:!1});const o=t.objectStore(a.warehouse_management);o.createIndex("__whman_index_by_id",["warehouse_id","item_id","object_id"],{unique:!0}),o.createIndex("__whman_index_by_code",["warehouse_code","item_code"],{unique:!1}),o.createIndex("__whman_object_item_index_by_code",["warehouse_code","object_code","item_code"],{unique:!1}),o.createIndex("__whman_object_index_by_code",["warehouse_code","object_code"],{unique:!1})}}}};var u=s("SVse"),d=s("IheW"),l=s("P4hB"),p=s("vkgz");class h{getAuthService(){return this.authService}getRouter(){return this.router}constructor(e,t){this.authService=e,this.router=t}canActivate(){return this.getAuthService().isAuthenticated().pipe(Object(p.a)(e=>{e||this.getRouter().navigate(["auth/login"])}))}}var g=s("QQUL"),m=s("iInd"),y=s("z6cu");const f={level:l.d.DEBUG,serverLogLevel:l.d.OFF,disableConsoleLogging:!1};var _=s("LRne"),v=s("Cfvw"),b=s("7+OI"),k=s("c2HN"),O=s("MCLT");class C{static promiseToObservable(e){return e&&Object(k.a)(e)?Object(v.a)(e.then(e=>e)):Object(_.a)(null)}static sequencePromises(e,t,s){if(!s||!s.length)return Promise.resolve(e);let r;return r=e,s.reduce((s,n,i)=>s.then(e=>(r=t?t(r,e):e,n.then(e=>Promise.resolve(t?t(r,e):r)).catch(e=>Promise.resolve(r)))).catch(t=>Promise.resolve(e)),Promise.resolve(e))}static parallelPromises(e,t,s){return s&&s.length?Promise.all(s).then(s=>{let r;return r=e,t&&(s||[]).forEach(e=>r=t(r,e)),r}).catch(t=>e):Promise.resolve(e)}static unsubscribe(e){if(!Object(O.isNullOrUndefined)(e)&&Object(b.a)(e)){let s;if(s=e.hasOwnProperty("closed")&&e.closed||!1,!s&&"function"==typeof e.unsubscribe)try{e.unsubscribe.apply(e)}catch(t){window.console.warn(["Could not unsubscribe",t])}}}}const S={uuid:{v1:s("xDdU"),v3:s("MsAC"),v4:s("xk4V"),v5:s("a6Ml")},oid:s("Gppw")};class j extends class{constructor(e,t,s,r,n){this.dbService=e,this.logger=t,this.connectionService=s,this.dbStore=r,this.entityKey=n,this.updateExecutor=(e,t,...s)=>{s&&s.length?(this.getLogger().debug("Update data",s,"First data",s[0]),this.getDbService().update(this.getDbStore(),s[0]).then(()=>e(1),e=>{this.getLogger().error("Could not update data",e),t(e)})):e(0)},e||Object(y.a)("Could not inject IndexDb!"),t||Object(y.a)("Could not inject logger!"),s||Object(y.a)("Could not inject connection service!"),(r||"").length||Object(y.a)("Database store name must be not empty!"),(n||"").length||Object(y.a)("Database entity key property must be not empty!"),t.updateConfig(f),s.monitor().subscribe(e=>{e?this.synchronize():this.getLogger().warn("Not found internet connection to synchronize offline data")})}getDbService(){return this.dbService}getConnectionService(){return this.connectionService}getDbStore(){return this.dbStore}getEnityKey(){return this.entityKey}getLogger(){return this.logger}delete(e){const t=this;return new Promise((s,r)=>{this.deleteExecutor.apply(t,[s,r,e])})}update(e){const t=this;return new Promise((s,r)=>{this.updateExecutor.apply(t,[s,r,e])})}findEntities(e,t){return t?new Promise((s,r)=>{this.getDbService().getByIndex(this.getDbStore(),e,t).then(e=>s(e),e=>{this.getLogger().error(e),r(e)})}):this.getAll()}findById(e){return new Promise((t,s)=>{this.getDbService().getByIndex(this.getDbStore(),"id",e).then(e=>t(e),e=>{this.getLogger().error(e),s(e)})})}insert(e){return new Promise((t,s)=>{this.getDbService().add(this.getDbStore(),e).then(e=>t(e),e=>{this.getLogger().error(e),s(e)})})}deletePernament(e){return e[this.getEnityKey()]||Object(y.a)("Not found entity primary key from property {"+this.getEnityKey()+"}"),new Promise((t,s)=>{this.getDbService().delete(this.getDbStore(),e[this.getEnityKey()]).then(e=>t(e),e=>{this.getLogger().error(e),s(e)})})}clear(){return new Promise((e,t)=>{this.getDbService().clear(this.getDbStore()).then(()=>e(!0),e=>{this.getLogger().error(e),t(e)})})}getAll(){return new Promise((e,t)=>{this.getDbService().getAll(this.getDbStore()).then(t=>e(t),e=>{this.getLogger().error(e),t(e)})})}insertEntities(e){let t;return t=[],e&&e.length&&e.forEach(e=>t.push(this.insert(e))),this.invokePromises(0,(e,t)=>e+(t>0?1:0),t)}updateEntities(e){let t;return t=[],e&&e.length&&e.forEach(e=>t.push(this.update(e))),this.invokePromises(0,(e,t)=>e+(t>0?1:0),t)}deleteEntities(e){let t;return t=[],e&&e.length&&e.forEach(e=>t.push(this.delete(e))),this.invokePromises(0,(e,t)=>e+(t>0?1:0),t)}deleteEntitiesPernament(e){let t;return t=[],e&&e.length&&e.forEach(e=>t.push(this.deletePernament(e))),this.invokePromises(0,(e,t)=>e+(t>0?1:0),t)}count(){return new Promise((e,t)=>{this.getDbService().count(this.getDbStore()).then(t=>e(t),e=>{this.getLogger().error(e),t(e)})})}invokePromises(e,t,s){return C.sequencePromises(e,t,s)}openCursorByKeyRange(e,t){return this.getDbService().openCursor(this.getDbStore(),e,t)}openCursor(e){return this.getDbService().openCursor(this.getDbStore(),e,void 0)}openCursorByIndex(e,t,s){return this.getDbService().openCursorByIndex(this.getDbStore(),e,t,s)}getAllByIndex(e,t){return new Promise((s,r)=>{this.getDbService().getAllByIndex(this.getDbStore(),e,t).then(e=>s(e),e=>{this.getLogger().error(e),r(e)})})}synchronize(){this.getLogger().debug("Synchronize data...")}}{constructor(e,t,s,r){super(e,t,s,r,"uid")}}class w extends j{constructor(e,t,s,r){super(e,t,s,r),this.deleteExecutor=(e,t,...s)=>{s&&s.length?(this.getLogger().debug("Delete data",s,"First data",s[0]),s[0].deletedAt=(new Date).getTime(),this.updateExecutor.apply(this,[e,t,...s])):e(0)}}saveEntities(e){const t=[],s=[];return(e||[]).forEach(e=>{e.id=e.id||S.oid.generate(),Object(O.isNullOrUndefined)(e.uid)?(e.createdAt=(new Date).getTime(),t.push(e)):(e.updatedAt=(new Date).getTime(),s.push(e))}),C.sequencePromises(0,(e,t)=>e+t,[this.updateEntities(s),this.insertEntities(t)]).then(e=>(this.getLogger().debug("Save entities",e),e),e=>(this.getLogger().error(e),0)).catch(e=>(this.getLogger().error(e),0))}}class E extends w{constructor(e,t,s){super(e,t,s,"EMPTY"),this.deleteExecutor=(e,t,...s)=>{super.getLogger().debug("Call delete entity...."),e(0)},this.updateExecutor=(e,t,...s)=>{super.getLogger().debug("Call insert entity...."),e(0)},e||Object(y.a)("Could not inject IndexDb!"),t||Object(y.a)("Could not inject logger!")}update(e){return new Promise(e=>{super.getLogger().debug("Call update entity...."),e(0)})}getAll(){return new Promise(e=>{super.getLogger().debug("Call get all entities...."),e(null)})}findById(e){return new Promise(e=>{super.getLogger().debug("Call find entity by identity...."),e(null)})}findEntities(e){return new Promise(e=>{super.getLogger().debug("Call find entities by criteria...."),e([])})}}var T=s("jTdg"),R=s("mrSG"),A=s("lJxs"),q=s("JIr8"),P=s("HDdC");class N{static parseResponseJson(e){if(e=this.safeParseJson(e)){let t;t=Object(O.isObject)(e)&&Object.keys(e).length>0,t=t&&Object(O.isObject)(e.status)&&200===e.status.code,t=t&&Object(O.isBoolean)(e.status.success)&&(e.status.success||!1),t=t&&Object(O.isArray)(e.elements)&&Array.from(e.elements).length>0,t&&(e=Array.from(e.elements))}return e}static parseFisrtResponseJson(e){return e=N.parseResponseJson(e),Object(O.isArray)(e)&&(e=Array.from(e).shift()),e}static jsonToInstance(e,t){if(!e)return;let s;return s=this.safeParseJson(e),s?Object.assign(new t,s):void 0}static safeParseJson(e){if(e)try{return JSON.parse("string"==typeof e?e:JSON.stringify(e))}catch(t){return void window.console.error(["Could not parse JSON",e,t])}}}class I{isSuccess(){return this.success}isFailure(){return!this.isSuccess()}getResponse(){return this.response}getData(){return this.getResponse()&&this.getResponse().body?N.parseResponseJson(this.getResponse().body):null}getRedirect(){return this.redirect}setRedirect(e){this.redirect=e}getErrors(){return this.errors}getMessages(){return this.messages}constructor(e,t,s,r,n){this.success=e,this.response=t,this.setRedirect(s),this.errors=r,this.messages=n}}var x=s("QmoS");let D=(()=>{class e{constructor(e,t,s){this.http=e,this.logger=t,this.dbService=s,e||Object(y.a)("Could not inject HttpClient!"),t||Object(y.a)("Could not inject logger!"),t.updateConfig(f),s||this.getLogger().warn("Could not found database service for offline mode!")}getHttp(){return this.http}getLogger(){return this.logger}getDbService(){return this.dbService}setHandleResponseErrorDelegate(e){this.handleResponseErrorDelegate=e}setHandleOfflineModeDelegate(e){this.handleOfflineModeDelegate=e}handleResponseError(e,t,s,r){const n=[];return o.offline&&(s&&s instanceof d.c&&(0===s.status||s.status>500)&&this.getDbService()||s&&!(s instanceof d.c))?"function"==typeof this.handleOfflineModeDelegate?this.handleOfflineModeDelegate.apply(this,[e,t,s,r]):this.handleOfflineMode(e,t,s,r):(n.push(s&&s instanceof d.c&&s.error&&(s.error.error_description||"").length?s.error.error_description:s&&s instanceof d.c&&s.error?s.error:s),Object(_.a)(this.parseResponse(new I(!1,s,(r||{}).redirectFailure,n,[]))))}post(e,t){return this.request(e,"POST",t)}get(e,t){return this.request(e,"GET",t)}del(e,t){return this.request(e,"DELETE",t)}head(e,t){return this.request(e,"HEAD",t)}path(e,t){return this.request(e,"PATH",t)}request(e,t,s){const r=this;return r.getHttp().request(t,e,s).pipe(Object(A.a)(e=>(r.getLogger().debug("Response",e),e)),Object(A.a)(n=>(n instanceof d.h?r.ensureVaidResponse(n,e,t,s):n=new d.h({body:JSON.stringify(n),headers:s&&s.headers instanceof d.e?s.headers:new d.e((s||{}).headers),status:200,url:e}),r.parseResponse(new I(!0,n,(s||{}).redirectSuccess,[],(s||{}).messages)))),Object(q.a)(r.processRequestError(e,t,s)))}ensureVaidResponse(e,t,s,r){if(!e||!e.ok){let s;e&&e.headers?s=e.headers:r&&r.headers instanceof d.e?s=r.headers:r&&r.headers&&(s=new d.e(r.headers)),Object(y.a)(new d.c({error:e?e.body:r?r.body:null,headers:s,status:e?e.status:0,statusText:e?e.statusText:null,url:e?e.url:t}))}}processRequestError(e,t,s){return r=>{this.getLogger().error("Request Error",e,t,s,r);const n="function"==typeof this.handleResponseErrorDelegate?this.handleResponseErrorDelegate(e,t,r,s):this.handleResponseError(e,t,r,s);return n?n.pipe(Object(A.a)(e=>{let t;if(t=[],!Object(O.isArray)(e)&&e?t.push(e):Object(O.isArray)(e)&&(t=t.concat(e)),t&&t.length)return t[0]})):Object(_.a)(void 0)}}}return R.__decorate([Object(x.a)(),R.__metadata("design:type",Function),R.__metadata("design:paramtypes",[String,Object]),R.__metadata("design:returntype",P.a)],e.prototype,"post",null),R.__decorate([Object(x.a)(),R.__metadata("design:type",Function),R.__metadata("design:paramtypes",[String,Object]),R.__metadata("design:returntype",P.a)],e.prototype,"get",null),R.__decorate([Object(x.a)(),R.__metadata("design:type",Function),R.__metadata("design:paramtypes",[String,Object]),R.__metadata("design:returntype",P.a)],e.prototype,"del",null),R.__decorate([Object(x.a)(),R.__metadata("design:type",Function),R.__metadata("design:paramtypes",[String,Object]),R.__metadata("design:returntype",P.a)],e.prototype,"head",null),R.__decorate([Object(x.a)(),R.__metadata("design:type",Function),R.__metadata("design:paramtypes",[String,Object]),R.__metadata("design:returntype",P.a)],e.prototype,"path",null),R.__decorate([Object(x.a)(),R.__metadata("design:type",Function),R.__metadata("design:paramtypes",[String,String,Object]),R.__metadata("design:returntype",P.a)],e.prototype,"request",null),e})();class L extends D{constructor(e,t,s){super(e,t,s)}parseResponse(e){if(e&&e.getResponse()&&e.getResponse().body&&e.getResponse().ok)return N.parseResponseJson(e.getResponse().body)}handleOfflineMode(e,t,s,r){Object(y.a)("Please implement this method if you wanna use offline mode!")}}var U=s("kScs");class M{static base64Encode(e,...t){let s,r;return s=(e||"").length?e:":",r="",t&&t.length&&(r=btoa(t.join(s))),r}static base64Decode(e){return(e||"").length?atob(e):""}static md5Encode(e,...t){let s,r;if(s=(e||"").length?e:":",r=[],t&&t.length){let e;e=new U.Md5,t.forEach(t=>{(t||"").length&&r.push(e.appendStr(t).end().toString())})}return r.join(s)}}const F=function(){const e={headers:{"Content-Type":"application/json; charset=utf-8",Company:"hsg"},login:{code:()=>"API_AUTHORIZATION",name:()=>"app",api:{method:"POST",url:()=>"http://localhost:8082/api-rest-oauth2/service",login:()=>e.login.api.url.call(void 0).concat("/oauth/token?grant_type=client_credentials"),regexUrl:"oauth/**",version:"1.0.0"},client:{icon:{icon:"sign-in",pack:"fa"},url:()=>"/dashboard"}},system:{code:()=>"API_SYSTEM",name:()=>"system.menu.module",api:{method:"POST",url:()=>"http://localhost:8082/api-rest-system/service",login:()=>e.system.api.url.call(void 0).concat("/oauth/token?grant_type=client_credentials"),regexUrl:"system/**",version:"1.0.0"},client:{icon:{icon:"assistive-listening-systems",pack:"fa"},url:()=>"/dashboard/system"},children:{generalSettings:{code:()=>e.system.code.call(void 0).concat("_GENERAL_SETTINGS"),name:()=>"system.general.settings.menu",api:{method:"POST",url:()=>e.system.api.url.call(void 0).concat("/general/settings"),login:()=>e.system.api.login.call(void 0),regexUrl:"system/general/**",version:"1.0.0"},client:{icon:{icon:"wrench",pack:"fa"},url:()=>e.system.client.url.call(void 0).concat("/general/settings")}},organization:{code:()=>e.system.code.call(void 0).concat("_ORGANIZATION"),name:()=>"system.organization.menu",api:{method:"POST",url:()=>e.system.api.url.call(void 0).concat("/organization"),login:()=>e.system.api.login.call(void 0),regexUrl:"system/organization/**",version:"1.0.0"},client:{icon:{icon:"sitemap",pack:"fa"},url:()=>e.system.client.url.call(void 0).concat("/organization")}},user:{code:()=>e.system.code.call(void 0).concat("_USER"),name:()=>"system.user.menu",api:{method:"POST",url:()=>e.system.api.url.call(void 0).concat("/user"),login:()=>e.system.api.login.call(void 0),regexUrl:"system/user/**",version:"1.0.0"},client:{icon:{icon:"users",pack:"fa"},url:()=>e.system.client.url.call(void 0).concat("/user")}},customer:{code:()=>e.system.code.call(void 0).concat("_CUSTOMER"),name:()=>"system.customer.menu",api:{method:"POST",url:()=>e.system.api.url.call(void 0).concat("/customer"),login:()=>e.system.api.login.call(void 0),regexUrl:"system/customer/**",version:"1.0.0"},client:{icon:{icon:"address-card",pack:"fa"},url:()=>e.system.client.url.call(void 0).concat("/customer")}}}},warehouse:{code:()=>"API_WAREHOUSE",name:()=>"warehouse.menu.module",api:{method:"POST",url:()=>"http://localhost:8083/api-rest-warehouse/service",login:()=>e.warehouse.api.url.call(void 0).concat("/oauth/token?grant_type=client_credentials"),regexUrl:"warehouse/**",version:"1.0.0"},client:{icon:{icon:"warehouse",pack:"fas"},url:()=>"/dashboard/warehouse"},children:{settings:{code:()=>e.warehouse.code.call(void 0).concat("_SETTINGS"),name:()=>"warehouse.menu.master",api:{method:"POST",url:()=>e.warehouse.api.url.call(void 0).concat("/settings"),login:()=>e.warehouse.api.login.call(void 0),regexUrl:"warehouse/settings/**",version:"1.0.0"},client:{icon:{icon:"cogs",pack:"fa"},url:()=>e.warehouse.client.url.call(void 0).concat("/settings")},children:{warehouseSettings:{code:()=>e.warehouse.children.settings.code.call(void 0).concat("_GENERAL"),name:()=>"warehouse.settings.menu",api:{method:"POST",url:()=>e.warehouse.children.settings.api.url.call(void 0).concat("/general"),login:()=>e.warehouse.children.settings.api.login.call(void 0),regexUrl:"warehouse/settings/general/**",version:"1.0.0"},client:{icon:{icon:"cog",pack:"fa"},url:()=>e.warehouse.children.settings.client.url.call(void 0).concat("/general")}},warehouseStorage:{code:()=>e.warehouse.children.settings.code.call(void 0).concat("_STORAGE"),name:()=>"warehouse.storage.menu",api:{method:"POST",url:()=>e.warehouse.children.settings.api.url.call(void 0).concat("/storage"),login:()=>e.warehouse.children.settings.api.login.call(void 0),regexUrl:"warehouse/settings/storage/**",version:"1.0.0"},client:{icon:{icon:"archive",pack:"fa"},url:()=>e.warehouse.children.settings.client.url.call(void 0).concat("/storage")}},warehouseCategory:{code:()=>e.warehouse.children.settings.code.call(void 0).concat("_CATEGORY"),name:()=>"warehouse.category.menu",api:{method:"POST",url:()=>e.warehouse.children.settings.api.url.call(void 0).concat("/category"),login:()=>e.warehouse.children.settings.api.login.call(void 0),regexUrl:"warehouse/settings/category/**",version:"1.0.0"},client:{icon:{icon:"bars",pack:"fa"},url:()=>e.warehouse.children.settings.client.url.call(void 0).concat("/category")}},warehouseBatchNo:{code:()=>e.warehouse.children.settings.code.call(void 0).concat("_BATCH_NO"),name:()=>"warehouse.batch_no.menu",api:{method:"POST",url:()=>e.warehouse.children.settings.api.url.call(void 0).concat("/batchno"),login:()=>e.warehouse.children.settings.api.login.call(void 0),regexUrl:"warehouse/settings/batchno/**",version:"1.0.0"},client:{icon:{icon:"clock",pack:"fas"},url:()=>e.warehouse.children.settings.client.url.call(void 0).concat("/batchno")}}}},features:{code:()=>e.warehouse.code.call(void 0).concat("_FEATURES"),name:()=>"warehouse.menu.features",api:{method:"POST",url:()=>e.warehouse.api.url.call(void 0).concat("/features"),login:()=>e.warehouse.api.login.call(void 0),regexUrl:"warehouse/features/**",version:"1.0.0"},client:{icon:{icon:"briefcase",pack:"fas"},url:()=>e.warehouse.client.url.call(void 0).concat("/features")},children:{warehouseItem:{code:()=>e.warehouse.children.features.code.call(void 0).concat("_ITEM"),name:()=>"warehouse.item.menu",api:{method:"POST",url:()=>e.warehouse.children.features.api.url.call(void 0).concat("/item"),login:()=>e.warehouse.children.features.api.login.call(void 0),regexUrl:"warehouse/features/item/**",version:"1.0.0"},client:{icon:{icon:"boxes",pack:"fa"},url:()=>e.warehouse.children.features.client.url.call(void 0).concat("/item")}},warehouseInventory:{code:()=>e.warehouse.children.features.code.call(void 0).concat("_INVENTORY"),name:()=>"warehouse.inventory.menu",api:{method:"POST",url:()=>e.warehouse.children.features.api.url.call(void 0).concat("/inventory"),login:()=>e.warehouse.children.features.api.login.call(void 0),regexUrl:"warehouse/features/inventory/**",version:"1.0.0"},client:{icon:{icon:"truck-loading",pack:"fas"},url:()=>e.warehouse.children.features.client.url.call(void 0).concat("/inventory")}}}}}}};return e}();var z;!function(e){let t;!function(e){let t,s;!function(e){e.NOT_ACTIVATED="common.enum.status.notActivated",e.ACTIVATED="common.enum.status.activated",e.LOCKED="common.enum.status.locked"}(t=e.STATUS||(e.STATUS={})),function(e){e.USD="common.enum.currency.usd",e.VND="common.enum.currency.vnd",e.OTHERS="common.enum.currency.others"}(s=e.CURRENCY||(e.CURRENCY={})),e.MODULE_CODES={SYSTEM:F.system.code.call(void 0),SYSTEM_SETTINGS:F.system.children.generalSettings.code.call(void 0),SYSTEM_USER:F.system.children.user.code.call(void 0),SYSTEM_CUSTOMER:F.system.children.customer.code.call(void 0),SYSTEM_ORGANIZATION:F.system.children.organization.code.call(void 0),WAREHOUSE:F.warehouse.code.call(void 0),WAREHOUSE_SETTINGS:F.warehouse.children.settings.code.call(void 0),WAREHOUSE_SETTINGS_GENERAL:F.warehouse.children.settings.children.warehouseSettings.code.call(void 0),WAREHOUSE_SETTINGS_STORAGE:F.warehouse.children.settings.children.warehouseStorage.code.call(void 0),WAREHOUSE_SETTINGS_CATEGORY:F.warehouse.children.settings.children.warehouseCategory.code.call(void 0),WAREHOUSE_SETTINGS_BATCH:F.warehouse.children.settings.children.warehouseBatchNo.code.call(void 0),WAREHOUSE_FEATURES:F.warehouse.children.features.code.call(void 0),WAREHOUSE_FEATURES_ITEM:F.warehouse.children.features.children.warehouseItem.code.call(void 0),WAREHOUSE_FEATURES_INVENTORY:F.warehouse.children.features.children.warehouseInventory.code.call(void 0)},e.BUILTIN_CODES={STATUS:{code:"STATUS",name:"common.enum.status.name"},CURRENCY:{code:"CURRENCY",name:"common.enum.currency.name"},CUSTOMER_LEVEL:{code:"CUSTOMER_LEVEL",name:"common.enum.customerLevel.name"},CUSTOMER_TYPE:{code:"CUSTOMER_TYPE",name:"common.enum.customerType.name"},ORGANIZATION_TYPE:{code:"ORGANIZATION_TYPE",name:"common.enum.organizationType.name"},WAREHOUSE_SETTINGS_TYPE:{code:"WAREHOUSE_SETTINGS_TYPE",name:"common.enum.warehouseSettingsType.name"},WAREHOUSE_CATEGORY_TYPE:{code:"CATEGORY_TYPE",name:"common.enum.warehouseSettings.category.name"},WAREHOUSE_STORAGE_TYPE:{code:"STORAGE_TYPE",name:"common.enum.warehouseSettings.storage.name"},WAREHOUSE_INVENTORY_TYPE:{code:"INVENTORY_TYPE",name:"common.enum.warehouseSettings.inventory.type.name"},WAREHOUSE_INVENTORY_STATUS:{code:"INVENTORY_STATUS",name:"common.enum.warehouseSettings.inventory.status.name"}}}(t=e.COMMON||(e.COMMON={}))}(z||(z={}));var H=z.COMMON.STATUS;class B extends w{constructor(e,t,s){super(e,t,s,a.user),this.deleteExecutor=(e,t,...s)=>{s&&s.length?(this.getLogger().debug("Delete data",s,"First data",s[0]),(s[0].id||"").length?(s[0].status=H.LOCKED.toString(),this.updateExecutor.apply(this,[e,t,...s])):this.getDbService().deleteRecord(this.getDbStore(),s[0].uid).then(()=>e(1),e=>{this.getLogger().error("Could not delete data",e),t(e)})):e(0)}}}class Y extends L{constructor(e,t,s){super(e,t,s)}}const V="Basic",J="Bearer";class G extends j{constructor(e,t,s){super(e,t,s,a.auth),this.deleteExecutor=(e,t,...s)=>{s&&s.length&&this.getDbService().delete(this.getDbStore(),{id:(s[0].getPayload()||{}).id}).then(()=>e(1),e=>{this.getLogger().error(e),t(e)})}}}class K extends D{constructor(e,t,s){super(e,t,s),s||Object(y.a)("Could not inject authentication database service for offline mode")}setCreateTokenDelegate(e){this.createTokenDelegate=e}parseResponse(e){if(e&&e.isSuccess()&&e.getData())return this.createTokenDelegate.apply(this,[e.getData()])}handleOfflineMode(e,t,s,r){let n;if(n=r&&r.headers?r.headers:void 0,n&&n.has("Authorization")){let t,s;return t=this.getDbService(),s=n.get("Authorization"),this.getLogger().debug("Check authentication",s),C.promiseToObservable(t.getAll().then(t=>{let i;if(t&&t.length){let o;if(o=t.filter(e=>{let t;return t=M.base64Encode(":",e.username||"",e.password||""),t=[V,t].join(" "),s.toLowerCase()===t.toLowerCase()}),o&&o.length){let t,s;t=o[0],s=N.parseFisrtResponseJson(JSON.stringify(t)),delete s.password,i=this.parseResponse(new I(!0,new d.h({body:JSON.stringify(s),headers:n,status:200,url:e}),(r||{}).redirectSuccess,(r||{}).errors,(r||{}).messages))}}return i||(i=this.parseResponse(new I(!1,new d.h({body:"",headers:n,status:401,url:e}),(r||{}).redirectFailure,(r||{}).errors,(r||{}).messages))),i},t=>(this.getLogger().error("Not found any valid token",t),this.parseResponse(new I(!1,new d.h({body:"",headers:n,status:401,url:e}),(r||{}).redirectFailure,(r||{}).errors,(r||{}).messages)))).catch(t=>(this.getLogger().error("Not found any valid token",t),this.parseResponse(new I(!1,new d.h({body:"",headers:n,status:401,url:e}),(r||{}).redirectFailure,(r||{}).errors,(r||{}).messages)))))}return Object(_.a)(void 0)}}var W=s("o0ex"),X=s("xay1"),Q=s("njC1"),Z=s("oxKT");class $ extends W.a{constructor(e,t,s){super(),this.httpService=e,this.dbService=t,this.logger=s,this.filterCfg={filters:[],andOperator:!0},this.pagingCfg={page:1},this.sortCfg=[],e||Object(y.a)("Not found HTTP service"),t||Object(y.a)("Not found database service"),s||Object(y.a)("Could not inject logger!"),s.updateConfig(f)}getHttpService(){return this.httpService}getDbService(){return this.dbService}get databaseService(){return this.getDbService()}getLogger(){return this.logger}reset(e=!1){e?(this.filterCfg={filters:[],andOperator:!0},this.sortCfg=[],this.pagingCfg.page=1):(this.setFilter([],!0,!1),this.setSort([],!1),this.setPage(1))}getFilter(){return this.filterCfg}setFilter(e,t,s){return e&&e.length>0?e.forEach(e=>{this.addFilter(e,t,!1)}):this.filterCfg={filters:[],andOperator:!0},this.filterCfg.andOperator=t,this.pagingCfg.page=1,super.setFilter(e,t,s),this}addFilter(e,t=!0,s=!0){e.field&&void 0!==e.search||Object(y.a)("Filter configuration object is not valid");let r=!1;return this.filterCfg.filters.forEach((t,s)=>{t.field===e.field&&(this.filterCfg.filters[s]=e,r=!0)}),r||this.filterCfg.filters.push(e),this.filterCfg.andOperator=t,super.addFilter(e,t,s),this}getSort(){return this.sortCfg}setSort(e,t=!0){return null!==e&&(e.forEach(e=>{e.field&&void 0!==e.direction||Object(y.a)("Sort configuration object is not valid")}),this.sortCfg=e),super.setSort(e,t),this}getPaging(){return this.pagingCfg}setPaging(e,t,s){return this.pagingCfg.page=e,this.pagingCfg.perPage=t,super.setPaging(e,t,s),this}setPage(e,t){this.pagingCfg.page=e,t||(t=(this.pagingCfg.perPage||0)>0),super.setPage(e,t||!1)}prepareData(e){return e=this.filter(e),e=this.sort(e),this.paginate(e)}sort(e){return this.sortCfg&&this.sortCfg.forEach(t=>{e=Z.a.sort(e,t.field,t.direction,t.compare)}),e}filter(e){if(this.filterCfg.filters)if(this.filterCfg.andOperator)this.filterCfg.filters.forEach(t=>{(t.search||"").length&&(e=Q.a.filter(e,t.field,t.search,t.filter))});else if(this.filterCfg.filters.length){let t=[];this.filterCfg.filters.forEach(s=>{(s.search||"").length&&(t=t.concat(Q.a.filter(e,s.field,s.search,s.filter)))}),e=t.filter((e,t,s)=>s.indexOf(e)===t)}return e}paginate(e){return this.pagingCfg&&this.pagingCfg.page&&this.pagingCfg.perPage&&(e=X.a.paginate(e,this.pagingCfg.page,this.pagingCfg.perPage)),e}}class ee extends ${constructor(e,t,s){super(e,t,s),this.latestCount=0}getAll(){return super.getDbService().getAll().then(this.onFulfilledData(),e=>(this.getLogger().error(e),[])).catch(e=>(this.getLogger().error(e),[]))}getAllByIndex(e,t){return super.getDbService().getAllByIndex(e,t).then(this.onFulfilledData(),e=>(this.getLogger().error(e),[])).catch(e=>(this.getLogger().error(e),[]))}onFulfilledData(){const e=this;return t=>(t=e.filter(t),t=e.sort(t),e.setRecordsNumber((t||[]).length),e.paginate(t))}setRecordsNumber(e){this.latestCount=e||0}getElements(){return this.getAll()}count(){return this.latestCount}update(e,t){return this.getDbService().update(t).then(()=>(this.refresh(),e))}remove(e){return this.getDbService().delete(e).then(()=>(this.refresh(),1))}refresh(){this.getLogger().debug("Refresh data source"),super.refresh()}load(e){return this.getLogger().debug("Load data",e),super.load(e)}prepend(e){return this.append(e)}append(e){return this.getLogger().debug("New data",e),this.getDbService().insert(e).then(()=>(this.refresh(),1))}}class te extends w{constructor(e,t,s){super(e,t,s,a.module)}}class se extends L{constructor(e,t,s){super(e,t,s),s||Object(y.a)("Could not inject user database service for offline mode")}}class re extends ee{constructor(e,t,s){super(e,t,s)}}var ne=s("XoHu");class ie extends g.e{constructor(e,t,s,r,n,i){super(e,t),this.authHttpService=s,this.authDbService=r,this.moduleDbService=n,this.logger=i,this.authenticate=e=>{let t,s,r,n,i,o;return t=this,s=new d.e(this.getOption("login.headers")||{}),r=M.base64Encode(":",e.email||"",M.md5Encode(":",e.password)),s=s.set("Authorization",[V,r].join(" ")),n=this.getOption("login.method"),i=this.getActionEndpoint("login"),o={body:{},headers:s,observe:"response",redirectSuccess:this.getOption("login.redirect.success"),redirectFailure:this.getOption("login.redirect.failure"),errors:this.getOption("login.errors")||[],messages:this.getOption("login.messages")||[]},this.getHttpService().request(i,n,o).pipe(Object(A.a)(e=>!Object(O.isArray)(e)&&e?e:Object(O.isArray)(e)?e[0]:void 0),Object(A.a)(e=>new g.b(!(!e||!Object.keys(e).length),new d.h({body:e&&Object.keys(e).length?e:void 0,status:200,url:i}),e&&Object.keys(e).length?o.redirectSuccess:o.redirectFailure,e&&Object.keys(e).length?[]:o.errors,o.messages,e&&Object.keys(e).length?e:void 0)))},t||Object(y.a)("Could not inject route!"),s||Object(y.a)("Could not inject HttpService!");const o=this;this.authHttpService.setCreateTokenDelegate(e=>o.createToken(e)),r||Object(y.a)("Could not inject IndexedDb!"),i||Object(y.a)("Could not inject logger!"),i.updateConfig(f)}static setup(e){return[ie,e]}getLogger(){return this.logger}getHttpService(){return this.authHttpService}getDbService(){return this.authDbService}getModuleDbService(){return this.moduleDbService}createToken(e,t){const s=N.safeParseJson(e);let r;return s&&s.hasOwnProperty("image")&&delete s.image,r=super.createToken(s,this.getOption("login.failWhenInvalidToken")),this.storeDb(r).then(e=>r=e,e=>this.getLogger().error(e)),r}storeDb(e){return e&&e.getPayload()&&e.isValid()?new Promise((t,s)=>{this.getDbService().clear().then(()=>{this.getDbService().insert(e.getPayload()).then(()=>{this.getModuleDbService().clear().then(()=>{this.getModuleDbService().insertEntities(this.parseModules(e.getPayload())).then(()=>t(e),e=>{this.getLogger().error(e),s(e)})},e=>{this.getLogger().error(e),s(e)})},e=>{this.getLogger().error(e),s(e)})},e=>{this.getLogger().error(e),s(e)})}):new Promise(e=>e(null))}parseModules(e){let t,s,r;return t=[],s=e&&Object(ne.a)(e)&&Object.keys(e).length>0,s?(s=s&&e&&e.hasOwnProperty("rolesGroup"),s=s&&e.rolesGroup&&e.rolesGroup.hasOwnProperty("roles"),s=s&&e.rolesGroup.roles&&Object(O.isArray)(e.rolesGroup.roles),s?(r=e.rolesGroup.roles,r.forEach(e=>{e.module&&t.push(e.module)}),this.getLogger().debug("Modules",t),t):t):t}}var oe=s("eIep");new r.C("Request header name interceptor token");class ae extends g.d{constructor(e,t,s){super(e,s),this._injector=e,this._logger=t,e||Object(y.a)("Could not inject Injector instance"),t||Object(y.a)("Could not inject NGXLogger instance")}getInjector(){return this._injector}get logger(){return this._logger}intercept(e,t){return this.logger.warn("Just remind: Intercept HTTP{"+Reflect.getPrototypeOf(this).constructor.name+"}",e),this.isSupported(e)?this.doIntercept(e,t):t.handle(e)}isSupported(e){return!Object(O.isNullOrUndefined)(e)}}const ce=new r.C("Custom Interceptor Access Token Parameter"),ue=new r.C("Custom Interceptor Company Header Parameter"),de=new r.C("Service Worker VAPID_PUBLIC_KEY to subscribe");var le=s("tKwJ");s("lnXG");class pe{static from(e){if(!e)return;let t;return t=void 0,e.subscribe(e=>t=e),t}static cast(e,t){if(e instanceof t)try{return e}catch(s){}}static createInstanceByType(e){return new e}static createInstance(e){return new e}static createInstanceWithArguments(e,...t){return new e(t)}static fromMap(e){if(e&&!(e.size<=0))return Array.from(e).reduce((e,[t,s])=>Object.assign(e,{[t]:s}),{})}static deepCopy(e){if(null===e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Array){const t=[];return e.forEach(e=>{t.push(e)}),t.map(e=>this.deepCopy(e))}if("object"==typeof e&&e!=={}){const t=Object.assign({},e);return Object.keys(t).forEach(e=>{t[e]=this.deepCopy(t[e])}),t}return e}static ifDefined(...e){for(const t of e)if(t)return t}static propertyExists(e,t){return e&&(e.hasOwnProperty(t)||t in e)}static enumKeys(e){return Object.keys(e).filter(t=>"number"==typeof e[t])}static enumValues(e){return Object.keys(e).filter(t=>"number"==typeof e[t]).map(t=>e[t])}}var he=s("cqWR");class ge{static buildFlatHierarchyItem(e,t,s,r,n){if(!e)return;let i;try{i=t?pe.createInstance(t):void 0}catch(o){i=void 0}if(n&&(i=n.apply(this,[e,i])),i||(t?Object(y.a)("Could not create new item by the specified built type {"+t.name+"}"):Object(y.a)("Could not create new item by the specified built type or via `entityMapper` method")),s&&(r||"").length){let e;e=s[r]&&Object(O.isArray)(s[r])?Array.from(s[r]):[],e.push(i),e&&e.length&&(s[r]=e)}return i}static buildFlatToHierarchyTree(e,t,s,r,n,i,o,a){let c,u;return(t||"").length&&(s||"").length||Object(y.a)("Could not build hierarchy that not specify property names to detect child/parent!"),n||a||Object(y.a)("Could not build hierarchy that not specify the built type or `entityMapper` method!"),c=r?r[t]:void 0,u=[],i&&u.push(i),(e||[]).forEach(r=>{let d;(r[s]||"")===(c||"")&&(r[t]||"")!==(c||"")&&(d=ge.buildFlatHierarchyItem(r,n,i,o,a),!i&&u.push(d),this.buildFlatToHierarchyTree(e,t,s,r,n,d,o,a))}),u}static buildHierarchyItem(e,t,s,r,n,i){if(!e)return;let o;try{o=t?pe.createInstance(t):void 0}catch(a){o=void 0}if(i&&(o=i.apply(this,[e,o])),o||(t?Object(y.a)("Could not create new item by the specified built type {"+t.name+"}"):Object(y.a)("Could not create new item by the specified built type or via `entityMapper` method")),s&&((r||"").length&&(o[r]=s),(n||"").length)){let e;e=s[n]&&Object(O.isArray)(s[n])?Array.from(s[n]):[],e.push(o),e&&e.length&&(s[n]=e)}return o}static buildHierarchyTree(e,t,s,r,n,i,o){let a;return t||o||Object(y.a)("Could not build hierarchy that not specify the built type or `entityMapper` method!"),a=[],e&&e.length&&e.forEach(e=>{let c;c=ge.buildHierarchyItem(e,t,s,n,i,o),a.push(c),(r||"").length&&Object(O.isArray)(e[r])&&Array.from(e[r]).length&&this.buildHierarchyTree(Array.from(e[r]),t,c,r,n,i,o)}),a}static buildModelTreeview(e,t,s){let r,n;return r=(e,s)=>(s?e&&(s.text=e[t]||"",s.value=e):s=new he.a({checked:!1,collapsed:!0,disabled:!1,text:e[t]||"-",value:e}),s),n=ge.buildFlatToHierarchyTree(e,"id","parentId",void 0,void 0,void 0,"children",r),(n||[]).sort((e,t)=>e.text<t.text?-1:e.text===t.text?0:1),n}}class me extends te{constructor(e,t,s){super(e,t,s)}buildMenu(){return new Promise((e,t)=>{super.getAll().then(t=>{let s;t&&t.length&&(s=class{static buildMenu(e,t,s){let r;return r=(e,t)=>(e&&t&&(t.title=e.name,t.icon=(e.api||{}).icon||e.icon||"",t.link=class{static findClientLink(e){let t;if(t="",!(e||"").length)return t;for(const s of Object.values(F))if(t=this.findClientLinkRecursive(e,s),!Object(O.isNullOrUndefined)(t))break;return t||""}static findClientLinkRecursive(e,t){if(!(e||"").length||!t||!Object(O.isObject)(t))return null;let s,r;if(s="",t.hasOwnProperty("code")&&(s="function"==typeof t.code?t.code.call(void 0):t.code),r=void 0,t.hasOwnProperty("client")&&Object(O.isObject)(t.client)&&t.client.hasOwnProperty("url")&&(r="function"==typeof t.client.url?t.client.url.call(void 0):t.client.url),s===e)return r||"";if(r=void 0,t.hasOwnProperty("children")&&Object(O.isObject)(t.children))for(const[n,i]of Object.entries(t.children))if(r=this.findClientLinkRecursive(e,i),!Object(O.isNullOrUndefined)(r))break;return r}}.findClientLink((e.api||{}).code),t.data=e,t.expanded=!1,t.selected=!1),t),ge.buildHierarchyTree(e,t,s,"children","parent","children",r)}}.buildMenu(t,le.c)),this.getLogger().debug("Built menu",s),e(s)},e=>{this.getLogger().error(e),t(e)})})}}var ye=s("EApP");const fe={mock:o.mock,theme:"default",logConfig:f,sw:{vapid_public_key:"",base_url:"http://localhost:8089/api-rest-notification/service"},request:{headers:{},timeout:3e5},itemsPerPage:15,baseMenu:[{id:"MENU_ADD",icon:"plus-square",title:"common.contextMenu.add",enabled:!0,visible:!0,divider:!1},{id:"MENU_EDIT",icon:"edit",title:"common.contextMenu.edit",enabled:!0,visible:!0,divider:!1},{id:"MENU_DELETE",icon:"minus-square",title:"common.contextMenu.delete",enabled:!0,visible:!0,divider:!1}],baseToolbarActions:[{id:"ACTION_SAVE",label:"common.form.action.save",type:"button",status:"primary",icon:{icon:"save",pack:"fa"},size:"small",shape:"rectangle"},{id:"ACTION_DELETE",label:"common.form.action.delete",type:"button",status:"danger",icon:{icon:"trash-alt",pack:"fa"},size:"small",shape:"rectangle"},{id:"ACTION_RESET",label:"common.form.action.reset",type:"button",status:"warning",icon:{icon:"redo",pack:"fa"},size:"small",shape:"rectangle"},{id:"ACTION_SEARCH",label:"common.form.action.search",type:"button",status:"primary",icon:{icon:"search",pack:"fas"},size:"small",shape:"rectangle"}],imageFileExtensions:["jpg","jpeg","png","bmp","gif"]};fe.request.headers=Object.assign({},{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"*","Access-Control-Allow-Headers":"*","Service-Worker-Allowed":"*"});class _e extends ee{constructor(e,t,s){super(e,t,s)}}var ve=s("N9/u"),be=s("CG3O"),ke=s("/eNa");class Oe extends w{constructor(e,t,s){super(e,t,s,a.customer)}}class Ce extends L{constructor(e,t,s){super(e,t,s)}}class Se extends ee{constructor(e,t,s){super(e,t,s)}}var je=s("TSSN"),we=s("k5Gf");class Ee extends w{constructor(e,t,s){super(e,t,s,a.organization),this.deleteExecutor=(e,t,...s)=>{s&&s.length?(this.getLogger().debug("Delete data",s,"First data",s[0]),this.getDbService().deleteRecord(this.getDbStore(),s[0].uid).then(()=>e(1),e=>{this.getLogger().error("Could not delete data",e),t(e)})):e(0)}}}class Te extends L{constructor(e,t,s){super(e,t,s)}}class Re extends ee{constructor(e,t,s){super(e,t,s)}}var Ae=s("cUpR");class qe{}class Pe{constructor(e,t,s,r){this.translateService=e,this.logger=t,this._titleService=s,this._metaService=r,t||Object(y.a)("Could not inject NGXLogger"),e||Object(y.a)("Could not inject TranslateService"),s||Object(y.a)("Could not inject Title"),r||Object(y.a)("Could not inject Meta")}get titleService(){return this._titleService=this._titleService||new Ae.c(document),this._titleService}set titleService(e){this._titleService=e}get metaService(){return this._metaService=this._metaService||new Ae.b(document),this._metaService}set metaService(e){this._metaService=e}getTranslateService(){return this.translateService}getLogger(){return this.logger}getConfig(){return this.config||new qe}setConfig(e){e||Object(y.a)("Config must be not undefined"),this.config=e,this.resolve()}resolve(){if(this.getConfig()){if(this.getLogger().debug("Resolve page header",this.titleService,this.metaService,this.getConfig()),this.titleService&&(this.getConfig().title||"").length){let e,t,s;e=this.getTranslateService(),t=[],s=this.getConfig().title,e&&(Object(O.isArray)(s)?Array.from(s).forEach(s=>{t.push(e.instant(s))}):t.push(e.instant(s))),this.getLogger().debug("Translate?",this.getConfig().title," -> ",t.join(" - ")),this.titleService.setTitle(t.join(" - "))}if(this.metaService&&this.getConfig().meta&&this.getConfig().meta.length){let e;e=this.metaService,this.getConfig().meta.forEach(t=>{let s;s=e.getTag(t.id),s?e.updateTag(t,t.id):e.addTag(t)})}}}}class Ne{constructor(e,t,s,r,n){this.moduleService=e,this.router=t,this.toasterService=s,this.translateService=r,this.logger=n,e||Object(y.a)("Could not inject ModuleService"),t||Object(y.a)("Could not inject Router"),s||Object(y.a)("Could not inject ToastrService"),r||Object(y.a)("Could not inject TranslateService"),n||Object(y.a)("Could not inject NGXLogger")}getModuleService(){return this.moduleService}getRouter(){return this.router}getToasterService(){return this.toasterService}getTranslateService(){return this.translateService}getLogger(){return this.logger}canActivateChild(e,t){return this.getModuleService().count().then(e=>((!e||e<=0)&&this.getToasterService().error(this.getTranslateService().instant("common.toast.unknown"),this.getTranslateService().instant("app")),e&&e>0),e=>(this.getLogger().error("ERROR - Check child route activate",t,e),!1)).catch(e=>(this.getLogger().error("ERROR - Check child route activate",t,e),!1))}}class Ie extends w{constructor(e,t,s){super(e,t,s,a.warehouse)}getStoragesByPath(e,t,s){if(!(e||"").length)return this.getAll().then(e=>{t.push(...Array.from(e))});this.openCursor(r=>{const n=r.target.result;s&&n&&!Object(O.isNullOrUndefined)(n.value)&&(n.value.pathCodes||"").length&&(n.value.pathCodes||"").toLowerCase().indexOf(e.toLowerCase())>=0&&t.push(n.value),!s&&n&&!Object(O.isNullOrUndefined)(n.value)&&(n.value.pathIds||"").length&&(n.value.pathIds||"").toLowerCase().indexOf(e.toLowerCase())>=0&&t.push(n.value)})}}class xe extends L{constructor(e,t,s){super(e,t,s)}}class De extends ee{constructor(e,t,s){super(e,t,s)}getStoragesByPath(e,t,s){return this.getDbService().getStoragesByPath(e,t,s)}}class Le extends w{constructor(e,t,s){super(e,t,s,a.warehouse_order)}}class Ue extends L{constructor(e,t,s){super(e,t,s)}}class Me extends ee{constructor(e,t,s){super(e,t,s)}}class Fe extends w{constructor(e,t,s){super(e,t,s,a.warehouse_order_detail)}}class ze extends L{constructor(e,t,s){super(e,t,s)}}class He extends ee{constructor(e,t,s){super(e,t,s)}}class Be extends w{constructor(e,t,s){super(e,t,s,a.warehouse_item)}}class Ye extends L{constructor(e,t,s){super(e,t,s)}}class Ve extends ee{constructor(e,t,s){super(e,t,s)}getAll(){return super.getAllByIndex("is_version",IDBKeyRange.only(0))}save(e){return this.getDbService().saveEntities(e).then(e=>(this.refresh(),e),e=>(this.getLogger().error(e),0)).catch(e=>(this.getLogger().error(e),0))}}class Je extends w{constructor(e,t,s){super(e,t,s,a.warehouse_inventory)}}class Ge extends L{constructor(e,t,s){super(e,t,s)}}class Ke extends ee{constructor(e,t,s){super(e,t,s)}}class We extends w{constructor(e,t,s){super(e,t,s,a.warehouse_inventory_detail)}}class Xe extends L{constructor(e,t,s){super(e,t,s)}}class Qe extends ee{constructor(e,t,s){super(e,t,s)}save(e){return this.getDbService().saveEntities(e).then(e=>(this.refresh(),e),e=>(this.getLogger().error(e),0)).catch(e=>(this.getLogger().error(e),0))}}class Ze extends w{constructor(e,t,s){super(e,t,s,a.warehouse_category)}}class $e extends L{constructor(e,t,s){super(e,t,s)}}class et extends ee{constructor(e,t,s){super(e,t,s)}}class tt extends w{constructor(e,t,s){super(e,t,s,a.warehouse_adjust)}}class st extends L{constructor(e,t,s){super(e,t,s)}}class rt extends ee{constructor(e,t,s){super(e,t,s)}}class nt extends w{constructor(e,t,s){super(e,t,s,a.warehouse_adjust_detail)}}class it extends L{constructor(e,t,s){super(e,t,s)}}class ot extends ee{constructor(e,t,s){super(e,t,s)}}class at extends w{constructor(e,t,s){super(e,t,s,a.country)}}class ct extends L{constructor(e,t,s){super(e,t,s)}}class ut extends ee{constructor(e,t,s){super(e,t,s)}}class dt{constructor(e){this.id=e}}class lt extends dt{constructor(e,t,s){super(e),this.id=e,this.code=t,this.name=s}}const pt={universal:{code:"UNIVERSAL",baseUrl:"https://www.universal-tutorial.com/",api:{token:{email:"hainguyenjc@gmail.com",vapid_public_key:"M70onCyk9pjjPxfwNiM3TyerUYNPGI26ZqBKuqhAP6LmE3Ct2bR91gw8QPg4D5Aom14",tokenUrl:()=>(o.useProxy?"":pt.universal.baseUrl).concat("api/getaccesstoken"),expiredIn:864e5},country:{url:()=>(o.useProxy?"":pt.universal.baseUrl).concat("api/countries"),method:"GET"},province:{url:()=>(o.useProxy?"":pt.universal.baseUrl).concat("api/states"),method:"GET"},city:{url:()=>(o.useProxy?"":pt.universal.baseUrl).concat("api/cities"),method:"GET"}}}};var ht=s("5+tZ");new r.C("Third-party API authorization token configuration");class gt extends Error{constructor(e,t){super(),this._code=e,this._cause=t}get code(){return this._code}get cause(){return this._cause}}class mt extends w{constructor(e,t,s){super(e,t,s,a.third_party),this.deleteExecutor=(e,t,...s)=>(s&&s.length&&(s[0].expiredAt=(new Date).getTime()),super.deleteExecutor(e,t))}getAll(){return super.getAll().then(e=>((e||[]).length&&this._ensureNonExpiredData(...e),e),e=>(this.getLogger().error(e),[]))}findEntities(e,t){return super.findEntities(e,t).then(e=>((e||[]).length&&this._ensureNonExpiredData(...e),e),e=>(this.getLogger().error(e),[]))}findById(e){return super.findById(e).then(e=>(e&&this._ensureNonExpiredData(e),e),e=>(this.getLogger().error(e),null))}_ensureNonExpiredData(...e){const t=new Date;(e||[]).forEach(e=>{e&&0!==e.expiredAt&&new Date(e.expiredAt)>=t&&Object(y.a)(new gt(e.code,new Error("Third party data has been expired!")))})}}let yt=(()=>{class e extends L{constructor(e,t,s,r,n){super(e,t,s),this._secureStorage=r,this.apiConfig=n,n||Object(y.a)("Could not inject third-party API configuration"),(n.code||"").length&&n.token||Object(y.a)("Third-party API configuration code must be not undefined")}get config(){return this.apiConfig}get secureStorage(){return this._secureStorage}generateTokenKey(){return[e.THIRD_PARTY_LATEST_ACCESS_TOKEN,this.config.code].join("_")}get latestToken(){return this.secureStorage.get(this.generateTokenKey())}generateRequiredTokenTimesKey(){return[e.THIRD_PARTY_REQUIRED_TOKEN_TIMES,this.config.code].join("_")}requiredTokenTimes(){const e=this.secureStorage.get(this.generateRequiredTokenTimesKey());return isNaN(e)?1:parseFloat(e)}increaseRequiredTokenTimes(){const e=this.requiredTokenTimes();this.secureStorage.set(this.generateRequiredTokenTimesKey(),e)}resetRequiredTokenTimes(){this.secureStorage.remove(this.generateRequiredTokenTimesKey())}parseResponse(e){if(!(e&&e.getResponse()&&e.getResponse().body&&e.getResponse().ok))return;const t=N.parseResponseJson(e.getResponse().body);return t.code=this.config.code.concat("|",this.apiConfig.token.method||"UNKNOWN","|",e.getResponse().url),Math.max(this.config.token.expiredIn,0)>0&&(t.expiredAt=(new Date).getTime()+this.config.token.expiredIn),t}configHeaders(e){return this.config.tokenParam&&"header"===this.config.tokenParam.type?this.config.tokenParam.values:e}configParams(e){return this.config.tokenParam&&"param"===this.config.tokenParam.type?this.config.tokenParam.values:e}configBody(e){return this.config.tokenParam&&"body"===this.config.tokenParam.type?this.config.tokenParam.values:e}configResponseType(e){return this.config.tokenParam?this.config.tokenParam.responseType:e}configObserve(e){return this.config.tokenParam?this.config.tokenParam.observe:e}handleResponseError(t,s,r,n){const i=this.requiredTokenTimes();return t!==this.config.token.tokenUrl&&i<e.THIRD_PARTY_REQUIRED_TOKEN_TIMES_MAXIMUM&&this.isUnauthorizedOrExpired(r)?(!(this.config.token.tokenUrl||"").length||Object(y.a)("Please provide third-party authorization configuration to require access token!"),this.increaseRequiredTokenTimes(),this.handleUnauthorizedExpired(t,s,n)):super.handleResponseError(t,s,n)}isUnauthorizedOrExpired(e){return!1}handleUnauthorizedExpired(e,t,s,r){let n=pe.deepCopy(r||{});n.headers=this.configHeaders(),n.params=this.configParams(),n.body=this.configBody(),n.observe=this.configObserve(),n.responseType=this.configResponseType(),this.config.tokenParam&&"custom"===this.config.tokenParam.type&&(n=this.customAuthorizeRequestOptions(n),n=n||{});const i=this;return i.getHttp().request(i.config.token.method||"GET",i.config.token.tokenUrl,n).pipe(Object(A.a)(e=>(i.getLogger().debug("Access Token Response",e),e)),Object(A.a)(t=>{const s=t;i.ensureVaidResponse(s,i.config.token.tokenUrl,i.config.token.method||"GET",n);const o=i.parseAccessToken(s);return o||Object(y.a)(new d.c({url:e,headers:r.headers,status:401,statusText:"Unauthorized",error:"Token has been expired! But could not require/parse new token again!"})),i.secureStorage.set(this.generateTokenKey(),o),i.resetRequiredTokenTimes(),o}),Object(A.a)(e=>i.updateRequestOptionsBeforeRequest(r)),Object(ht.a)(s=>i.getHttp().request(t,e,s).pipe(Object(A.a)(r=>(r instanceof d.h?i.ensureVaidResponse(r,e,t,s):r=new d.h({body:JSON.stringify(r),headers:s&&s.headers instanceof d.e?s.headers:new d.e((s||{}).headers),status:200,url:e}),i.parseResponse(new I(!0,r,s.redirectSuccess,[],s.messages)))),Object(q.a)(i.processRequestError(e,t,r)))),Object(q.a)(i.processRequestError(e,t,r)))}customAuthorizeRequestOptions(e){return e}parseAccessToken(e){return N.safeParseJson(e instanceof d.h?e.body:e)}processAccessToken(e,t){return t}updateRequestOptionsBeforeRequest(e){return(e=Object.assign({},e||{})).headers=e.headers||{},e.headers instanceof d.e?e.headers.set("X-ThirdParty",this.config.code):e.headers["X-ThirdParty"]=this.config.code,this.processAccessToken(this.latestToken,e)}request(e,t,s){return s=this.updateRequestOptionsBeforeRequest(s=s||{}),super.request(e,t,s)}}return e.THIRD_PARTY_LATEST_ACCESS_TOKEN="XThirdPartyToken",e.THIRD_PARTY_REQUIRED_TOKEN_TIMES="XThirdPartyRequiredToken",e.THIRD_PARTY_REQUIRED_TOKEN_TIMES_MAXIMUM=3,R.__decorate([Object(x.a)(),R.__metadata("design:type",Function),R.__metadata("design:paramtypes",[String,String,Object]),R.__metadata("design:returntype",P.a)],e.prototype,"request",null),e})();class ft{constructor(e){this.parsers=e}}class _t{constructor(e){this._dataPropertyName=e,(e||"").length||Object(y.a)("Please define the property of the returned third-part API data to parse")}get dataPropertyName(){return this._dataPropertyName}parse(e){let t,s;return t=null,e&&(e.response||"").length?(s=N.parseResponseJson(e.response),s&&!Object(O.isArray)(s)&&(s=[s]),Object(O.isArray)(s)&&s.length&&(t=[],s.forEach(e=>{if(e&&e.hasOwnProperty(this.dataPropertyName)&&(e[this.dataPropertyName]||"").length){const s=this.mappingData(e);s&&t.push(s),!s&&window.console.warn(["Could not parse ",e," data from third-party API!"])}})),t):t}}new r.C("Third-party API data parsers definition");let vt=(()=>{class e extends ee{constructor(e,t,s,r){super(e,t,s),this._dataParser=r}dataParser(){return this._dataParser||new ft([])}getAll(){return Object(y.a)(e.EXCEPTION_NOT_SUPPORTED),Promise.reject(e.EXCEPTION_NOT_SUPPORTED)}findData(t,s,r,n){(t||"").length||Object(y.a)(e.EXCEPTION_NOT_SUPPORTED);const i=this,o=[i.getHttpService().config.code,s||"UNKNOWN",t].join("|");return i.getDbService().findEntities(e.INDEX_NAME_THIRD_PARTY_CODE,o).then(e=>(e||[]).length?e:i.getHttpService().request(t,s,n).toPromise().then(e=>(e&&!Object(O.isArray)(e)&&(e=[].concat(e)),i.getDbService().insertEntities(e).then(t=>{let s;if(s=[],r&&i.dataParser()&&i.dataParser().parsers){let t;t=i.getDataParser(r),t&&(e||[]).forEach(e=>{const r=t.parse(e);r&&Object(O.isArray)(r)?s=s.concat(r):r&&s.push(r)})}return e=i.filter(e),e=i.sort(e),i.setRecordsNumber((e||[]).length),e=i.paginate(e),s},e=>(i.getLogger().error(e),[])).catch(e=>(i.getLogger().error(e),[]))),e=>(i.getLogger().error(e),[])).catch(e=>(i.getLogger().error(e),[])),e=>(i.getLogger().error(e),[])).catch(e=>(i.getLogger().error(e),[]))}getDataParser(e){let t;if(t=null,this.dataParser().parsers&&e)for(const s of this.dataParser().parsers)if(s&&s.provide===e){t=s.parser;break}return t}}return e.EXCEPTION_NOT_SUPPORTED="Not support for getting all data because third-party manage data by URL, method and code!",e.INDEX_NAME_THIRD_PARTY_CODE="code",e})(),bt=(()=>{class e extends j{constructor(e,t,s,r){super(e,t,s,"NOT_USING_STORE_BECAUSE_THIS_JUST_BRIDGE_API"),this._thirdPartyApi=r,this.deleteExecutor=(e,t,...s)=>{s&&s.length?(this.getLogger().debug("Delete data",s,"First data",s[0]),s[0].deletedAt=(new Date).getTime(),s[0].expiredAt=(new Date).getTime(),this.updateExecutor.apply(this,[e,t,...s])):e(0)},r||Object(y.a)("Could not inject ThirdPartyApiDatasource instance")}get thirdPartyApi(){return this._thirdPartyApi}getAll(){return Object(y.a)(e.EXCEPTION_PERFORMANCE_REASON),Promise.reject(e.EXCEPTION_PERFORMANCE_REASON)}fetch(t){return t&&t.dbCacheFilter||Object(y.a)(e.EXCEPTION_PERFORMANCE_REASON),t.callApi&&(t.callApi.method||"").length&&("function"==typeof this.thirdPartyApi[t.callApi.method]||this.thirdPartyApi[t.callApi.method]instanceof Promise||this.thirdPartyApi[t.callApi.method]instanceof P.a)||Object(y.a)(e.EXCEPTION_INVALID_API_GATEWAY),this.getDbService().getAllByIndex(t.dbCacheFilter.dbStore,t.dbCacheFilter.indexName,t.dbCacheFilter.criteria).then(e=>{if(!e||Object(O.isArray)(e)&&!(e||[]).length){const e=this.thirdPartyApi[t.callApi.method];let s;return s=e instanceof Promise||e instanceof P.a?e instanceof Promise?e:e.toPromise():new Promise(s=>s(e.apply(this._thirdPartyApi,t.callApi.args))),s.then(t.apiFulfilled,e=>(this.getLogger().error(e),[])).catch(e=>(this.getLogger().error(e),[]))}return e&&!Object(O.isArray)(e)?Array.of(e):e?Array.from(e):e},e=>(this.getLogger().error(e),[])).catch(e=>(this.getLogger().error(e),[]))}}return e.EXCEPTION_PERFORMANCE_REASON="Not support for getting all data because of performance!",e.EXCEPTION_INVALID_API_GATEWAY="Not found the valid API function",e})(),kt=(()=>{class e extends w{constructor(e,t,s,r){super(e,t,s,a.city),this.thirdPartyApiBridge=r,r||Object(y.a)("Could not inject ThirdPartyApiBridgeDbService instance")}getAll(){return Object(y.a)(e.EXCEPTION_PERFORMANCE_REASON),Promise.reject(e.EXCEPTION_PERFORMANCE_REASON)}findByProvince(t){t||Object(y.a)(e.EXCEPTION_PERFORMANCE_REASON);const s=this,r={dbCacheFilter:{dbStore:this.getDbStore(),indexName:e.INDEX_NAME_PROVINCE_ID,criteria:t.id},callApi:{method:e.THIRD_PARTY_ENTRY_METHOD,args:[e.THIRD_PARTY_CITY_URL.concat("/",t.name),e.THIRD_PARTY_CITY_METHOD,lt]},apiFulfilled:e=>{let r;const n={};return r=Object(O.isArray)(e)?e:e?[e]:[],r=r.removeIf(e=>Object(O.isNullOrUndefined)(e)),r.forEach(e=>{e.province_id=t.id;let s=t.code.concat("|",e.code);n.hasOwnProperty(s)?(n[s]=n[s]+1,s=s.concat("|",n[s].toString())):n[s]=1,e.code=s}),s.insertEntities(r).then(e=>r,e=>(s.getLogger().error(e),[])).catch(e=>(s.getLogger().error(e),[]))}};return s.thirdPartyApiBridge.fetch(r)}}return e.EXCEPTION_PERFORMANCE_REASON="Not support for getting all cities because of performance!",e.INDEX_NAME_PROVINCE_ID="province_id",e.THIRD_PARTY_CITY_URL=pt.universal.api.city.url.call(void 0),e.THIRD_PARTY_CITY_METHOD=pt.universal.api.city.method,e.THIRD_PARTY_ENTRY_METHOD="findData",e})();class Ot extends L{constructor(e,t,s){super(e,t,s),s||Object(y.a)("Could not inject user database service for offline mode")}}class Ct extends ee{constructor(e,t,s){super(e,t,s)}findByProvince(e){return super.getDbService().findByProvince(e).then(this.onFulfilledData(),e=>(this.getLogger().error(e),[])).catch(e=>(this.getLogger().error(e),[]))}}class St extends dt{constructor(e,t,s){super(e),this.id=e,this.code=t,this.name=s}}let jt=(()=>{class e extends w{constructor(e,t,s,r){super(e,t,s,a.province),this.thirdPartyApiBridge=r,r||Object(y.a)("Could not inject ThirdPartyApiBridgeDbService instance")}getAll(){return Object(y.a)(e.EXCEPTION_PERFORMANCE_REASON),Promise.reject(e.EXCEPTION_PERFORMANCE_REASON)}findByCountry(t){t||Object(y.a)(e.EXCEPTION_PERFORMANCE_REASON);const s=this,r={dbCacheFilter:{dbStore:this.getDbStore(),indexName:e.INDEX_NAME_COUNTRY_ID,criteria:t.id},callApi:{method:e.THIRD_PARTY_ENTRY_METHOD,args:[e.THIRD_PARTY_STATE_URL.concat("/",t.name),e.THIRD_PARTY_STATE_METHOD,St]},apiFulfilled:e=>{let r;const n={};return r=Object(O.isArray)(e)?e:e?[e]:[],r=r.removeIf(e=>Object(O.isNullOrUndefined)(e)),r.forEach(e=>{e.country_id=t.id;let s=t.code.concat("|",e.code);n.hasOwnProperty(s)?(n[s]=n[s]+1,s=s.concat("|",n[s].toString())):n[s]=1,e.code=s}),s.insertEntities(r).then(e=>r,e=>(s.getLogger().error(e),[])).catch(e=>(s.getLogger().error(e),[]))}};return s.thirdPartyApiBridge.fetch(r)}}return e.EXCEPTION_PERFORMANCE_REASON="Not support for getting all provinces because of performance!",e.INDEX_NAME_COUNTRY_ID="country_id",e.THIRD_PARTY_STATE_URL=pt.universal.api.province.url.call(void 0),e.THIRD_PARTY_STATE_METHOD=pt.universal.api.province.method,e.THIRD_PARTY_ENTRY_METHOD="findData",e})();class wt extends L{constructor(e,t,s){super(e,t,s)}}class Et extends ee{constructor(e,t,s){super(e,t,s)}findByCountry(e){return super.getDbService().findByCountry(e).then(this.onFulfilledData(),e=>(this.getLogger().error(e),[])).catch(e=>(this.getLogger().error(e),[]))}}class Tt extends dt{constructor(e,t){super(e),this.id=e,this.code=t}}class Rt extends Tt{constructor(){super(null,pt.universal.code)}}var At=s("jk/G"),qt=s("iLSq");class Pt{constructor(e,t,s,r){this.isCompression=e,this.encodingType=t,this.encryptionSecret=s,this.encryptionNamespace=r}}class Nt{serialize(e){return JSON.stringify(e)}deserialize(e){return N.safeParseJson(e)}}class It{constructor(e,t){this.prefix=e,this.allowNull=t}}const xt=new r.C("Local storage secure encryption configuration"),Dt=new r.C("Local storage configuration"),Lt=new r.C("Local storage serializer/deserializer injection");class Ut extends At.a{constructor(e,t,s){super(t||new Nt,s||new It),this._logger=e,this._serializer=t,e||Object(y.a)("Could not inject NGXLogger instance"),t||e.warn("Not inject serializer configuration! The default serializer will be used!"),t=t||new Nt,s||e.warn("Not inject storage configuration! The default configuration will be used!")}get logger(){return this._logger}get serializer(){return this._serializer}}class Mt{constructor(e,t,s,r){this._logger=e,this._serializer=t,this._storageConfig=s,this._secureConfig=r,e||Object(y.a)("Could not inject NGXLogger instance"),r||e.warn("Not inject secure storage configuration! The default configuration will be used!"),r=r||new Pt,this._internalSecuredStorage=new qt({isCompression:r.isCompression,encodingType:r.encodingType,encryptionNamespace:r.encryptionNamespace,encryptionSecret:r.encryptionSecret})}get secureConfig(){return this._secureConfig}get logger(){return this._logger}get serializer(){return this._serializer}get storageConfig(){return this._storageConfig}get internalSecuredStorage(){return this._internalSecuredStorage}_transformKey(e){return(this.storageConfig.prefix||"").concat(e||"")}_revertKey(e){return(e||"").substring((this.storageConfig.prefix||"").length)}getKey(e){const t=this.getAllKeys();return(t||[]).length&&0<=e&&e<t.length?t[e]:void 0}count(){return(this.getAllKeys()||[]).length}get(e,t){const s=this.internalSecuredStorage.get(this._transformKey(e),t);return Object(O.isNullOrUndefined)(s)?s:this.serializer.deserialize(s)}getDataFromLocalStorage(e){const t=this.internalSecuredStorage.getDataFromLocalStorage(this._transformKey(e));return Object(O.isNullOrUndefined)(t)?t:this.serializer.deserialize(t)}set(e,t){(Object(O.isNullOrUndefined)(t)&&this.storageConfig.allowNull||!Object(O.isNullOrUndefined)(t))&&this.internalSecuredStorage.set(this._transformKey(e),Object(O.isNullOrUndefined)(t)?t:this.serializer.serialize(t))}setDataToLocalStorage(e,t){(Object(O.isNullOrUndefined)(t)&&this.storageConfig.allowNull||!Object(O.isNullOrUndefined)(t))&&this.internalSecuredStorage.set(this._transformKey(e),Object(O.isNullOrUndefined)(t)?t:this.serializer.serialize(t))}remove(e){this.internalSecuredStorage.remove(this._transformKey(e))}getEncryptionSecret(){return this.internalSecuredStorage.getEncryptionSecret()}getAllKeys(){const e=this.internalSecuredStorage.getAllKeys();let t;return t=[],(e||[]).forEach(e=>t.push(this._revertKey(e))),t}removeAll(){this.internalSecuredStorage.removeAll()}clear(){this.internalSecuredStorage.clear()}resetAllKeys(){return this.internalSecuredStorage.resetAllKeys()}processData(e,t){return this.internalSecuredStorage.processData(e,t)}setMetaData(){this.internalSecuredStorage.setMetaData()}getMetaData(){return this.internalSecuredStorage.getMetaData()}}const Ft="TokenExpiredError",zt="JsonWebTokenError",Ht={code:pt.universal.code,baseUrl:pt.universal.baseUrl,token:{tokenUrl:pt.universal.api.token.tokenUrl.call(void 0),method:"GET",expiredIn:pt.universal.api.token.expiredIn},tokenParam:{type:"header",values:{"api-token":pt.universal.api.token.vapid_public_key,"user-email":pt.universal.api.token.email}}};class Bt extends mt{constructor(e,t,s){super(e,t,s)}}let Yt=(()=>{class e extends yt{constructor(e,t,s,r){super(e,t,s,r,Ht)}parseResponse(e){if(!(e&&e.getResponse()&&e.getResponse().body&&e.getResponse().ok))return;const t=new Rt;return t.id=t.id||S.oid.generate(),t.code=[this.config.code,this.config.token.method||"UNKNOWN",e.getResponse().url].join("|"),t.response=e.getResponse().body,t}isUnauthorizedOrExpired(e){if(e&&e instanceof d.c&&(500===e.status||401===e.status)){const t=e;if(t.error){const e=N.safeParseJson(t.error);return e&&e.error&&[Ft,zt].indexOf(e.error.name)>=0}}return super.isUnauthorizedOrExpired(e)}parseAccessToken(t){return(super.parseAccessToken(t)||{})[e.UNIVERSAL_ACCESS_TOKEN_API_PARAMETER_NAME]}processAccessToken(e,t){const s=[J,e||""].join(" ");return(t=t||{}).headers=t.headers||{},t.headers instanceof d.e?t.headers.set("Authorization",s):t.headers.Authorization=s,t}}return e.UNIVERSAL_ACCESS_TOKEN_API_PARAMETER_NAME="auth_token",e})();var Vt=(()=>{class e extends _t{constructor(){super(e.DATA_PROPERTY_PROVINCE_NAME)}mappingData(t){const s=S.oid.generate(),r=t[this.dataPropertyName];return new St(s,r.left(e.PROVINCE_CODE_FROM_NAME_LENGTH),r)}}return e.DATA_PROPERTY_PROVINCE_NAME="state_name",e.PROVINCE_CODE_FROM_NAME_LENGTH=3,e})(),Jt=(()=>{class e extends _t{constructor(){super(e.DATA_PROPERTY_CITY_NAME)}mappingData(t){const s=S.oid.generate(),r=t[this.dataPropertyName];return new St(s,r.left(e.CITY_CODE_FROM_NAME_LENGTH),r)}}return e.DATA_PROPERTY_CITY_NAME="city_name",e.CITY_CODE_FROM_NAME_LENGTH=3,e})();const Gt=[{provide:St,parser:new Vt},{provide:lt,parser:new Jt}],Kt=new class extends ft{constructor(){super(Gt)}};class Wt extends vt{constructor(e,t,s){super(e,t,s,Kt)}}var Xt=s("tS1D");const Qt=new r.C("The default request timeout to apply"),Zt=new r.C("The default request header to apply such as CORS");class $t extends bt{constructor(e,t,s,r){super(e,t,s,r)}}s("NFKh");const es=s("NFKh");class ts extends w{constructor(e,t,s){super(e,t,s,a.warehouse_settings)}}class ss extends L{constructor(e,t,s){super(e,t,s)}}class rs extends ee{constructor(e,t,s){super(e,t,s)}}class ns extends w{constructor(e,t,s){super(e,t,s,a.general_settings)}}class is extends L{constructor(e,t,s){super(e,t,s)}}class os extends ee{constructor(e,t,s){super(e,t,s)}}class as{static getElementsBySelector(e,t){if((e||"").length)return(t||document).querySelectorAll(e)}static getClosestElementBySelector(e,t){if(!(e||"").length)return;const s=t||document;return s?s.closest(e):void 0}static getFirstElementBySelector(e,t){let s;return s=this.getElementsBySelector(e,t),s&&s.length?s.item(0):void 0}static getFocusableElements(e){return as.getElementsBySelector("a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled])",e)}static getFirstFocusableElement(e){let t;return t=this.getFocusableElements(e),t&&t.length?t.item(0):void 0}static preventEvent(e){const t=e;return!t||(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),t.cancelBubble=!0,t.returnValue=!1,!1)}static sibling(e,t,s){let r;return r=e?(t||document.body).nextElementSibling:(t||document.body).previousElementSibling,(s||"").length&&r&&!r.matches(s)?this.sibling(e,r,s):r}static nextSibling(e,t){return this.sibling(!0,e,t)}static previousSibling(e,t){return this.sibling(!1,e,t)}static walk(e,t,s){let r;if(r=this.getElementsBySelector((s||"").length?s:"*"),!t)return r.item(e?0:r.length-1);for(let n=0;n<r.length;n++)if(r.item(n)===t&&(!(s||"").length||r.item(n).matches(s))){if(e&&n<r.length-1)return r.item(n+1);if(!e&&0<n)return r.item(n-1)}}static next(e,t){return this.walk(!0,e,t)}static previous(e,t){return this.walk(!1,e,t)}static getBaseHref(){let e,t;return e=document.getElementsByTagName("base"),t=e&&e.item(0)&&e.item(0).hasAttribute("href")?e.item(0).getAttribute("href"):o.baseHref,(t||"").trimLast("/")}static offset(e){if(Object(O.isNullOrUndefined)(e))return{top:-1,left:-1,width:-1,height:-1};const t=e.getBoundingClientRect(),s=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+r,left:t.left+s,width:e instanceof HTMLElement?e.offsetWidth:-1,height:e instanceof HTMLElement?e.offsetHeight:-1}}static detectBrowserLanguage(){const e=Object(O.isNullOrUndefined)(navigator)?"":navigator.language||"";return!e.length||e.indexOf("-")<0?e||"":e.substring(0,e.indexOf("-"))}static detectBrowserLanguages(){const e=this.detectBrowserConfigurationLanguages(),t=[];return e.forEach(e=>{const s=!e.length||e.indexOf("-")<0?e:e.substring(0,e.indexOf("-"));s.length&&t.indexOf(s)<0&&t.push(s)}),t}static detectBrowserConfigurationLanguages(){return Object(O.isNullOrUndefined)(navigator)?[]:Array.from(navigator.languages||[])}}class cs extends w{constructor(e,t,s){super(e,t,s,a.warehouse_item)}}class us extends L{constructor(e,t,s){super(e,t,s)}}class ds extends ee{getDataModel(){return this.dataModel}setDataModel(e){this.dataModel=e,super.reset(!0),super.refresh()}constructor(e,t,s){super(e,t,s)}getAll(){const e=this.dataModel?this.dataModel.code:void 0;return(e||"").length?super.getAllByIndex("item_code",IDBKeyRange.only(e)):Promise.resolve([])}}class ls extends w{constructor(e,t,s){super(e,t,s,a.warehouse_batch_no)}}class ps extends L{constructor(e,t,s){super(e,t,s)}}class hs extends ee{constructor(e,t,s){super(e,t,s)}}class gs{constructor(e,t,s){this._applicationRef=e,this._componentFactoryResolver=t,this._injector=s}get container(){return this._container}get applicationRef(){return this._applicationRef}get componentFactoryResolver(){return this._componentFactoryResolver}get injector(){return this._injector}get rootViewContainer(){if(this.container)return this.container;const e=this.applicationRef._rootComponents;if(e.length)return e[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer.")}set rootViewContainer(e){this._container=e}get rootViewContainerNode(){return this.getComponentRootNode(this.rootViewContainer)}getComponentRootNode(e){return e.hostView.rootNodes[0]}projectComponentInputs(e,t){if(t){const s=Object.getOwnPropertyNames(t);for(const r of s)e.instance[r]=t[r]}return e}appendComponentByFactory(e,t,s={},r=this.rootViewContainerNode){const n=(Object(O.isNullOrUndefined)(e)?this.componentFactoryResolver:e).resolveComponentFactory(t).create(this.injector),i=this.applicationRef,o=this.getComponentRootNode(n);if(this.projectComponentInputs(n,s),i.attachView)i.attachView(n.hostView),n.onDestroy(()=>{i.detachView(n.hostView)});else{const e=n.changeDetectorRef;"function"==typeof i.registerChangeDetector&&"function"==typeof i.unregisterChangeDetector&&(i.registerChangeDetector.apply(i,[e]),n.onDestroy(()=>{i.unregisterChangeDetector.apply(i,[e]),o.parentNode&&o.parentNode.removeChild(o)}))}return r.appendChild(o),n}appendComponent(e,t={},s=this.rootViewContainerNode){return this.appendComponentByFactory(null,e,t,s)}}class ms extends w{constructor(e,t,s){super(e,t,s,a.warehouse_management)}}class ys extends L{constructor(e,t,s){super(e,t,s)}}class fs extends ee{constructor(e,t,s){super(e,t,s)}}class _s{constructor(){this.properties={baseLocation:location.origin,debug:o.mock,concurrentJobs:1},this.workers=new Map,this.findWorker=e=>this.workers.get(e)}startTask(e){const t=new Worker(this.getOrCreateWorkerUrl());return this.workers.set(e.id,t),this.createWorkerObservableForTask(t,e)}pauseTask(e){this.notify(e,"pause",e)}resumeTask(e){this.notify(e,"resume",e)}stopTask(e){this.notify(e,"stop",e)}createWorkerObservableForTask(e,t){return new P.a(s=>{e.addEventListener("message",r=>{const n=r.data||{};n.taskId===t.id&&(s.next(n),"TERMINATED"===n.taskStatus&&(s.complete(),e.terminate()))}),e.addEventListener("error",e=>s.error(e)),this.notify(t.id,"start",t)})}getOrCreateWorkerUrl(){return this.workerURL||(this.workerURL=this.createWorkerUrl()),this.workerURL}notify(e,t,s){this.workers.has(e)&&this.workers.get(e).postMessage({action:t,payload:s})}createWorkerUrl(){const e=`\n            ${this.createWorkerTemplate()}\n            self.addEventListener('message', function(event) {\n                var listener = function ${this.workerListener.toString()};\n                listener(worker, event.data.action, event.data.payload);\n            });`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))}createWorkerTemplate(){return`\n            var config = {\n              properties: {\n                baseLocation: '${this.properties.baseLocation}',\n                debug: ${this.properties.debug},\n                concurrentJobs: ${this.properties.concurrentJobs},\n              },\n              dependencies: {\n                createJobManager: ${class{constructor(){this.pendingJobs=new Map,this.findPendingJob=e=>this.pendingJobs.get(e),this.cancelJob=e=>{const t=this.findPendingJob(e);Object(O.isNullOrUndefined)(t)||(t.canceled=!0,t.deleteOnCancel&&this.pendingJobs.delete(e))},this.performJob=(e,t,s,r)=>{this.pendingJobs.set(e.id,{job:e,timeout:s,deleteOnCancel:r});const n=this.pendingJobs.get(e.id).timeout||1e3,i=window.setTimeout(()=>{t(e,!this.pendingJobs.get(e.id).canceled),window.clearTimeout(i)},n)}}}.toString()},\n                createJobQueue: ${class{constructor(e){this._jobs=e,this.jobs=()=>(this._jobs=Object(O.isNullOrUndefined)(this._jobs)?[]:this._jobs,this._jobs),this.addJobs=(...e)=>{this.jobs().push(...e)},this.getJob=()=>this.jobs().shift(),this.isEmpty=()=>!this.jobs().length}}.toString()},\n              },\n            }\n            var worker = new ${class{constructor(e){this._SCRIPTS=["/assets/workers/base.worker.js"],this.pendingJobs=[],this.start=e=>{console.warn([`START TASK: ${e.id}`,e]),this.task=e,this.progress={totalJobs:e.jobs.length,doneJobs:0,progressPercent:e.jobs.length>0?0:100},this.queue=new this.createUploadQueue(e.jobs),this.changeTaskStatus("PAUSED")},this.pause=e=>{console.warn([`PAUSE TASK: ${e}`]),this.cancelPendingJobs(),this.changeTaskStatus("PAUSED")},this.resume=e=>{console.warn([`RESUME TASK: ${e}`]),this.changeTaskStatus("RUNNING"),this.runTask()},this.stop=e=>{console.warn([`STOP TASK: ${e}`]),this.changeTaskStatus("STOPPED"),this.terminateTask()},this.cancelPendingJobs=()=>{this.pendingJobs.forEach(e=>this.jobManager.cancelJob(e.id))},this.terminateTask=()=>{this.cancelPendingJobs(),this.changeTaskStatus("TERMINATED")},this.runTask=()=>{if(this.task&&"RUNNING"===this.task.status&&this.pendingJobs.length<this.properties.concurrentJobs){if(this.queue.isEmpty()&&!this.pendingJobs.length)return void this.terminateTask();const e=this.queue.getJob();e&&(this.pendingJobs.push(e),this.jobManager.performJob(e,this.jobOver),this.runTask())}},this.jobOver=(e,t)=>{const s=this.pendingJobs.indexOf(e);if(-1!==s&&this.pendingJobs.splice(s,1),!t)return this.queue.addJobs(e),void setTimeout(()=>this.runTask(),100);this.progress.doneJobs++,this.progress.progressPercent=Math.ceil(100*this.progress.doneJobs/this.progress.totalJobs),this.publishMessage(),this.runTask()},this.changeTaskStatus=e=>{this.task&&this.task.status!==e&&(this.task.status=e,this.publishMessage())},this.publishMessage=()=>{postMessage({taskId:this.task.id,taskStatus:this.task.status,progress:this.progress,taskData:this.task.data})},this.properties=e.properties,this.createUploadQueue=e.dependencies.createJobQueue,this.jobManager=new e.dependencies.createJobManager,importScripts(...this._SCRIPTS.map(e=>this.properties.baseLocation.concat(e)))}}.toString()}(config);\n        `}workerListener(e,t,s){switch(t){case"start":e.start(s);break;case"stop":e.stop(s);break;case"resume":e.resume(s);break;case"pause":e.pause(s)}}}var vs=s("3pDu");const bs=[].concat([{provide:_s,useClass:_s,deps:[]}]),ks=function(){return{WAREHOUSE_INVENTORY:{script:"",controller:null}}}();ks.WAREHOUSE_INVENTORY.script="./assets/workers/".concat("warehouse/warehouse.inventory/warehouse.inventory.service.worker.js");const Os={enabled:o.mock,registrationStrategy:"registerImmediately"},Cs=[].concat(function(){const e=[];return Object.keys(ks).forEach(t=>{e.push(vs.a.register(ks[t].script,Os))}),e}()),Ss=([].concat(Cs),"hi_system_");function js(){return new It(Ss,!1)}function ws(){return new Pt(!0,"rc4","s3cr3tPa$$w0rd@h1System","hi-system")}const Es=new r.C("Application baseHref injection"),Ts=document,Rs=[{provide:u.c,useValue:Ts},{provide:u.a,useFactory:as.getBaseHref,deps:[]},{provide:Es,useFactory:as.getBaseHref,deps:[]},{provide:de,useValue:fe.sw.vapid_public_key},{provide:r.G,useValue:"vi"},{provide:u.d,useClass:u.d,deps:[]},{provide:d.b,useClass:d.b,deps:[d.d]},{provide:l.c,useClass:l.c,deps:[d.d]},{provide:l.b,useClass:l.b,deps:[d.d]},{provide:W.a,useClass:be.a,deps:[]},{provide:ve.a,useClass:ve.a,deps:[]},{provide:ke.a,useClass:ke.a,deps:[]},{provide:Ae.c,useClass:Ae.c,deps:[u.c]},{provide:Ae.b,useClass:Ae.b,deps:[u.c]},{provide:r.u,useClass:class{constructor(e,t,s,r){this.translateService=e,this.toasterService=t,this.logger=s,this.injector=r,e||Object(y.a)("Could not inject TranslateService"),t||Object(y.a)("Could not inject ToastrService"),s||Object(y.a)("Could not inject NGXLogger"),r||Object(y.a)("Could not inject Injector")}getTranslateService(){return this.translateService}getToasterService(){return this.toasterService}getLogger(){return this.logger}getInjector(){return this.injector}handleError(e){const t=this.getInjector().get(u.i),s=e&&e.message?e.message:e?e.toString():"Unknown ERROR!!!",r=t instanceof u.j?t.path():"";window.console.error(["Global error handler",e]),this.getLogger()&&this.getLogger().error("Unexpected Error",{message:s,url:r,error:e}),this.getToasterService()&&this.getToasterService().error(this.getTranslateService().instant("common.toast.unknown"),this.getTranslateService().instant("app"))}},deps:[je.b,ye.a,l.a,r.D]},{provide:Dt,useFactory:js,deps:[]},{provide:xt,useFactory:ws,deps:[]},{provide:Lt,useClass:class{constructor(e){this._logger=e,this._logger||Object(y.a)("Could not inject NGXLogger instance")}get logger(){return this._logger}serialize(e){return M.base64Encode(":",e)}deserialize(e){return M.base64Decode(e)}},deps:[l.a]},{provide:Ut,useClass:Ut,deps:[l.a,Lt,Dt]},{provide:Mt,useClass:Mt,deps:[l.a,Lt,Dt,xt]},{provide:gs,useClass:gs,deps:[r.f,r.o,r.D]}],As=[{provide:g.a,useValue:"Authorization"},{provide:ue,useValue:"Company"},{provide:ce,useValue:"access_token"},{provide:d.a,useClass:class extends ae{constructor(e,t,s="Authorization",r="Company",n="access_token"){super(e,t,s),this.headerName=s,this.companyHeaderName=r,this.accessTokenParamName=n}isSupported(e){return super.isSupported(e)&&!this.isThirdPartyRequest(e)}isThirdPartyRequest(e){return e.headers&&e.headers.has("X-ThirdParty")}doIntercept(e,t){return this.authService.getToken().pipe(Object(oe.a)(s=>(s&&s.getValue()&&e&&!e.headers.has(this.headerName)&&!e.headers.hasOwnProperty(this.headerName)&&(e.headers.set(this.headerName,s.getValue()),e.headers.set(this.companyHeaderName,s.getPayload().company),e.params.append(this.accessTokenParamName,s.getValue())),t.handle(e))))}},deps:[r.D,l.a,g.a,ue,ce],multi:!0},{provide:Qt,useValue:fe.request.timeout},{provide:d.a,useClass:class extends ae{constructor(e,t,s){super(e,t,null),this._timeout=s}get timeout(){return Math.max(this._timeout,0)}doIntercept(e,t){const s=e.headers.get("timeout")||this.timeout,r=Number(s);return t.handle(e).pipe(Object(Xt.a)(r))}},deps:[r.D,l.a,Qt],multi:!0},{provide:Zt,useValue:fe.request.headers},{provide:d.a,useClass:class extends ae{constructor(e,t,s){super(e,t,null),this._headers=s}get headers(){return this._headers}doIntercept(e,t){if(e&&this.headers){let t;t=this.headers instanceof d.e?this.headers:new d.e(this.headers),t.keys().forEach(s=>{e.headers.has(s)||e.headers.set(s,t.get(s))})}return t.handle(e)}},deps:[r.D,l.a,Zt],multi:!0}],qs=[{provide:h,useClass:h,deps:[g.c,m.c]},{provide:te,useClass:te,deps:[T.a,l.a,ke.a]},{provide:se,useClass:se,deps:[d.b,l.a,te]},{provide:re,useClass:re,deps:[se,te,l.a]},{provide:G,useClass:G,deps:[T.a,l.a,ke.a]},{provide:K,useClass:K,deps:[d.b,l.a,B]},{provide:ie,useClass:ie,deps:[d.b,m.a,K,G,te,l.a]}],Ps=[{provide:Bt,useClass:Bt,deps:[T.a,l.a,ke.a]},{provide:Yt,useClass:Yt,deps:[d.b,l.a,Bt,Mt]},{provide:Wt,useClass:Wt,deps:[Yt,Bt,l.a]},{provide:$t,useClass:$t,deps:[T.a,l.a,ke.a,Wt]}],Ns=[{provide:je.a,useFactory:function(e,t){return e||Object(y.a)("Not found HttpClient to create TranslateHttpLoader"),new we.a(e,(t||"").concat("/assets/i18n/"))},deps:[d.b,u.a]},{provide:Pe,useClass:Pe,deps:[je.b,l.a]}],Is=[{provide:B,useClass:B,deps:[T.a,l.a,ke.a]},{provide:Y,useClass:Y,deps:[d.b,l.a,B]},{provide:_e,useClass:_e,deps:[Y,B,l.a]}],xs=[{provide:Oe,useClass:Oe,deps:[T.a,l.a,ke.a]},{provide:Ce,useClass:Ce,deps:[d.b,l.a,B]},{provide:Se,useClass:Se,deps:[Ce,Oe,l.a]}],Ds=[{provide:ns,useClass:ns,deps:[T.a,l.a,ke.a]},{provide:is,useClass:is,deps:[d.b,l.a,ns]},{provide:os,useClass:os,deps:[is,ns,l.a]}],Ls=[{provide:Ee,useClass:Ee,deps:[T.a,l.a,ke.a]},{provide:Te,useClass:Te,deps:[d.b,l.a,Ee]},{provide:Re,useClass:Re,deps:[Te,Ee,l.a]}],Us=[{provide:at,useClass:at,deps:[T.a,l.a,ke.a]},{provide:ct,useClass:ct,deps:[d.b,l.a,at]},{provide:ut,useClass:ut,deps:[ct,at,l.a]},{provide:jt,useClass:jt,deps:[T.a,l.a,ke.a,$t]},{provide:wt,useClass:wt,deps:[d.b,l.a,jt]},{provide:Et,useClass:Et,deps:[wt,jt,l.a]},{provide:kt,useClass:kt,deps:[T.a,l.a,ke.a,$t]},{provide:Ot,useClass:Ot,deps:[d.b,l.a,kt]},{provide:Ct,useClass:Ct,deps:[Ot,kt,l.a]}],Ms=[{provide:Ie,useClass:Ie,deps:[T.a,l.a,ke.a]},{provide:xe,useClass:xe,deps:[d.b,l.a,Ie]},{provide:De,useClass:De,deps:[xe,Ie,l.a]},{provide:ts,useClass:ts,deps:[T.a,l.a,ke.a]},{provide:ss,useClass:ss,deps:[d.b,l.a,ts]},{provide:rs,useClass:rs,deps:[ss,ts,l.a]},{provide:Le,useClass:Le,deps:[T.a,l.a,ke.a]},{provide:Ue,useClass:Ue,deps:[d.b,l.a,Le]},{provide:Me,useClass:Me,deps:[Ue,Le,l.a]},{provide:Fe,useClass:Fe,deps:[T.a,l.a,ke.a]},{provide:ze,useClass:ze,deps:[d.b,l.a,Fe]},{provide:He,useClass:He,deps:[ze,Fe,l.a]},{provide:Be,useClass:Be,deps:[T.a,l.a,ke.a]},{provide:Ye,useClass:Ye,deps:[d.b,l.a,Be]},{provide:Ve,useClass:Ve,deps:[Ye,Be,l.a]},{provide:cs,useClass:cs,deps:[T.a,l.a,ke.a]},{provide:us,useClass:us,deps:[d.b,l.a,cs]},{provide:ds,useClass:ds,deps:[us,cs,l.a]},{provide:Je,useClass:Je,deps:[T.a,l.a,ke.a]},{provide:Ge,useClass:Ge,deps:[d.b,l.a,Je]},{provide:Ke,useClass:Ke,deps:[Ge,Je,l.a]},{provide:We,useClass:We,deps:[T.a,l.a,ke.a]},{provide:Xe,useClass:Xe,deps:[d.b,l.a,We]},{provide:Qe,useClass:Qe,deps:[Xe,We,l.a]},{provide:Ze,useClass:Ze,deps:[T.a,l.a,ke.a]},{provide:$e,useClass:$e,deps:[d.b,l.a,Ze]},{provide:et,useClass:et,deps:[$e,Ze,l.a]},{provide:tt,useClass:tt,deps:[T.a,l.a,ke.a]},{provide:st,useClass:st,deps:[d.b,l.a,tt]},{provide:rt,useClass:rt,deps:[st,tt,l.a]},{provide:nt,useClass:nt,deps:[T.a,l.a,ke.a]},{provide:it,useClass:it,deps:[d.b,l.a,nt]},{provide:ot,useClass:ot,deps:[it,nt,l.a]},{provide:ls,useClass:ls,deps:[T.a,l.a,ke.a]},{provide:ps,useClass:ps,deps:[d.b,l.a,ls]},{provide:hs,useClass:hs,deps:[ps,ls,l.a]},{provide:ms,useClass:ms,deps:[T.a,l.a,ke.a]},{provide:ys,useClass:ys,deps:[d.b,l.a,ms]},{provide:fs,useClass:fs,deps:[ys,ms,l.a]}],Fs=[{provide:me,useClass:me,deps:[T.a,l.a,ke.a]},{provide:Ne,useClass:Ne,deps:[te,m.c,ye.a,je.b,l.a]}],zs=[{provide:E,useClass:E,deps:[T.a,l.a,ke.a]}],Hs=[].concat([{provide:r.b,useFactory:()=>e=>{window.console.info(["Bootstrap Listener: Component",e,"Component Instance",e?e.instance:"NULL","Component Title",e&&e.instance?e.instance.title:"NULL"])},deps:[],multi:!0},{provide:r.d,useFactory:()=>()=>new Promise((e,t)=>{window.console.info(["Application Initializer Listener"]),e(!0)}),deps:[],multi:!0}]).concat(Rs).concat(As).concat(Ps).concat(qs).concat(Ns).concat(Ds).concat(Ls).concat(Is).concat(xs).concat(Us).concat(Ms).concat(Fs).concat(bs).concat(zs),Bs={autoDismiss:!0,closeButton:!1,countDuplicates:!0,disableTimeOut:!1,enableHtml:!0,newestOnTop:!0,positionClass:"toast-top-right",preventDuplicates:!0,progressBar:!0,tapToDismiss:!0,timeOut:5e3},Ys={defaultLang:"en",use:"vi",languages:["en","vi"]},Vs=function(){var e={PageConfig:{title:"app"},Injector:void 0,appRef:void 0,viewRef:void 0,COMMON:fe,TOASTER:Bs,API:{},Db:c,Providers:Hs,Env:o,i18n:Ys,IdGenerators:S,CryptoService:es,Storage:{storageConfig:{},secureConfig:{}},ServiceWorkers:ks};return e.API=Object.assign({},F),e}();Vs.Storage.storageConfig=Object.assign({},js()),Vs.Storage.secureConfig=Object.assign({},ws());class Js{constructor(e,t){Vs.Injector=r.D.create({providers:Vs.Providers,parent:e}),t.registerFontPack("fa",{packClass:"fa",iconClassPrefix:"fa"}),t.registerFontPack("fas",{packClass:"fas",iconClassPrefix:"fa"}),t.registerFontPack("far",{packClass:"far",iconClassPrefix:"fa"}),t.registerFontPack("ion",{iconClassPrefix:"ion"}),navigator&&"serviceWorker"in navigator&&(console.warn(["Start browser service worker registration",navigator.serviceWorker]),navigator.serviceWorker.getRegistrations().then(e=>{console.warn(["Browser service registration",e]);let t={};!Object(O.isNullOrUndefined)(e)&&Array.from(e).length?Object.keys(ks).forEach(s=>{const r=ks[s];let n=r.script;n.startsWith("./")&&(n=n.right(n.length-2)),!Array.from(e).filter(e=>{const t=!Object(O.isNullOrUndefined)(e.active)&&(e.active.scriptURL||"").length&&e.active.scriptURL.indexOf(n)>=0;return t&&(r.controller=e.active,r.controller.postMessage({type:"environment",environment:o,dbStores:a}),e.update()),t}).length||(t[s]=r)}):t=ks,console.warn(["Need to register service workers",t]),Object.keys(t).forEach(e=>{const s=t[e];(s.script||"").length?navigator.serviceWorker.register(s.script).then(t=>(console.warn([`Register ${e} successfully`,t]),navigator.serviceWorker.ready.then(e=>{s.controller=e.active,s.controller.postMessage({type:"environment",environment:o,dbStores:a})})),t=>{console.error(`Could not register ${e}: ${t}`)}).catch(t=>{console.error(`Could not register ${e}: ${t}`)}):console.warn(`Invalid worker script to register ${e}`)})}))}}s("XNiG"),s("w1tV"),s("3E0/");var Gs=s("pLZG");s("2Vo4"),s("GJmQ"),s("1G5W");var Ks=s("wd/R"),Ws=s("YL2T"),Xs=s("0fkH");function Qs(e,t){t.forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(s=>{e.prototype[s]||Object.defineProperty(e.prototype,s,Object.getOwnPropertyDescriptor(t.prototype,s))})})}o.production&&Object(r.rb)(),Qs(Ws.a,[class{get prototypeName(){return Reflect.getPrototypeOf(this).constructor.name}constructor(){}ngOnChanges(e){window.console.warn(["ComponentLifeCycle","ngOnChanges",this.prototypeName])}ngOnInit(){window.console.warn(["ComponentLifeCycle","ngOnInit",this.prototypeName])}ngDoCheck(){window.console.warn(["ComponentLifeCycle","ngDoCheck",this.prototypeName])}ngAfterContentInit(){window.console.warn(["ComponentLifeCycle","ngAfterContentInit",this.prototypeName])}ngAfterContentChecked(){window.console.warn(["ComponentLifeCycle","ngAfterContentChecked",this.prototypeName])}ngAfterViewInit(){window.console.warn(["ComponentLifeCycle","ngAfterViewInit",this.prototypeName])}ngAfterViewChecked(){window.console.warn(["ComponentLifeCycle","ngAfterViewChecked",this.prototypeName])}ngOnDestroy(){window.console.warn(["ComponentLifeCycle","ngOnDestroy",this.prototypeName])}}]),Qs(Xs.a,[class{constructor(e,t,s,r,n,i,o){this._translateService=e,this._factoryResolver=t,this._viewContainerRef=s,this._changeDetectorRef=r,this._elementRef=n,this._formlyConfig=i,this._injector=o,this.__initialized=!1,this._formlyConfig=this.translateFormConfig(i)}get componentFactoryResolver(){return Object(O.isNullOrUndefined)(this._factoryResolver)&&!Object(O.isNullOrUndefined)(this.injector)&&(this._factoryResolver=this.injector.get(r.o)),this._factoryResolver}set componentFactoryResolver(e){this._factoryResolver=e}get viewContainerRef(){return Object(O.isNullOrUndefined)(this._viewContainerRef)&&!Object(O.isNullOrUndefined)(this.injector)&&(this._viewContainerRef=this.injector.get(r.mb)),this._viewContainerRef}get changeDetectorRef(){return Object(O.isNullOrUndefined)(this._changeDetectorRef)&&!Object(O.isNullOrUndefined)(this.injector)&&(this._changeDetectorRef=this.injector.get(r.j)),this._changeDetectorRef}get elementRef(){return Object(O.isNullOrUndefined)(this._elementRef)&&!Object(O.isNullOrUndefined)(this.injector)&&(this._elementRef=this.injector.get(r.t)),this._elementRef}get injector(){return this._injector}set injector(e){this._injector=e}get translateService(){return Object(O.isNullOrUndefined)(this._translateService)&&!Object(O.isNullOrUndefined)(this.injector)&&(this._translateService=this.injector.get(je.b)),this._translateService}get formlyConfig(){return this.__initialized||(this._formlyConfig=this.translateFormConfig(this._formlyConfig),this.__initialized=!0),this._formlyConfig}set formlyConfig(e){this._formlyConfig=e}translate(e,t){return(e||"").length&&this.translateService?t?this.translateService.instant(e,t):this.translateService.instant(e):e}translateFormConfig(e){if(!Object(O.isNullOrUndefined)(e)){const t=this;e["messages:keys"]={};const s=e.messages;Object.keys(s).length&&Object.keys(s).forEach(t=>{s[t]=this.__translateFormValidationMessage(t,s[t],e["messages:keys"])});const r=e.addValidatorMessage;e.addValidatorMessage=(s,n)=>{const i=t.__translateFormValidationMessage(s,n,e["messages:keys"]);r.apply(e,[s,i])};const n=e.getValidatorMessage;e.getValidatorMessage=s=>t.__translateFormValidationMessage(s,n.apply(e,[s]),e["messages:keys"]);const i=e.addConfig;e.addConfig=s=>{(s.validationMessages||[]).forEach(s=>{s.message=t.__translateFormValidationMessage(s.name,s.message,e["messages:keys"])}),i.apply(e,[s])}}return e}__translateFormValidationMessage(e,t,s){if(s=s||{},"function"==typeof t)return(e,s)=>{const r=t.apply(s,[e,s]);return(r||"").length?this.translate(r):""};if("string"==typeof t&&(t||"").length){const r=[e,"key"].join(":");return s.hasOwnProperty(r)||(s[r]=t),this.translate(s[r])}}}]),Object(n.a)().bootstrapModule(class{constructor(e,t,s,r,n,i,o,a,c){this.analytics=e,this.seoService=t,this.logger=s,this.translateService=r,this.router=n,this.activatedRoute=i,this.pageHeaderService=o,this.applicationRef=a,this.viewContainerRef=c,e||Object(y.a)("Could not inject AnalyticsService"),t||Object(y.a)("Could not inject SeoService"),s||Object(y.a)("Could not inject TranslateService"),r||Object(y.a)("Could not inject TranslateService"),n||Object(y.a)("Could not inject Router"),i||Object(y.a)("Could not inject ActivatedRoute"),o||Object(y.a)("Could not inject PageHeaderService"),a||Object(y.a)("Could not inject ApplicationRef"),c||Object(y.a)("Could not inject ViewContainerRef"),Vs.appRef=this.applicationRef,Vs.viewRef=this.viewContainerRef}ngOnInit(){this.analytics.trackPageViews(),this.seoService.trackCanonicalChanges();let e=as.detectBrowserLanguage();!e.length||Vs.i18n.languages.indexOf(e)<0?e=Vs.i18n.defaultLang:Vs.i18n.defaultLang!==e&&(Vs.i18n.defaultLang=e),this.logger.warn("Default application language",e),this.translateService.setDefaultLang(e),this.translateService.use(Vs.i18n.use),this.translateService.addLangs(Vs.i18n.languages),this.translateService.get("common.search.placeholder").subscribe(e=>this.logger.debug("Translated?","common.search.placeholder"," -> ",e)),this.translateService.get("app").subscribe(e=>this.logger.debug("Translated?","app"," -> ",e)),Ks.locale(Vs.i18n.use),this.detectForPageHeaderConfig()}detectForPageHeaderConfig(){this.router.events.pipe(Object(Gs.a)(e=>e instanceof m.b),Object(A.a)(()=>{let e;const t=this.activatedRoute.firstChild;if(t.snapshot.data.headerConfig&&(e=t.snapshot.data.headerConfig,e)){let t;t=[Vs.PageConfig.title],Object(O.isArray)(e.title)?t=t.concat(Array.from(e.title)):(e.title||"").length&&t.push(e.title),e.title=t}return e||Vs.PageConfig})).subscribe(e=>{if(e){let t;t=window.setTimeout(()=>{this.pageHeaderService.setConfig(e),window.clearTimeout(t)},300)}})}}).then(e=>{window.console.info(["======= MAIN BOOTSTRAP APPLICATION SUCCESSFUL =======",e]),Object(n.a)().bootstrapModule(Js).then(e=>{window.console.info(["======= MAIN BOOTSTRAP APPLICATION MODULE SUCCESSFUL =======",e])},e=>window.console.error(["======= MAIN BOOTSTRAP APPLICATION MODULE ERROR =======",e])).catch(e=>window.console.error(["======= MAIN BOOTSTRAP APPLICATION MODULE ERROR =======",e]))},e=>window.console.error(["======= MAIN BOOTSTRAP APPLICATION ERROR =======",e])).catch(e=>window.console.error(["======= MAIN BOOTSTRAP APPLICATION ERROR =======",e]))}},[[0,0,5]]]);