<nb-card>
    <nb-card-header>
        <div class="form-group row has-search m-md-auto">
            <label for="search" class="col-form-label">{{tableHeader}}</label>
            <div class="col-sm-5">
                <nb-icon id="searchIcon" icon="search" pack="fa" class="form-control-feedback"></nb-icon>
                <input type="search" #search id="search" placeholder="Search"
                       class="form-control nb-search pt-0 py-0"
                       [disabled]="isInEditMode()"
                       (keydown.enter)="onSearch(search.value)">
            </div>
        </div>
    </nb-card-header>

    <nb-card-body>
        <ng2-smart-table [settings]="settings"
                         [source]="dataSource"
                         (rowSelect)="onRowSelect($event)"
                         (userRowSelect)="onUserRowSelect($event)"
                         (mouseover)="onMouseOver($event)"
                         (click)="onClick($event)"
                         (dblclick)="onDoubleClick($event)"
                         (create)="onCreate($event)"
                         (createConfirm)="onCreateConfirm($event)"
                         (edit)="onEdit($event)"
                         (editConfirm)="onEditConfirm($event)"
                         (delete)="onDelete($event)"
                         (deleteConfirm)="onDeleteConfirm($event)"
                         [contextMenu]="contextMenuComponent"
                         (contextmenu)="onContextMenu($event)"
                         (keydown)="onKeyDown($event)"
                         (keypress)="onKeyPress($event)"
                         (keyup)="onKeyUp($event)"
        ></ng2-smart-table>
        <context-menu #contextMenuComponent
                      [disabled]="!contextMenu || !contextMenu.length"
                      (close)="onContextMenuClose()">
            <ng-template
                contextMenuItem
                *ngFor="let item of contextMenu"
                [visible]="item?.visible?.apply(this, [ undefined ])"
                [enabled]="item?.enabled?.apply(this, [ undefined ])"
                [divider]="item?.divider?.apply(this, [ undefined ])"
                (execute)="onMenuEvent($event, item)"
            ><span><nb-icon [icon]="item?.icon?.apply(this, [ undefined ])" pack="fa"></nb-icon>
                {{item?.title?.apply(this, [undefined])}}</span></ng-template>
        </context-menu>
    </nb-card-body>
</nb-card>
