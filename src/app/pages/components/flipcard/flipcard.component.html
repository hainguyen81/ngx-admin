<nb-card>
    <nb-card-header *ngIf="isShowHeader()">
        <ng-template #headerHolder></ng-template>
    </nb-card-header>

    <nb-card-body>
        <nb-flip-card #flipCard
                      [flipped]="flipped"
                      [showToggleButton]="showToggleButton"
                      [contextMenu]="flipCardContextMenuComponent"
                      (contextmenu)="onContextMenu({ event: $event, data: flipCard })"
                      (keydown)="onKeyDown({ event: $event, data: flipCard })"
                      (keypress)="onKeyPress({ event: $event, data: flipCard })"
                      (keyup)="onKeyUp({ event: $event, data: flipCard })"
                      (click)="onClick({ event: $event, data: flipCard })"
                      (dblclick)="onDoubleClick( { event: $event, data: flipCard })"
                      (mousedown)="onMouseDown({ event: $event, data: flipCard })"
                      (mouseenter)="onMouseEnter({ event: $event, data: flipCard })"
                      (mouseleave)="onMouseLeave({ event: $event, data: flipCard })"
                      (mousemove)="onMouseMove({ event: $event, data: flipCard })"
                      (mouseout)="onMouseOut({ event: $event, data: flipCard })"
                      (mouseover)="onMouseOver({ event: $event, data: flipCard })"
                      (mouseup)="onMouseUp({ event: $event, data: flipCard })"
                      (mousewheel)="onMouseWheel({ event: $event, data: flipCard })"
                      (focus)="onFocus({ event: $event, data: flipCard })"
                      (focusin)="onFocusIn({ event: $event, data: flipCard })"
                      (focusout)="onFocusOut({ event: $event, data: flipCard })"
                      (blur)="onBlur({ event: $event, data: flipCard })"
        >
            <nb-card-front #cardFrontComponent [class.d-none]="flipped" [class.d-flex]="!flipped">
                <!-- Front component holder -->
                <ng-template #frontComponent></ng-template>
            </nb-card-front>
            <nb-card-back #cardBackComponent [class.d-none]="!flipped" [class.d-flex]="flipped">
                <!-- Back component holder -->
                <ng-template #backComponent></ng-template>
            </nb-card-back>
        </nb-flip-card>
        <context-menu #flipCardContextMenuComponent
                      [disabled]="!contextMenu || !contextMenu.length"
                      (close)="onContextMenuClose()">
            <ng-template
                contextMenuItem
                *ngFor="let item of contextMenu"
                [visible]="evalContextMenuItem(item, 'visible', false)"
                [enabled]="evalContextMenuItem(item, 'enabled', false)"
                [divider]="evalContextMenuItem(item, 'divider', false)"
                (execute)="onMenuEvent({ event: $event.event, data: { item: $event.item, menu: item } })"
            >
                <span><nb-icon [icon]="evalContextMenuItem(item, 'icon')" pack="fa"></nb-icon>
                {{evalContextMenuItem(item, 'title', '') | translate}}</span>
            </ng-template>
        </context-menu>
    </nb-card-body>
</nb-card>
