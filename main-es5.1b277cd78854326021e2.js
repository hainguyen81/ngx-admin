function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,e)})(e)}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},crnd:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="crnd"},zUnb:function(e,t,n){"use strict";n.r(t);var r=n("8Y7J"),i=n("wAiw");function o(e,t){var n,r;if(n=[].concat(e||[]),"function"==typeof t)for(r=0;r<n.length;)t.apply(n,[n[r],r])?n.splice(r,1):++r;return n}Array.prototype.removeIf||(Array.prototype.removeIf=function(e){return o(this,e)}),Array.prototype.removeSelfIf||(Array.prototype.removeSelfIf=function(e){var t=o(this,e);this.clear(),this.push.apply(this,_toConsumableArray(t||[]))}),Array.prototype.remove||(Array.prototype.remove=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(function(e){for(var t,n,r,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];for(t=(o||[]).length;t&&(e||[]).length;)for(r=o[--t];-1!==(n=(e||[]).indexOf(r));)(e||[]).splice(n,1)}).apply(void 0,[this].concat(t))}),Array.prototype.clear||(Array.prototype.clear=function(){this.length&&this.splice(0,this.length)}),Array.prototype.first||(Array.prototype.first=function(){return this.length?this[0]:null}),Array.prototype.last||(Array.prototype.last=function(){return this.length?this[this.length-1]:null}),Array.prototype.inject||(Array.prototype.inject=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(function(e,t){for(var n,r,i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];r=[],o instanceof Array||"[object Array]"===Object.prototype.toString.call(o)?r=[].concat(o):o&&r.push(o),r.length&&!isNaN(t)&&0<=t&&t<this.length&&(n=e||[]).splice.apply(n,[t+1,0].concat(_toConsumableArray(r)))}).apply(void 0,[this,e].concat(n))}),Array.prototype.unique||(Array.prototype.unique=function(){return function(e){var t;if(((t=(e||[]).concat())||[]).length)for(var n=0;n<t.length;n++)for(var r=n+1;r<t.length;r++)t[n]===t[r]&&t.splice(r--,1);return t}(this)}),Array.prototype.contains||(Array.prototype.contains=function(e){return this.length&&this.indexOf(e)>=0}),Array.prototype.diff||(Array.prototype.diff=function(e){return function(e,t){var n,r;n=[],r=(t||[]).concat([]);for(var i=0;i<(e||[]).length;i++)r.contains(e[i])?r.splice(r.indexOf(e[i]),1):n.push(e[i]);for(var o=0;o<r.length;o++)n.contains(r[o])||n.push(r[o]);return n}(this,e)}),Array.prototype.isDiff||(Array.prototype.isDiff=function(e){return function(e,t){var n;if(!(n=(t||[]).length!==(e||[]).length))for(var r=0;r<(e||[]).length;r++)if(!(t||[]).contains(e[r])){n=!0;break}return n}(this,e)}),String.prototype.left||(String.prototype.left=function(e){return function(e,t){var n;return n=e||"",t=Math.min(n.length,Math.max(t,0)),n.substring(0,t)}(this,e)}),String.prototype.right||(String.prototype.right=function(e){return function(e,t){var n;return n=e||"",t=Math.max(t,0),n.substring(t=t<n.length?n.length-t-1:0,n.length)}(this,e)}),String.prototype.padCenter||(String.prototype.padCenter=function(e,t){return function(e,t,n){var r;return r=e||"",0<=(t=Math.max(t,0))||t<=r.length||!(n||"").length?r:r.padStart((r.length+t)/2,n).padEnd(t,n)}(this,e,t)}),String.prototype.trimLast||(String.prototype.trimLast=function(e){return function(e,t){var n;return(n=e||"").lastIndexOf(t)>=0?n.substring(0,n.lastIndexOf(t)):n}(this,e)});var a,s,u,c,l,h,p,d={github:!0,production:!0,databaseName:"HiGithub",offline:!0,baseHref:"https://hainguyen81.github.io/ngx-admin/",useProxy:!1,mock:!0},f={version:1,third_party:"third_party",auth:"auth",module:"module",user:"user",customer:"customer",country:"country",city:"city",province:"province",organization:"organization",general_settings:"general_settings",warehouse:"warehouse",warehouse_item:"warehouse_item",warehouse_order:"warehouse_order",warehouse_order_detail:"warehouse_order_detail",warehouse_inventory:"warehouse_inventory",warehouse_inventory_detail:"warehouse_inventory_detail",warehouse_category:"warehouse_category",warehouse_adjust:"warehouse_adjust",warehouse_adjust_detail:"warehouse_adjust_detail",warehouse_settings:"warehouse_settings",warehouse_batch_no:"warehouse_batch_no",warehouse_management:"warehouse_management"},g={name:d.databaseName,version:f.version,objectStoresMeta:[{store:f.third_party,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"response",keypath:"response",options:{unique:!1}},{name:"expiredAt",keypath:"expiredAt",options:{unique:!1}}]},{store:f.general_settings,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!1}},{name:"name",keypath:"name",options:{unique:!1}},{name:"value",keypath:"value",options:{unique:!1}},{name:"builtin",keypath:"builtin",options:{unique:!1}},{name:"module_id",keypath:"module_id",options:{unique:!1}},{name:"module_code",keypath:"module_code",options:{unique:!1}},{name:"module",keypath:"module",options:{unique:!1}}]},{store:f.auth,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"access_token",keypath:"access_token",options:{unique:!0}},{name:"token_type",keypath:"token_type",options:{unique:!1}},{name:"refresh_token",keypath:"refresh_token",options:{unique:!0}},{name:"expires_in",keypath:"expires_in",options:{unique:!1}},{name:"scope",keypath:"scope",options:{unique:!1}},{name:"company",keypath:"company",options:{unique:!1}},{name:"enterprise",keypath:"enterprise",options:{unique:!1}},{name:"username",keypath:"username",options:{unique:!1}},{name:"firstName",keypath:"firstName",options:{unique:!1}},{name:"lastName",keypath:"lastName",options:{unique:!1}},{name:"email",keypath:"email",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"status",keypath:"status",options:{unique:!1}},{name:"rolesGroupId",keypath:"rolesGroupId",options:{unique:!1}},{name:"rolesGroup",keypath:"rolesGroup",options:{unique:!1}}]},{store:f.module,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"apiId",keypath:"apiId",options:{unique:!0}},{name:"api",keypath:"api",options:{unique:!1}},{name:"children",keypath:"children",options:{unique:!1}}]},{store:f.user,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"scope",keypath:"scope",options:{unique:!1}},{name:"company",keypath:"company",options:{unique:!1}},{name:"enterprise",keypath:"enterprise",options:{unique:!1}},{name:"username",keypath:"username",options:{unique:!0}},{name:"password",keypath:"password",options:{unique:!1}},{name:"firstName",keypath:"firstName",options:{unique:!1}},{name:"lastName",keypath:"lastName",options:{unique:!1}},{name:"email",keypath:"email",options:{unique:!0}},{name:"image",keypath:"image",options:{unique:!0}},{name:"status",keypath:"status",options:{unique:!1}}]},{store:f.customer,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"type",keypath:"type",options:{unique:!1}},{name:"status",keypath:"status",options:{unique:!1}},{name:"level",keypath:"level",options:{unique:!1}},{name:"email",keypath:"email",options:{unique:!0}},{name:"tel",keypath:"tel",options:{unique:!1}},{name:"fax",keypath:"fax",options:{unique:!1}},{name:"website",keypath:"website",options:{unique:!1}},{name:"address",keypath:"address",options:{unique:!1}},{name:"district_id",keypath:"district_id",options:{unique:!1}},{name:"district",keypath:"district",options:{unique:!1}},{name:"city_id",keypath:"city_id",options:{unique:!1}},{name:"city",keypath:"city",options:{unique:!1}},{name:"province_id",keypath:"province_id",options:{unique:!1}},{name:"province",keypath:"province",options:{unique:!1}},{name:"zip_code",keypath:"zip_code",options:{unique:!1}},{name:"country_id",keypath:"country_id",options:{unique:!1}},{name:"country",keypath:"country",options:{unique:!1}},{name:"contact_name",keypath:"contact_name",options:{unique:!1}},{name:"contact_tel",keypath:"contact_tel",options:{unique:!1}},{name:"contact_fax",keypath:"contact_fax",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}}]},{store:f.organization,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"parentId",keypath:"parentId",options:{unique:!1}},{name:"parent",keypath:"parent",options:{unique:!1}},{name:"type",keypath:"type",options:{unique:!1}},{name:"tax",keypath:"tax",options:{unique:!1}},{name:"address",keypath:"address",options:{unique:!1}},{name:"district_id",keypath:"district_id",options:{unique:!1}},{name:"district",keypath:"district",options:{unique:!1}},{name:"city_id",keypath:"city_id",options:{unique:!1}},{name:"city",keypath:"city",options:{unique:!1}},{name:"province_id",keypath:"province_id",options:{unique:!1}},{name:"province",keypath:"province",options:{unique:!1}},{name:"zip_code",keypath:"zip_code",options:{unique:!1}},{name:"country_id",keypath:"country_id",options:{unique:!1}},{name:"country",keypath:"country",options:{unique:!1}},{name:"tel",keypath:"tel",options:{unique:!1}},{name:"fax",keypath:"fax",options:{unique:!1}},{name:"email",keypath:"email",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}},{name:"managerId",keypath:"managerId",options:{unique:!1}},{name:"manager",keypath:"manager",options:{unique:!1}},{name:"contact",keypath:"contact",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"children",keypath:"children",options:{unique:!1}}]},{store:f.warehouse,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"type",keypath:"type",options:{unique:!1}},{name:"street_address",keypath:"street_address",options:{unique:!1}},{name:"district_id",keypath:"district_id",options:{unique:!1}},{name:"district",keypath:"district",options:{unique:!1}},{name:"city_id",keypath:"city_id",options:{unique:!1}},{name:"city",keypath:"city",options:{unique:!1}},{name:"province_id",keypath:"province_id",options:{unique:!1}},{name:"province",keypath:"province",options:{unique:!1}},{name:"country_id",keypath:"country_id",options:{unique:!1}},{name:"country",keypath:"country",options:{unique:!1}},{name:"zip_code",keypath:"zip_code",options:{unique:!1}},{name:"tel",keypath:"tel",options:{unique:!1}},{name:"fax",keypath:"fax",options:{unique:!1}},{name:"email",keypath:"email",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}},{name:"pathCodes",keypath:"pathCodes",options:{unique:!1}},{name:"pathIds",keypath:"pathIds",options:{unique:!1}},{name:"parentId",keypath:"parentId",options:{unique:!1}},{name:"parent",keypath:"parent",options:{unique:!1}},{name:"children",keypath:"children",options:{unique:!1}}]},{store:f.warehouse_item,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!1}},{name:"name",keypath:"name",options:{unique:!1}},{name:"status",keypath:"status",options:{unique:!1}},{name:"barcode",keypath:"barcode",options:{unique:!1}},{name:"serial",keypath:"serial",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"manufacturer",keypath:"manufacturer",options:{unique:!1}},{name:"length",keypath:"length",options:{unique:!1}},{name:"width",keypath:"width",options:{unique:!1}},{name:"height",keypath:"height",options:{unique:!1}},{name:"weight",keypath:"weight",options:{unique:!1}},{name:"size",keypath:"size",options:{unique:!1}},{name:"unit",keypath:"unit",options:{unique:!1}},{name:"rate_per_unit",keypath:"rate_per_unit",options:{unique:!1}},{name:"dealer_price",keypath:"dealer_price",options:{unique:!1}},{name:"cost_price",keypath:"cost_price",options:{unique:!1}},{name:"selling_price",keypath:"selling_price",options:{unique:!1}},{name:"currency",keypath:"currency",options:{unique:!1}},{name:"stock_on_hand",keypath:"stock_on_hand",options:{unique:!1}},{name:"committed_stock",keypath:"committed_stock",options:{unique:!1}},{name:"available_stock",keypath:"available_stock",options:{unique:!1}},{name:"incoming_stock",keypath:"incoming_stock",options:{unique:!1}},{name:"quantity_shipped",keypath:"quantity_shipped",options:{unique:!1}},{name:"quantity_received",keypath:"quantity_received",options:{unique:!1}},{name:"description",keypath:"description",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}},{name:"is_version",keypath:"is_version",options:{unique:!1}},{name:"versions",keypath:"versions",options:{unique:!1}},{name:"item_id",keypath:"item_id",options:{unique:!1}},{name:"item_code",keypath:"item_code",options:{unique:!1}},{name:"item",keypath:"item",options:{unique:!1}},{name:"categories_id",keypath:"categories_id",options:{unique:!1}},{name:"category",keypath:"category",options:{unique:!1}},{name:"brand_id",keypath:"brand_id",options:{unique:!1}},{name:"brand",keypath:"brand",options:{unique:!1}}]},{store:f.warehouse_order,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"order_code",keypath:"order_code",options:{unique:!0}},{name:"order_type",keypath:"order_type",options:{unique:!1}},{name:"sales_person",keypath:"sales_person",options:{unique:!1}},{name:"order_date",keypath:"order_date",options:{unique:!1}},{name:"order_status",keypath:"order_status",options:{unique:!1}},{name:"ship_to_name",keypath:"ship_to_name",options:{unique:!1}},{name:"ship_to_company",keypath:"ship_to_company",options:{unique:!1}},{name:"ship_to_street_address",keypath:"ship_to_street_address",options:{unique:!1}},{name:"ship_to_city",keypath:"ship_to_city",options:{unique:!1}},{name:"ship_to_state_province",keypath:"ship_to_state_province",options:{unique:!1}},{name:"ship_to_zip_code",keypath:"ship_to_zip_code",options:{unique:!1}},{name:"ship_to_country",keypath:"ship_to_country",options:{unique:!1}},{name:"ship_to_tel",keypath:"ship_to_tel",options:{unique:!1}},{name:"ship_to_fax",keypath:"ship_to_fax",options:{unique:!1}},{name:"ship_to_email",keypath:"ship_to_email",options:{unique:!1}},{name:"expected_delivery_date",keypath:"expected_delivery_date",options:{unique:!1}},{name:"shipment_date",keypath:"shipment_date",options:{unique:!1}},{name:"payment_terms",keypath:"payment_terms",options:{unique:!1}},{name:"delivery_method",keypath:"delivery_method",options:{unique:!1}},{name:"sub_total",keypath:"sub_total",options:{unique:!1}},{name:"discount_rate",keypath:"discount_rate",options:{unique:!1}},{name:"discount_amount",keypath:"discount_amount",options:{unique:!1}},{name:"tax_rate",keypath:"tax_rate",options:{unique:!1}},{name:"tax_amount",keypath:"tax_amount",options:{unique:!1}},{name:"shipping_charges",keypath:"shipping_charges",options:{unique:!1}},{name:"other_amount",keypath:"other_amount",options:{unique:!1}},{name:"total",keypath:"total",options:{unique:!1}},{name:"terms_conditions",keypath:"terms_conditions",options:{unique:!1}},{name:"order_remark",keypath:"order_remark",options:{unique:!1}},{name:"file_attach",keypath:"file_attach",options:{unique:!1}},{name:"vendor_id",keypath:"vendor_id",options:{unique:!1}},{name:"vendor",keypath:"vendor",options:{unique:!1}},{name:"customer_id",keypath:"customer_id",options:{unique:!1}},{name:"customer",keypath:"customer",options:{unique:!1}}]},{store:f.warehouse_order_detail,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"quantity",keypath:"quantity",options:{unique:!1}},{name:"unit_price",keypath:"unit_price",options:{unique:!1}},{name:"amount",keypath:"amount",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}},{name:"order_id",keypath:"order_id",options:{unique:!1}},{name:"order",keypath:"order",options:{unique:!1}},{name:"item_id",keypath:"item_id",options:{unique:!1}},{name:"item",keypath:"item",options:{unique:!1}}]},{store:f.warehouse_inventory,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"type",keypath:"type",options:{unique:!1}},{name:"date",keypath:"date",options:{unique:!1}},{name:"reason_for_issuing",keypath:"reason_for_issuing",options:{unique:!1}},{name:"total_amount",keypath:"total_amount",options:{unique:!1}},{name:"deliverer",keypath:"deliverer",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}},{name:"status",keypath:"status",options:{unique:!1}},{name:"file_attach",keypath:"file_attach",options:{unique:!1}},{name:"warehouse_id",keypath:"warehouse_id",options:{unique:!1}},{name:"warehouse_code",keypath:"warehouse",options:{unique:!1}},{name:"warehouse",keypath:"warehouse",options:{unique:!1}},{name:"vendor_customer_id",keypath:"vendor_id",options:{unique:!1}},{name:"vendor_customer_code",keypath:"vendor",options:{unique:!1}},{name:"vendor_customer",keypath:"vendor",options:{unique:!1}}]},{store:f.warehouse_inventory_detail,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"quantity_orders",keypath:"quantity_orders",options:{unique:!1}},{name:"quantity_actually",keypath:"quantity_actually",options:{unique:!1}},{name:"unit_price",keypath:"unit_price",options:{unique:!1}},{name:"amount",keypath:"amount",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}},{name:"batches",keypath:"batches",options:{unique:!1}},{name:"series",keypath:"series",options:{unique:!1}},{name:"storage",keypath:"storage",options:{unique:!1}},{name:"inventory_id",keypath:"inventory_id",options:{unique:!1}},{name:"inventory_code",keypath:"inventory_code",options:{unique:!1}},{name:"inventory",keypath:"inventory",options:{unique:!1}},{name:"item_id",keypath:"item_id",options:{unique:!1}},{name:"item_code",keypath:"item_code",options:{unique:!1}},{name:"item",keypath:"item",options:{unique:!1}}]},{store:f.warehouse_category,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"type",keypath:"type",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}},{name:"parentId",keypath:"parentId",options:{unique:!1}},{name:"parent",keypath:"parent",options:{unique:!1}},{name:"children",keypath:"children",options:{unique:!1}}]},{store:f.warehouse_adjust,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"date",keypath:"date",options:{unique:!1}},{name:"reason",keypath:"reason",options:{unique:!1}},{name:"file_attach",keypath:"file_attach",options:{unique:!1}},{name:"warehouse_id",keypath:"warehouse_id",options:{unique:!1}},{name:"warehouse",keypath:"warehouse",options:{unique:!1}}]},{store:f.warehouse_adjust_detail,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"quanlity",keypath:"quanlity",options:{unique:!1}},{name:"item_id",keypath:"item_id",options:{unique:!1}},{name:"item",keypath:"item",options:{unique:!1}},{name:"adjust_id",keypath:"adjust_id",options:{unique:!1}},{name:"adjust",keypath:"adjust",options:{unique:!1}}]},{store:f.country,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"capital",keypath:"capital",options:{unique:!1}},{name:"region",keypath:"region",options:{unique:!1}},{name:"currency",keypath:"currency",options:{unique:!1}},{name:"language",keypath:"language",options:{unique:!1}},{name:"dial_code",keypath:"dial_code",options:{unique:!1}},{name:"flag",keypath:"flag",options:{unique:!1}}]},{store:f.city,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"zip_code",keypath:"zip_code",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"province_id",keypath:"province_id",options:{unique:!1}},{name:"province",keypath:"province",options:{unique:!1}}]},{store:f.province,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"zip_code",keypath:"zip_code",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"country_id",keypath:"country_id",options:{unique:!1}},{name:"country",keypath:"country",options:{unique:!1}}]},{store:f.warehouse_settings,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"type",keypath:"type",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"order",keypath:"order",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}}]},{store:f.warehouse_batch_no,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"code",keypath:"code",options:{unique:!0}},{name:"name",keypath:"name",options:{unique:!1}},{name:"status",keypath:"status",options:{unique:!1}},{name:"mfg_date",keypath:"mfg_date",options:{unique:!1}},{name:"exp_date",keypath:"exp_date",options:{unique:!1}},{name:"remark",keypath:"remark",options:{unique:!1}}]},{store:f.warehouse_management,storeConfig:{keyPath:"uid",autoIncrement:!0},storeSchema:[{name:"id",keypath:"id",options:{unique:!0}},{name:"type",keypath:"type",options:{unique:!1}},{name:"item_id",keypath:"item_id",options:{unique:!1}},{name:"item_code",keypath:"item_code",options:{unique:!1}},{name:"item",keypath:"item",options:{unique:!1}},{name:"warehouse_id",keypath:"warehouse_id",options:{unique:!1}},{name:"warehouse_code",keypath:"warehouse_code",options:{unique:!1}},{name:"warehouse",keypath:"warehouse",options:{unique:!1}},{name:"object_id",keypath:"object_id",options:{unique:!1}},{name:"object_code",keypath:"object_code",options:{unique:!1}},{name:"object",keypath:"object",options:{unique:!1}},{name:"quantity",keypath:"quantity",options:{unique:!1}}]}],migrationFactory:function(){return{1:function(e,t){var n=t.objectStore(f.customer);n.createIndex("__customer_index_by_type_code",["type","code"],{unique:!0}),n.createIndex("__customer_index_by_type",["type"],{unique:!1});var r=t.objectStore(f.general_settings);r.createIndex("__general_settings_index_by_id",["id","module_id","code"],{unique:!0}),r.createIndex("__general_settings_index_by_code",["id","module_code","code"],{unique:!0}),r.createIndex("__general_settings_index_by_module_code",["module_code","code"],{unique:!1});var i=t.objectStore(f.warehouse_item);i.createIndex("__warehouse_item_index_by_id",["id","item_id"],{unique:!0}),i.createIndex("__warehouse_item_index_by_code",["code","item_code"],{unique:!0});var o=t.objectStore(f.warehouse_inventory_detail);o.createIndex("__warehouse_inv_detail_index_by_id",["id","inventory_id"],{unique:!0}),o.createIndex("__warehouse_inv_detail_index_by_inventory_id",["inventory_id"],{unique:!1}),o.createIndex("__warehouse_inv_detail_index_by_inventory_code",["inventory_code"],{unique:!1});var a=t.objectStore(f.warehouse_management);a.createIndex("__whman_index_by_id",["warehouse_id","item_id","object_id"],{unique:!0}),a.createIndex("__whman_index_by_code",["warehouse_code","item_code"],{unique:!1}),a.createIndex("__whman_object_item_index_by_code",["warehouse_code","object_code","item_code"],{unique:!1}),a.createIndex("__whman_object_index_by_code",["warehouse_code","object_code"],{unique:!1})}}}},y=n("SVse"),_=n("IheW"),v=n("P4hB"),m=n("vkgz"),k=function(){function e(t,n){_classCallCheck(this,e),this.authService=t,this.router=n}return _createClass(e,[{key:"getAuthService",value:function(){return this.authService}},{key:"getRouter",value:function(){return this.router}}]),_createClass(e,[{key:"canActivate",value:function(){var e=this;return this.getAuthService().isAuthenticated().pipe(Object(m.a)((function(t){t||e.getRouter().navigate(["auth/login"])})))}}]),e}(),C=n("QQUL"),b=n("iInd"),S=n("z6cu"),O={level:v.d.DEBUG,serverLogLevel:v.d.OFF,disableConsoleLogging:!1},w=n("LRne"),T=n("Cfvw"),E=n("7+OI"),A=n("c2HN"),P=n("MCLT"),q=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"promiseToObservable",value:function(e){return e&&Object(A.a)(e)?Object(T.a)(e.then((function(e){return e}))):Object(w.a)(null)}},{key:"sequencePromises",value:function(e,t,n){return n&&n.length?(r=e,n.reduce((function(n,i,o){return n.then((function(e){return r=t?t(r,e):e,i.then((function(e){return Promise.resolve(t?t(r,e):r)})).catch((function(e){return Promise.resolve(r)}))})).catch((function(t){return Promise.resolve(e)}))}),Promise.resolve(e))):Promise.resolve(e);var r}},{key:"parallelPromises",value:function(e,t,n){return n&&n.length?Promise.all(n).then((function(n){var r;return r=e,t&&(n||[]).forEach((function(e){return r=t(r,e)})),r})).catch((function(t){return e})):Promise.resolve(e)}},{key:"unsubscribe",value:function(e){if(!Object(P.isNullOrUndefined)(e)&&Object(E.a)(e)&&(!(e.hasOwnProperty("closed")&&e.closed||!1)&&"function"==typeof e.unsubscribe))try{e.unsubscribe.apply(e)}catch(t){window.console.warn(["Could not unsubscribe",t])}}}]),e}(),R={uuid:{v1:n("xDdU"),v3:n("MsAC"),v4:n("xk4V"),v5:n("a6Ml")},oid:n("Gppw")},j=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){return _classCallCheck(this,n),t.call(this,e,r,i,o,"uid")}return n}(function(){function e(t,n,r,i,o){var a=this;_classCallCheck(this,e),this.dbService=t,this.logger=n,this.connectionService=r,this.dbStore=i,this.entityKey=o,this.updateExecutor=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];r&&r.length?(a.getLogger().debug("Update data",r,"First data",r[0]),a.getDbService().update(a.getDbStore(),r[0]).then((function(){return e(1)}),(function(e){a.getLogger().error("Could not update data",e),t(e)}))):e(0)},t||Object(S.a)("Could not inject IndexDb!"),n||Object(S.a)("Could not inject logger!"),r||Object(S.a)("Could not inject connection service!"),(i||"").length||Object(S.a)("Database store name must be not empty!"),(o||"").length||Object(S.a)("Database entity key property must be not empty!"),n.updateConfig(O),r.monitor().subscribe((function(e){e?a.synchronize():a.getLogger().warn("Not found internet connection to synchronize offline data")}))}return _createClass(e,[{key:"getDbService",value:function(){return this.dbService}},{key:"getConnectionService",value:function(){return this.connectionService}},{key:"getDbStore",value:function(){return this.dbStore}},{key:"getEnityKey",value:function(){return this.entityKey}},{key:"getLogger",value:function(){return this.logger}},{key:"delete",value:function(e){var t=this,n=this;return new Promise((function(r,i){t.deleteExecutor.apply(n,[r,i,e])}))}},{key:"update",value:function(e){var t=this,n=this;return new Promise((function(r,i){t.updateExecutor.apply(n,[r,i,e])}))}},{key:"findEntities",value:function(e,t){var n=this;return t?new Promise((function(r,i){n.getDbService().getByIndex(n.getDbStore(),e,t).then((function(e){return r(e)}),(function(e){n.getLogger().error(e),i(e)}))})):this.getAll()}},{key:"findById",value:function(e){var t=this;return new Promise((function(n,r){t.getDbService().getByIndex(t.getDbStore(),"id",e).then((function(e){return n(e)}),(function(e){t.getLogger().error(e),r(e)}))}))}},{key:"insert",value:function(e){var t=this;return new Promise((function(n,r){t.getDbService().add(t.getDbStore(),e).then((function(e){return n(e)}),(function(e){t.getLogger().error(e),r(e)}))}))}},{key:"deletePernament",value:function(e){var t=this;return e[this.getEnityKey()]||Object(S.a)("Not found entity primary key from property {"+this.getEnityKey()+"}"),new Promise((function(n,r){t.getDbService().delete(t.getDbStore(),e[t.getEnityKey()]).then((function(e){return n(e)}),(function(e){t.getLogger().error(e),r(e)}))}))}},{key:"clear",value:function(){var e=this;return new Promise((function(t,n){e.getDbService().clear(e.getDbStore()).then((function(){return t(!0)}),(function(t){e.getLogger().error(t),n(t)}))}))}},{key:"getAll",value:function(){var e=this;return new Promise((function(t,n){e.getDbService().getAll(e.getDbStore()).then((function(e){return t(e)}),(function(t){e.getLogger().error(t),n(t)}))}))}},{key:"insertEntities",value:function(e){var t,n=this;return t=[],e&&e.length&&e.forEach((function(e){return t.push(n.insert(e))})),this.invokePromises(0,(function(e,t){return e+(t>0?1:0)}),t)}},{key:"updateEntities",value:function(e){var t,n=this;return t=[],e&&e.length&&e.forEach((function(e){return t.push(n.update(e))})),this.invokePromises(0,(function(e,t){return e+(t>0?1:0)}),t)}},{key:"deleteEntities",value:function(e){var t,n=this;return t=[],e&&e.length&&e.forEach((function(e){return t.push(n.delete(e))})),this.invokePromises(0,(function(e,t){return e+(t>0?1:0)}),t)}},{key:"deleteEntitiesPernament",value:function(e){var t,n=this;return t=[],e&&e.length&&e.forEach((function(e){return t.push(n.deletePernament(e))})),this.invokePromises(0,(function(e,t){return e+(t>0?1:0)}),t)}},{key:"count",value:function(){var e=this;return new Promise((function(t,n){e.getDbService().count(e.getDbStore()).then((function(e){return t(e)}),(function(t){e.getLogger().error(t),n(t)}))}))}},{key:"invokePromises",value:function(e,t,n){return q.sequencePromises(e,t,n)}},{key:"openCursorByKeyRange",value:function(e,t){return this.getDbService().openCursor(this.getDbStore(),e,t)}},{key:"openCursor",value:function(e){return this.getDbService().openCursor(this.getDbStore(),e,void 0)}},{key:"openCursorByIndex",value:function(e,t,n){return this.getDbService().openCursorByIndex(this.getDbStore(),e,t,n)}},{key:"getAllByIndex",value:function(e,t){var n=this;return new Promise((function(r,i){n.getDbService().getAllByIndex(n.getDbStore(),e,t).then((function(e){return r(e)}),(function(e){n.getLogger().error(e),i(e)}))}))}},{key:"synchronize",value:function(){this.getLogger().debug("Synchronize data...")}}]),e}()),N=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r,i,o)).deleteExecutor=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];r&&r.length?(a.getLogger().debug("Delete data",r,"First data",r[0]),r[0].deletedAt=(new Date).getTime(),a.updateExecutor.apply(_assertThisInitialized(a),[e,t].concat(r))):e(0)},a}return _createClass(n,[{key:"saveEntities",value:function(e){var t=this,n=[],r=[];return(e||[]).forEach((function(e){e.id=e.id||R.oid.generate(),Object(P.isNullOrUndefined)(e.uid)?(e.createdAt=(new Date).getTime(),n.push(e)):(e.updatedAt=(new Date).getTime(),r.push(e))})),q.sequencePromises(0,(function(e,t){return e+t}),[this.updateEntities(r),this.insertEntities(n)]).then((function(e){return t.getLogger().debug("Save entities",e),e}),(function(e){return t.getLogger().error(e),0})).catch((function(e){return t.getLogger().error(e),0}))}}]),n}(j),I=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o,a,s;return _classCallCheck(this,n),(s=t.call(this,e,r,i,"EMPTY")).deleteExecutor=function(e,t){_get((o=_assertThisInitialized(s),_getPrototypeOf(n.prototype)),"getLogger",o).call(o).debug("Call delete entity...."),e(0)},s.updateExecutor=function(e,t){_get((a=_assertThisInitialized(s),_getPrototypeOf(n.prototype)),"getLogger",a).call(a).debug("Call insert entity...."),e(0)},e||Object(S.a)("Could not inject IndexDb!"),r||Object(S.a)("Could not inject logger!"),s}return _createClass(n,[{key:"update",value:function(e){var t=this;return new Promise((function(e){_get(_getPrototypeOf(n.prototype),"getLogger",t).call(t).debug("Call update entity...."),e(0)}))}},{key:"getAll",value:function(){var e=this;return new Promise((function(t){_get(_getPrototypeOf(n.prototype),"getLogger",e).call(e).debug("Call get all entities...."),t(null)}))}},{key:"findById",value:function(e){var t=this;return new Promise((function(e){_get(_getPrototypeOf(n.prototype),"getLogger",t).call(t).debug("Call find entity by identity...."),e(null)}))}},{key:"findEntities",value:function(e){var t=this;return new Promise((function(e){_get(_getPrototypeOf(n.prototype),"getLogger",t).call(t).debug("Call find entities by criteria...."),e([])}))}}]),n}(N),D=n("jTdg"),L=n("mrSG"),x=n("lJxs"),U=n("JIr8"),M=n("HDdC"),F=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"parseResponseJson",value:function(e){(e=this.safeParseJson(e))&&(Object(P.isObject)(e)&&Object.keys(e).length>0&&Object(P.isObject)(e.status)&&200===e.status.code&&Object(P.isBoolean)(e.status.success)&&(e.status.success||!1)&&Object(P.isArray)(e.elements)&&Array.from(e.elements).length>0&&(e=Array.from(e.elements)));return e}},{key:"parseFisrtResponseJson",value:function(t){return t=e.parseResponseJson(t),Object(P.isArray)(t)&&(t=Array.from(t).shift()),t}},{key:"jsonToInstance",value:function(e,t){var n;if(e)return(n=this.safeParseJson(e))?Object.assign(new t,n):void 0}},{key:"safeParseJson",value:function(e){if(e)try{return JSON.parse("string"==typeof e?e:JSON.stringify(e))}catch(t){return void window.console.error(["Could not parse JSON",e,t])}}}]),e}(),H=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.success=t,this.response=n,this.setRedirect(r),this.errors=i,this.messages=o}return _createClass(e,[{key:"isSuccess",value:function(){return this.success}},{key:"isFailure",value:function(){return!this.isSuccess()}},{key:"getResponse",value:function(){return this.response}},{key:"getData",value:function(){return this.getResponse()&&this.getResponse().body?F.parseResponseJson(this.getResponse().body):null}},{key:"getRedirect",value:function(){return this.redirect}},{key:"setRedirect",value:function(e){this.redirect=e}},{key:"getErrors",value:function(){return this.errors}},{key:"getMessages",value:function(){return this.messages}}]),e}(),z=n("QmoS"),B=(a=function(){function e(t,n,r){_classCallCheck(this,e),this.http=t,this.logger=n,this.dbService=r,t||Object(S.a)("Could not inject HttpClient!"),n||Object(S.a)("Could not inject logger!"),n.updateConfig(O),r||this.getLogger().warn("Could not found database service for offline mode!")}return _createClass(e,[{key:"getHttp",value:function(){return this.http}},{key:"getLogger",value:function(){return this.logger}},{key:"getDbService",value:function(){return this.dbService}},{key:"setHandleResponseErrorDelegate",value:function(e){this.handleResponseErrorDelegate=e}},{key:"setHandleOfflineModeDelegate",value:function(e){this.handleOfflineModeDelegate=e}},{key:"handleResponseError",value:function(e,t,n,r){var i=[];return d.offline&&(n&&n instanceof _.c&&(0===n.status||n.status>500)&&this.getDbService()||n&&!(n instanceof _.c))?"function"==typeof this.handleOfflineModeDelegate?this.handleOfflineModeDelegate.apply(this,[e,t,n,r]):this.handleOfflineMode(e,t,n,r):(i.push(n&&n instanceof _.c&&n.error&&(n.error.error_description||"").length?n.error.error_description:n&&n instanceof _.c&&n.error?n.error:n),Object(w.a)(this.parseResponse(new H(!1,n,(r||{}).redirectFailure,i,[]))))}},{key:"post",value:function(e,t){return this.request(e,"POST",t)}},{key:"get",value:function(e,t){return this.request(e,"GET",t)}},{key:"del",value:function(e,t){return this.request(e,"DELETE",t)}},{key:"head",value:function(e,t){return this.request(e,"HEAD",t)}},{key:"path",value:function(e,t){return this.request(e,"PATH",t)}},{key:"request",value:function(e,t,n){var r=this;return r.getHttp().request(t,e,n).pipe(Object(x.a)((function(e){return r.getLogger().debug("Response",e),e})),Object(x.a)((function(i){return i instanceof _.h?r.ensureVaidResponse(i,e,t,n):i=new _.h({body:JSON.stringify(i),headers:n&&n.headers instanceof _.e?n.headers:new _.e((n||{}).headers),status:200,url:e}),r.parseResponse(new H(!0,i,(n||{}).redirectSuccess,[],(n||{}).messages))})),Object(U.a)(r.processRequestError(e,t,n)))}},{key:"ensureVaidResponse",value:function(e,t,n,r){var i;e&&e.ok||(e&&e.headers?i=e.headers:r&&r.headers instanceof _.e?i=r.headers:r&&r.headers&&(i=new _.e(r.headers)),Object(S.a)(new _.c({error:e?e.body:r?r.body:null,headers:i,status:e?e.status:0,statusText:e?e.statusText:null,url:e?e.url:t})))}},{key:"processRequestError",value:function(e,t,n){var r=this;return function(i){r.getLogger().error("Request Error",e,t,n,i);var o="function"==typeof r.handleResponseErrorDelegate?r.handleResponseErrorDelegate(e,t,i,n):r.handleResponseError(e,t,i,n);return o?o.pipe(Object(x.a)((function(e){var t;if(t=[],!Object(P.isArray)(e)&&e?t.push(e):Object(P.isArray)(e)&&(t=t.concat(e)),t&&t.length)return t[0]}))):Object(w.a)(void 0)}}}]),e}(),L.__decorate([Object(z.a)(),L.__metadata("design:type",Function),L.__metadata("design:paramtypes",[String,Object]),L.__metadata("design:returntype",M.a)],a.prototype,"post",null),L.__decorate([Object(z.a)(),L.__metadata("design:type",Function),L.__metadata("design:paramtypes",[String,Object]),L.__metadata("design:returntype",M.a)],a.prototype,"get",null),L.__decorate([Object(z.a)(),L.__metadata("design:type",Function),L.__metadata("design:paramtypes",[String,Object]),L.__metadata("design:returntype",M.a)],a.prototype,"del",null),L.__decorate([Object(z.a)(),L.__metadata("design:type",Function),L.__metadata("design:paramtypes",[String,Object]),L.__metadata("design:returntype",M.a)],a.prototype,"head",null),L.__decorate([Object(z.a)(),L.__metadata("design:type",Function),L.__metadata("design:paramtypes",[String,Object]),L.__metadata("design:returntype",M.a)],a.prototype,"path",null),L.__decorate([Object(z.a)(),L.__metadata("design:type",Function),L.__metadata("design:paramtypes",[String,String,Object]),L.__metadata("design:returntype",M.a)],a.prototype,"request",null),a),Y=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return _createClass(n,[{key:"parseResponse",value:function(e){if(e&&e.getResponse()&&e.getResponse().body&&e.getResponse().ok)return F.parseResponseJson(e.getResponse().body)}},{key:"handleOfflineMode",value:function(e,t,n,r){Object(S.a)("Please implement this method if you wanna use offline mode!")}}]),n}(B),V=n("kScs"),G=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"base64Encode",value:function(e){for(var t,n,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t=(e||"").length?e:":",n="",i&&i.length&&(n=btoa(i.join(t))),n}},{key:"base64Decode",value:function(e){return(e||"").length?atob(e):""}},{key:"md5Encode",value:function(e){for(var t,n,r,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];(t=(e||"").length?e:":",n=[],o&&o.length)&&(r=new V.Md5,o.forEach((function(e){(e||"").length&&n.push(r.appendStr(e).end().toString())})));return n.join(t)}}]),e}(),J=s={headers:{"Content-Type":"application/json; charset=utf-8",Company:"hsg"},login:{code:function(){return"API_AUTHORIZATION"},name:function(){return"app"},api:{method:"POST",url:function(){return"http://localhost:8082/api-rest-oauth2/service"},login:function(){return s.login.api.url.call(void 0).concat("/oauth/token?grant_type=client_credentials")},regexUrl:"oauth/**",version:"1.0.0"},client:{icon:{icon:"sign-in",pack:"fa"},url:function(){return"/dashboard"}}},system:{code:function(){return"API_SYSTEM"},name:function(){return"system.menu.module"},api:{method:"POST",url:function(){return"http://localhost:8082/api-rest-system/service"},login:function(){return s.system.api.url.call(void 0).concat("/oauth/token?grant_type=client_credentials")},regexUrl:"system/**",version:"1.0.0"},client:{icon:{icon:"assistive-listening-systems",pack:"fa"},url:function(){return"/dashboard/system"}},children:{generalSettings:{code:function(){return s.system.code.call(void 0).concat("_GENERAL_SETTINGS")},name:function(){return"system.general.settings.menu"},api:{method:"POST",url:function(){return s.system.api.url.call(void 0).concat("/general/settings")},login:function(){return s.system.api.login.call(void 0)},regexUrl:"system/general/**",version:"1.0.0"},client:{icon:{icon:"wrench",pack:"fa"},url:function(){return s.system.client.url.call(void 0).concat("/general/settings")}}},organization:{code:function(){return s.system.code.call(void 0).concat("_ORGANIZATION")},name:function(){return"system.organization.menu"},api:{method:"POST",url:function(){return s.system.api.url.call(void 0).concat("/organization")},login:function(){return s.system.api.login.call(void 0)},regexUrl:"system/organization/**",version:"1.0.0"},client:{icon:{icon:"sitemap",pack:"fa"},url:function(){return s.system.client.url.call(void 0).concat("/organization")}}},user:{code:function(){return s.system.code.call(void 0).concat("_USER")},name:function(){return"system.user.menu"},api:{method:"POST",url:function(){return s.system.api.url.call(void 0).concat("/user")},login:function(){return s.system.api.login.call(void 0)},regexUrl:"system/user/**",version:"1.0.0"},client:{icon:{icon:"users",pack:"fa"},url:function(){return s.system.client.url.call(void 0).concat("/user")}}},customer:{code:function(){return s.system.code.call(void 0).concat("_CUSTOMER")},name:function(){return"system.customer.menu"},api:{method:"POST",url:function(){return s.system.api.url.call(void 0).concat("/customer")},login:function(){return s.system.api.login.call(void 0)},regexUrl:"system/customer/**",version:"1.0.0"},client:{icon:{icon:"address-card",pack:"fa"},url:function(){return s.system.client.url.call(void 0).concat("/customer")}}}}},warehouse:{code:function(){return"API_WAREHOUSE"},name:function(){return"warehouse.menu.module"},api:{method:"POST",url:function(){return"http://localhost:8083/api-rest-warehouse/service"},login:function(){return s.warehouse.api.url.call(void 0).concat("/oauth/token?grant_type=client_credentials")},regexUrl:"warehouse/**",version:"1.0.0"},client:{icon:{icon:"warehouse",pack:"fas"},url:function(){return"/dashboard/warehouse"}},children:{settings:{code:function(){return s.warehouse.code.call(void 0).concat("_SETTINGS")},name:function(){return"warehouse.menu.master"},api:{method:"POST",url:function(){return s.warehouse.api.url.call(void 0).concat("/settings")},login:function(){return s.warehouse.api.login.call(void 0)},regexUrl:"warehouse/settings/**",version:"1.0.0"},client:{icon:{icon:"cogs",pack:"fa"},url:function(){return s.warehouse.client.url.call(void 0).concat("/settings")}},children:{warehouseSettings:{code:function(){return s.warehouse.children.settings.code.call(void 0).concat("_GENERAL")},name:function(){return"warehouse.settings.menu"},api:{method:"POST",url:function(){return s.warehouse.children.settings.api.url.call(void 0).concat("/general")},login:function(){return s.warehouse.children.settings.api.login.call(void 0)},regexUrl:"warehouse/settings/general/**",version:"1.0.0"},client:{icon:{icon:"cog",pack:"fa"},url:function(){return s.warehouse.children.settings.client.url.call(void 0).concat("/general")}}},warehouseStorage:{code:function(){return s.warehouse.children.settings.code.call(void 0).concat("_STORAGE")},name:function(){return"warehouse.storage.menu"},api:{method:"POST",url:function(){return s.warehouse.children.settings.api.url.call(void 0).concat("/storage")},login:function(){return s.warehouse.children.settings.api.login.call(void 0)},regexUrl:"warehouse/settings/storage/**",version:"1.0.0"},client:{icon:{icon:"archive",pack:"fa"},url:function(){return s.warehouse.children.settings.client.url.call(void 0).concat("/storage")}}},warehouseCategory:{code:function(){return s.warehouse.children.settings.code.call(void 0).concat("_CATEGORY")},name:function(){return"warehouse.category.menu"},api:{method:"POST",url:function(){return s.warehouse.children.settings.api.url.call(void 0).concat("/category")},login:function(){return s.warehouse.children.settings.api.login.call(void 0)},regexUrl:"warehouse/settings/category/**",version:"1.0.0"},client:{icon:{icon:"bars",pack:"fa"},url:function(){return s.warehouse.children.settings.client.url.call(void 0).concat("/category")}}},warehouseBatchNo:{code:function(){return s.warehouse.children.settings.code.call(void 0).concat("_BATCH_NO")},name:function(){return"warehouse.batch_no.menu"},api:{method:"POST",url:function(){return s.warehouse.children.settings.api.url.call(void 0).concat("/batchno")},login:function(){return s.warehouse.children.settings.api.login.call(void 0)},regexUrl:"warehouse/settings/batchno/**",version:"1.0.0"},client:{icon:{icon:"clock",pack:"fas"},url:function(){return s.warehouse.children.settings.client.url.call(void 0).concat("/batchno")}}}}},features:{code:function(){return s.warehouse.code.call(void 0).concat("_FEATURES")},name:function(){return"warehouse.menu.features"},api:{method:"POST",url:function(){return s.warehouse.api.url.call(void 0).concat("/features")},login:function(){return s.warehouse.api.login.call(void 0)},regexUrl:"warehouse/features/**",version:"1.0.0"},client:{icon:{icon:"briefcase",pack:"fas"},url:function(){return s.warehouse.client.url.call(void 0).concat("/features")}},children:{warehouseItem:{code:function(){return s.warehouse.children.features.code.call(void 0).concat("_ITEM")},name:function(){return"warehouse.item.menu"},api:{method:"POST",url:function(){return s.warehouse.children.features.api.url.call(void 0).concat("/item")},login:function(){return s.warehouse.children.features.api.login.call(void 0)},regexUrl:"warehouse/features/item/**",version:"1.0.0"},client:{icon:{icon:"boxes",pack:"fa"},url:function(){return s.warehouse.children.features.client.url.call(void 0).concat("/item")}}},warehouseInventory:{code:function(){return s.warehouse.children.features.code.call(void 0).concat("_INVENTORY")},name:function(){return"warehouse.inventory.menu"},api:{method:"POST",url:function(){return s.warehouse.children.features.api.url.call(void 0).concat("/inventory")},login:function(){return s.warehouse.children.features.api.login.call(void 0)},regexUrl:"warehouse/features/inventory/**",version:"1.0.0"},client:{icon:{icon:"truck-loading",pack:"fas"},url:function(){return s.warehouse.children.features.client.url.call(void 0).concat("/inventory")}}}}}}}};p=u||(u={}),h=p.COMMON||(p.COMMON={}),(l=h.STATUS||(h.STATUS={})).NOT_ACTIVATED="common.enum.status.notActivated",l.ACTIVATED="common.enum.status.activated",l.LOCKED="common.enum.status.locked",(c=h.CURRENCY||(h.CURRENCY={})).USD="common.enum.currency.usd",c.VND="common.enum.currency.vnd",c.OTHERS="common.enum.currency.others",h.MODULE_CODES={SYSTEM:J.system.code.call(void 0),SYSTEM_SETTINGS:J.system.children.generalSettings.code.call(void 0),SYSTEM_USER:J.system.children.user.code.call(void 0),SYSTEM_CUSTOMER:J.system.children.customer.code.call(void 0),SYSTEM_ORGANIZATION:J.system.children.organization.code.call(void 0),WAREHOUSE:J.warehouse.code.call(void 0),WAREHOUSE_SETTINGS:J.warehouse.children.settings.code.call(void 0),WAREHOUSE_SETTINGS_GENERAL:J.warehouse.children.settings.children.warehouseSettings.code.call(void 0),WAREHOUSE_SETTINGS_STORAGE:J.warehouse.children.settings.children.warehouseStorage.code.call(void 0),WAREHOUSE_SETTINGS_CATEGORY:J.warehouse.children.settings.children.warehouseCategory.code.call(void 0),WAREHOUSE_SETTINGS_BATCH:J.warehouse.children.settings.children.warehouseBatchNo.code.call(void 0),WAREHOUSE_FEATURES:J.warehouse.children.features.code.call(void 0),WAREHOUSE_FEATURES_ITEM:J.warehouse.children.features.children.warehouseItem.code.call(void 0),WAREHOUSE_FEATURES_INVENTORY:J.warehouse.children.features.children.warehouseInventory.code.call(void 0)},h.BUILTIN_CODES={STATUS:{code:"STATUS",name:"common.enum.status.name"},CURRENCY:{code:"CURRENCY",name:"common.enum.currency.name"},CUSTOMER_LEVEL:{code:"CUSTOMER_LEVEL",name:"common.enum.customerLevel.name"},CUSTOMER_TYPE:{code:"CUSTOMER_TYPE",name:"common.enum.customerType.name"},ORGANIZATION_TYPE:{code:"ORGANIZATION_TYPE",name:"common.enum.organizationType.name"},WAREHOUSE_SETTINGS_TYPE:{code:"WAREHOUSE_SETTINGS_TYPE",name:"common.enum.warehouseSettingsType.name"},WAREHOUSE_CATEGORY_TYPE:{code:"CATEGORY_TYPE",name:"common.enum.warehouseSettings.category.name"},WAREHOUSE_STORAGE_TYPE:{code:"STORAGE_TYPE",name:"common.enum.warehouseSettings.storage.name"},WAREHOUSE_INVENTORY_TYPE:{code:"INVENTORY_TYPE",name:"common.enum.warehouseSettings.inventory.type.name"},WAREHOUSE_INVENTORY_STATUS:{code:"INVENTORY_STATUS",name:"common.enum.warehouseSettings.inventory.status.name"}};var K=u.COMMON.STATUS,W=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r,i,f.user)).deleteExecutor=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];r&&r.length?(o.getLogger().debug("Delete data",r,"First data",r[0]),(r[0].id||"").length?(r[0].status=K.LOCKED.toString(),o.updateExecutor.apply(_assertThisInitialized(o),[e,t].concat(r))):o.getDbService().deleteRecord(o.getDbStore(),r[0].uid).then((function(){return e(1)}),(function(e){o.getLogger().error("Could not delete data",e),t(e)}))):e(0)},o}return n}(N),X=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(Y),Q="Basic",Z="Bearer",$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r,i,f.auth)).deleteExecutor=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];r&&r.length&&o.getDbService().delete(o.getDbStore(),{id:(r[0].getPayload()||{}).id}).then((function(){return e(1)}),(function(e){o.getLogger().error(e),t(e)}))},o}return n}(j),ee=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),o=t.call(this,e,r,i),i||Object(S.a)("Could not inject authentication database service for offline mode"),o}return _createClass(n,[{key:"setCreateTokenDelegate",value:function(e){this.createTokenDelegate=e}},{key:"parseResponse",value:function(e){if(e&&e.isSuccess()&&e.getData())return this.createTokenDelegate.apply(this,[e.getData()])}},{key:"handleOfflineMode",value:function(e,t,n,r){var i,o,a,s=this;return(i=r&&r.headers?r.headers:void 0)&&i.has("Authorization")?(o=this.getDbService(),a=i.get("Authorization"),this.getLogger().debug("Check authentication",a),q.promiseToObservable(o.getAll().then((function(t){var n,o,u,c;t&&t.length&&((o=t.filter((function(e){var t;return t=G.base64Encode(":",e.username||"",e.password||""),t=[Q,t].join(" "),a.toLowerCase()===t.toLowerCase()})))&&o.length&&(u=o[0],delete(c=F.parseFisrtResponseJson(JSON.stringify(u))).password,n=s.parseResponse(new H(!0,new _.h({body:JSON.stringify(c),headers:i,status:200,url:e}),(r||{}).redirectSuccess,(r||{}).errors,(r||{}).messages))));return n||(n=s.parseResponse(new H(!1,new _.h({body:"",headers:i,status:401,url:e}),(r||{}).redirectFailure,(r||{}).errors,(r||{}).messages))),n}),(function(t){return s.getLogger().error("Not found any valid token",t),s.parseResponse(new H(!1,new _.h({body:"",headers:i,status:401,url:e}),(r||{}).redirectFailure,(r||{}).errors,(r||{}).messages))})).catch((function(t){return s.getLogger().error("Not found any valid token",t),s.parseResponse(new H(!1,new _.h({body:"",headers:i,status:401,url:e}),(r||{}).redirectFailure,(r||{}).errors,(r||{}).messages))})))):Object(w.a)(void 0)}}]),n}(B),te=n("o0ex"),ne=n("xay1"),re=n("njC1"),ie=n("oxKT"),oe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r,i)).latestCount=0,o}return _createClass(n,[{key:"getAll",value:function(){var e=this;return _get(_getPrototypeOf(n.prototype),"getDbService",this).call(this).getAll().then(this.onFulfilledData(),(function(t){return e.getLogger().error(t),[]})).catch((function(t){return e.getLogger().error(t),[]}))}},{key:"getAllByIndex",value:function(e,t){var r=this;return _get(_getPrototypeOf(n.prototype),"getDbService",this).call(this).getAllByIndex(e,t).then(this.onFulfilledData(),(function(e){return r.getLogger().error(e),[]})).catch((function(e){return r.getLogger().error(e),[]}))}},{key:"onFulfilledData",value:function(){var e=this;return function(t){return t=e.filter(t),t=e.sort(t),e.setRecordsNumber((t||[]).length),e.paginate(t)}}},{key:"setRecordsNumber",value:function(e){this.latestCount=e||0}},{key:"getElements",value:function(){return this.getAll()}},{key:"count",value:function(){return this.latestCount}},{key:"update",value:function(e,t){var n=this;return this.getDbService().update(t).then((function(){return n.refresh(),e}))}},{key:"remove",value:function(e){var t=this;return this.getDbService().delete(e).then((function(){return t.refresh(),1}))}},{key:"refresh",value:function(){this.getLogger().debug("Refresh data source"),_get(_getPrototypeOf(n.prototype),"refresh",this).call(this)}},{key:"load",value:function(e){return this.getLogger().debug("Load data",e),_get(_getPrototypeOf(n.prototype),"load",this).call(this,e)}},{key:"prepend",value:function(e){return this.append(e)}},{key:"append",value:function(e){var t=this;return this.getLogger().debug("New data",e),this.getDbService().insert(e).then((function(){return t.refresh(),1}))}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).httpService=e,o.dbService=r,o.logger=i,o.filterCfg={filters:[],andOperator:!0},o.pagingCfg={page:1},o.sortCfg=[],e||Object(S.a)("Not found HTTP service"),r||Object(S.a)("Not found database service"),i||Object(S.a)("Could not inject logger!"),i.updateConfig(O),o}return _createClass(n,[{key:"getHttpService",value:function(){return this.httpService}},{key:"getDbService",value:function(){return this.dbService}},{key:"getLogger",value:function(){return this.logger}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?(this.filterCfg={filters:[],andOperator:!0},this.sortCfg=[],this.pagingCfg.page=1):(this.setFilter([],!0,!1),this.setSort([],!1),this.setPage(1))}},{key:"getFilter",value:function(){return this.filterCfg}},{key:"setFilter",value:function(e,t,r){var i=this;return e&&e.length>0?e.forEach((function(e){i.addFilter(e,t,!1)})):this.filterCfg={filters:[],andOperator:!0},this.filterCfg.andOperator=t,this.pagingCfg.page=1,_get(_getPrototypeOf(n.prototype),"setFilter",this).call(this,e,t,r),this}},{key:"addFilter",value:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.field&&void 0!==e.search||Object(S.a)("Filter configuration object is not valid");var o=!1;return this.filterCfg.filters.forEach((function(n,r){n.field===e.field&&(t.filterCfg.filters[r]=e,o=!0)})),o||this.filterCfg.filters.push(e),this.filterCfg.andOperator=r,_get(_getPrototypeOf(n.prototype),"addFilter",this).call(this,e,r,i),this}},{key:"getSort",value:function(){return this.sortCfg}},{key:"setSort",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!==e&&(e.forEach((function(e){e.field&&void 0!==e.direction||Object(S.a)("Sort configuration object is not valid")})),this.sortCfg=e),_get(_getPrototypeOf(n.prototype),"setSort",this).call(this,e,t),this}},{key:"getPaging",value:function(){return this.pagingCfg}},{key:"setPaging",value:function(e,t,r){return this.pagingCfg.page=e,this.pagingCfg.perPage=t,_get(_getPrototypeOf(n.prototype),"setPaging",this).call(this,e,t,r),this}},{key:"setPage",value:function(e,t){this.pagingCfg.page=e,t||(t=(this.pagingCfg.perPage||0)>0),_get(_getPrototypeOf(n.prototype),"setPage",this).call(this,e,t||!1)}},{key:"prepareData",value:function(e){return e=this.filter(e),e=this.sort(e),this.paginate(e)}},{key:"sort",value:function(e){return this.sortCfg&&this.sortCfg.forEach((function(t){e=ie.a.sort(e,t.field,t.direction,t.compare)})),e}},{key:"filter",value:function(e){if(this.filterCfg.filters)if(this.filterCfg.andOperator)this.filterCfg.filters.forEach((function(t){(t.search||"").length&&(e=re.a.filter(e,t.field,t.search,t.filter))}));else if(this.filterCfg.filters.length){var t=[];this.filterCfg.filters.forEach((function(n){(n.search||"").length&&(t=t.concat(re.a.filter(e,n.field,n.search,n.filter)))})),e=t.filter((function(e,t,n){return n.indexOf(e)===t}))}return e}},{key:"paginate",value:function(e){return this.pagingCfg&&this.pagingCfg.page&&this.pagingCfg.perPage&&(e=ne.a.paginate(e,this.pagingCfg.page,this.pagingCfg.perPage)),e}},{key:"databaseService",get:function(){return this.getDbService()}}]),n}(te.a)),ae=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i,f.module)}return n}(N),se=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),o=t.call(this,e,r,i),i||Object(S.a)("Could not inject user database service for offline mode"),o}return n}(Y),ue=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(oe),ce=n("XoHu"),le=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s){var u;_classCallCheck(this,n),(u=t.call(this,e,r)).authHttpService=i,u.authDbService=o,u.moduleDbService=a,u.logger=s,u.authenticate=function(e){var t,n,r,i,o;return _assertThisInitialized(u),t=new _.e(u.getOption("login.headers")||{}),n=G.base64Encode(":",e.email||"",G.md5Encode(":",e.password)),t=t.set("Authorization",[Q,n].join(" ")),r=u.getOption("login.method"),i=u.getActionEndpoint("login"),o={body:{},headers:t,observe:"response",redirectSuccess:u.getOption("login.redirect.success"),redirectFailure:u.getOption("login.redirect.failure"),errors:u.getOption("login.errors")||[],messages:u.getOption("login.messages")||[]},u.getHttpService().request(i,r,o).pipe(Object(x.a)((function(e){return!Object(P.isArray)(e)&&e?e:Object(P.isArray)(e)?e[0]:void 0})),Object(x.a)((function(e){return new C.b(!(!e||!Object.keys(e).length),new _.h({body:e&&Object.keys(e).length?e:void 0,status:200,url:i}),e&&Object.keys(e).length?o.redirectSuccess:o.redirectFailure,e&&Object.keys(e).length?[]:o.errors,o.messages,e&&Object.keys(e).length?e:void 0)})))},r||Object(S.a)("Could not inject route!"),i||Object(S.a)("Could not inject HttpService!");var c=_assertThisInitialized(u);return u.authHttpService.setCreateTokenDelegate((function(e){return c.createToken(e)})),o||Object(S.a)("Could not inject IndexedDb!"),s||Object(S.a)("Could not inject logger!"),s.updateConfig(O),u}return _createClass(n,[{key:"getLogger",value:function(){return this.logger}},{key:"getHttpService",value:function(){return this.authHttpService}},{key:"getDbService",value:function(){return this.authDbService}},{key:"getModuleDbService",value:function(){return this.moduleDbService}},{key:"createToken",value:function(e,t){var r,i=this,o=F.safeParseJson(e);return o&&o.hasOwnProperty("image")&&delete o.image,r=_get(_getPrototypeOf(n.prototype),"createToken",this).call(this,o,this.getOption("login.failWhenInvalidToken")),this.storeDb(r).then((function(e){return r=e}),(function(e){return i.getLogger().error(e)})),r}},{key:"storeDb",value:function(e){var t=this;return e&&e.getPayload()&&e.isValid()?new Promise((function(n,r){t.getDbService().clear().then((function(){t.getDbService().insert(e.getPayload()).then((function(){t.getModuleDbService().clear().then((function(){t.getModuleDbService().insertEntities(t.parseModules(e.getPayload())).then((function(){return n(e)}),(function(e){t.getLogger().error(e),r(e)}))}),(function(e){t.getLogger().error(e),r(e)}))}),(function(e){t.getLogger().error(e),r(e)}))}),(function(e){t.getLogger().error(e),r(e)}))})):new Promise((function(e){return e(null)}))}},{key:"parseModules",value:function(e){var t,n;return t=[],(n=e&&Object(ce.a)(e)&&Object.keys(e).length>0)?(n=(n=(n=n&&e&&e.hasOwnProperty("rolesGroup"))&&e.rolesGroup&&e.rolesGroup.hasOwnProperty("roles"))&&e.rolesGroup.roles&&Object(P.isArray)(e.rolesGroup.roles))?(e.rolesGroup.roles.forEach((function(e){e.module&&t.push(e.module)})),this.getLogger().debug("Modules",t),t):t:t}}],[{key:"setup",value:function(e){return[n,e]}}]),n}(C.e),he=n("eIep");new r.C("Request header name interceptor token");var pe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,i))._injector=e,o._logger=r,e||Object(S.a)("Could not inject Injector instance"),r||Object(S.a)("Could not inject NGXLogger instance"),o}return _createClass(n,[{key:"getInjector",value:function(){return this._injector}},{key:"intercept",value:function(e,t){return this.logger.warn("Just remind: Intercept HTTP{"+Reflect.getPrototypeOf(this).constructor.name+"}",e),this.isSupported(e)?this.doIntercept(e,t):t.handle(e)}},{key:"isSupported",value:function(e){return!Object(P.isNullOrUndefined)(e)}},{key:"logger",get:function(){return this._logger}}]),n}(C.d),de=new r.C("Custom Interceptor Access Token Parameter"),fe=new r.C("Custom Interceptor Company Header Parameter"),ge=new r.C("Service Worker VAPID_PUBLIC_KEY to subscribe"),ye=n("tKwJ");n("lnXG");var _e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"from",value:function(e){var t;if(e)return t=void 0,e.subscribe((function(e){return t=e})),t}},{key:"cast",value:function(e,t){if(e instanceof t)try{return e}catch(n){}}},{key:"createInstanceByType",value:function(e){return new e}},{key:"createInstance",value:function(e){return new e}},{key:"createInstanceWithArguments",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new e(n)}},{key:"fromMap",value:function(e){if(e&&!(e.size<=0))return Array.from(e).reduce((function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1];return Object.assign(e,_defineProperty({},r,i))}),{})}},{key:"deepCopy",value:function(e){var t=this;if(null===e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Array){var n=[];return e.forEach((function(e){n.push(e)})),n.map((function(e){return t.deepCopy(e)}))}if("object"==typeof e&&e!=={}){var r=Object.assign({},e);return Object.keys(r).forEach((function(e){r[e]=t.deepCopy(r[e])})),r}return e}},{key:"ifDefined",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o)return o}}},{key:"propertyExists",value:function(e,t){return e&&(e.hasOwnProperty(t)||t in e)}},{key:"enumKeys",value:function(e){return Object.keys(e).filter((function(t){return"number"==typeof e[t]}))}},{key:"enumValues",value:function(e){return Object.keys(e).filter((function(t){return"number"==typeof e[t]})).map((function(t){return e[t]}))}}]),e}(),ve=n("cqWR"),me=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"buildFlatHierarchyItem",value:function(e,t,n,r,i){if(e){var o,a;try{o=t?_e.createInstance(t):void 0}catch(s){o=void 0}if(i&&(o=i.apply(this,[e,o])),o||(t?Object(S.a)("Could not create new item by the specified built type {"+t.name+"}"):Object(S.a)("Could not create new item by the specified built type or via `entityMapper` method")),n&&(r||"").length)(a=n[r]&&Object(P.isArray)(n[r])?Array.from(n[r]):[]).push(o),a&&a.length&&(n[r]=a);return o}}},{key:"buildFlatToHierarchyTree",value:function(t,n,r,i,o,a,s,u){var c,l,h=this;return(n||"").length&&(r||"").length||Object(S.a)("Could not build hierarchy that not specify property names to detect child/parent!"),o||u||Object(S.a)("Could not build hierarchy that not specify the built type or `entityMapper` method!"),c=i?i[n]:void 0,l=[],a&&l.push(a),(t||[]).forEach((function(i){var p;(i[r]||"")===(c||"")&&(i[n]||"")!==(c||"")&&(p=e.buildFlatHierarchyItem(i,o,a,s,u),!a&&l.push(p),h.buildFlatToHierarchyTree(t,n,r,i,o,p,s,u))})),l}},{key:"buildHierarchyItem",value:function(e,t,n,r,i,o){if(e){var a,s;try{a=t?_e.createInstance(t):void 0}catch(u){a=void 0}if(o&&(a=o.apply(this,[e,a])),a||(t?Object(S.a)("Could not create new item by the specified built type {"+t.name+"}"):Object(S.a)("Could not create new item by the specified built type or via `entityMapper` method")),n&&((r||"").length&&(a[r]=n),(i||"").length))(s=n[i]&&Object(P.isArray)(n[i])?Array.from(n[i]):[]).push(a),s&&s.length&&(n[i]=s);return a}}},{key:"buildHierarchyTree",value:function(t,n,r,i,o,a,s){var u,c=this;return n||s||Object(S.a)("Could not build hierarchy that not specify the built type or `entityMapper` method!"),u=[],t&&t.length&&t.forEach((function(t){var l;l=e.buildHierarchyItem(t,n,r,o,a,s),u.push(l),(i||"").length&&Object(P.isArray)(t[i])&&Array.from(t[i]).length&&c.buildHierarchyTree(Array.from(t[i]),n,l,i,o,a,s)})),u}},{key:"buildModelTreeview",value:function(t,n,r){var i,o;return i=function(e,t){return t?e&&(t.text=e[n]||"",t.value=e):t=new ve.a({checked:!1,collapsed:!0,disabled:!1,text:e[n]||"-",value:e}),t},((o=e.buildFlatToHierarchyTree(t,"id","parentId",void 0,void 0,void 0,"children",i))||[]).sort((function(e,t){return e.text<t.text?-1:e.text===t.text?0:1})),o}}]),e}(),ke=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return _createClass(n,[{key:"buildMenu",value:function(){var e=this;return new Promise((function(t,r){_get(_getPrototypeOf(n.prototype),"getAll",e).call(e).then((function(n){var r;n&&n.length&&(r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"buildMenu",value:function(e,t,n){var r;return r=function(e,t){return e&&t&&(t.title=e.name,t.icon=(e.api||{}).icon||e.icon||"",t.link=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"findClientLink",value:function(e){var t;if(t="",!(e||"").length)return t;for(var n=0,r=Object.values(J);n<r.length;n++){var i=r[n];if(t=this.findClientLinkRecursive(e,i),!Object(P.isNullOrUndefined)(t))break}return t||""}},{key:"findClientLinkRecursive",value:function(e,t){if(!(e||"").length||!t||!Object(P.isObject)(t))return null;var n,r;if(n="",t.hasOwnProperty("code")&&(n="function"==typeof t.code?t.code.call(void 0):t.code),r=void 0,t.hasOwnProperty("client")&&Object(P.isObject)(t.client)&&t.client.hasOwnProperty("url")&&(r="function"==typeof t.client.url?t.client.url.call(void 0):t.client.url),n===e)return r||"";if(r=void 0,t.hasOwnProperty("children")&&Object(P.isObject)(t.children))for(var i=0,o=Object.entries(t.children);i<o.length;i++){var a=_slicedToArray(o[i],2),s=(a[0],a[1]);if(r=this.findClientLinkRecursive(e,s),!Object(P.isNullOrUndefined)(r))break}return r}}]),e}().findClientLink((e.api||{}).code),t.data=e,t.expanded=!1,t.selected=!1),t},me.buildHierarchyTree(e,t,n,"children","parent","children",r)}}]),e}().buildMenu(n,ye.b)),e.getLogger().debug("Built menu",r),t(r)}),(function(t){e.getLogger().error(t),r(t)}))}))}}]),n}(ae),Ce=n("EApP"),be={mock:d.mock,theme:"default",logConfig:O,sw:{vapid_public_key:"",base_url:"http://localhost:8089/api-rest-notification/service"},request:{headers:{},timeout:3e5},itemsPerPage:15,baseMenu:[{id:"MENU_ADD",icon:"plus-square",title:"common.contextMenu.add",enabled:!0,visible:!0,divider:!1},{id:"MENU_EDIT",icon:"edit",title:"common.contextMenu.edit",enabled:!0,visible:!0,divider:!1},{id:"MENU_DELETE",icon:"minus-square",title:"common.contextMenu.delete",enabled:!0,visible:!0,divider:!1}],baseToolbarActions:[{id:"ACTION_SAVE",label:"common.form.action.save",type:"button",status:"primary",icon:{icon:"save",pack:"fa"},size:"small",shape:"rectangle"},{id:"ACTION_DELETE",label:"common.form.action.delete",type:"button",status:"danger",icon:{icon:"trash-alt",pack:"fa"},size:"small",shape:"rectangle"},{id:"ACTION_RESET",label:"common.form.action.reset",type:"button",status:"warning",icon:{icon:"redo",pack:"fa"},size:"small",shape:"rectangle"},{id:"ACTION_SEARCH",label:"common.form.action.search",type:"button",status:"primary",icon:{icon:"search",pack:"fas"},size:"small",shape:"rectangle"}],imageFileExtensions:["jpg","jpeg","png","bmp","gif"]};be.request.headers=Object.assign({},{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"*","Access-Control-Allow-Headers":"*","Service-Worker-Allowed":"*"});var Se=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(oe),Oe=n("N9/u"),we=n("CG3O"),Te=n("/eNa"),Ee=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i,f.customer)}return n}(N),Ae=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(Y),Pe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(oe),qe=n("TSSN"),Re=n("k5Gf"),je=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r,i,f.organization)).deleteExecutor=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];r&&r.length?(o.getLogger().debug("Delete data",r,"First data",r[0]),o.getDbService().deleteRecord(o.getDbStore(),r[0].uid).then((function(){return e(1)}),(function(e){o.getLogger().error("Could not delete data",e),t(e)}))):e(0)},o}return n}(N),Ne=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(Y),Ie=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(oe),De=n("cUpR"),Le=function e(){_classCallCheck(this,e)},xe=function(){function e(t,n,r,i){_classCallCheck(this,e),this.translateService=t,this.logger=n,this._titleService=r,this._metaService=i,n||Object(S.a)("Could not inject NGXLogger"),t||Object(S.a)("Could not inject TranslateService"),r||Object(S.a)("Could not inject Title"),i||Object(S.a)("Could not inject Meta")}return _createClass(e,[{key:"getTranslateService",value:function(){return this.translateService}},{key:"getLogger",value:function(){return this.logger}},{key:"getConfig",value:function(){return this.config||new Le}},{key:"setConfig",value:function(e){e||Object(S.a)("Config must be not undefined"),this.config=e,this.resolve()}},{key:"resolve",value:function(){if(this.getConfig()){var e,t,n,r;if(this.getLogger().debug("Resolve page header",this.titleService,this.metaService,this.getConfig()),this.titleService&&(this.getConfig().title||"").length)e=this.getTranslateService(),t=[],n=this.getConfig().title,e&&(Object(P.isArray)(n)?Array.from(n).forEach((function(n){t.push(e.instant(n))})):t.push(e.instant(n))),this.getLogger().debug("Translate?",this.getConfig().title," -> ",t.join(" - ")),this.titleService.setTitle(t.join(" - "));if(this.metaService&&this.getConfig().meta&&this.getConfig().meta.length)r=this.metaService,this.getConfig().meta.forEach((function(e){r.getTag(e.id)?r.updateTag(e,e.id):r.addTag(e)}))}}},{key:"titleService",get:function(){return this._titleService=this._titleService||new De.c(document),this._titleService},set:function(e){this._titleService=e}},{key:"metaService",get:function(){return this._metaService=this._metaService||new De.b(document),this._metaService},set:function(e){this._metaService=e}}]),e}(),Ue=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.moduleService=t,this.router=n,this.toasterService=r,this.translateService=i,this.logger=o,t||Object(S.a)("Could not inject ModuleService"),n||Object(S.a)("Could not inject Router"),r||Object(S.a)("Could not inject ToastrService"),i||Object(S.a)("Could not inject TranslateService"),o||Object(S.a)("Could not inject NGXLogger")}return _createClass(e,[{key:"getModuleService",value:function(){return this.moduleService}},{key:"getRouter",value:function(){return this.router}},{key:"getToasterService",value:function(){return this.toasterService}},{key:"getTranslateService",value:function(){return this.translateService}},{key:"getLogger",value:function(){return this.logger}},{key:"canActivateChild",value:function(e,t){var n=this;return this.getModuleService().count().then((function(e){return(!e||e<=0)&&n.getToasterService().error(n.getTranslateService().instant("common.toast.unknown"),n.getTranslateService().instant("app")),e&&e>0}),(function(e){return n.getLogger().error("ERROR - Check child route activate",t,e),!1})).catch((function(e){return n.getLogger().error("ERROR - Check child route activate",t,e),!1}))}}]),e}(),Me=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i,f.warehouse)}return _createClass(n,[{key:"getStoragesByPath",value:function(e,t,n){if(!(e||"").length)return this.getAll().then((function(e){t.push.apply(t,_toConsumableArray(Array.from(e)))}));this.openCursor((function(r){var i=r.target.result;n&&i&&!Object(P.isNullOrUndefined)(i.value)&&(i.value.pathCodes||"").length&&(i.value.pathCodes||"").toLowerCase().indexOf(e.toLowerCase())>=0&&t.push(i.value),!n&&i&&!Object(P.isNullOrUndefined)(i.value)&&(i.value.pathIds||"").length&&(i.value.pathIds||"").toLowerCase().indexOf(e.toLowerCase())>=0&&t.push(i.value)}))}}]),n}(N),Fe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(Y),He=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return _createClass(n,[{key:"getStoragesByPath",value:function(e,t,n){return this.getDbService().getStoragesByPath(e,t,n)}}]),n}(oe),ze=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i,f.warehouse_order)}return n}(N),Be=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(Y),Ye=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(oe),Ve=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i,f.warehouse_order_detail)}return n}(N),Ge=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(Y),Je=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(oe),Ke=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i,f.warehouse_item)}return n}(N),We=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(Y),Xe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return _createClass(n,[{key:"getAll",value:function(){return _get(_getPrototypeOf(n.prototype),"getAllByIndex",this).call(this,"is_version",IDBKeyRange.only(0))}},{key:"save",value:function(e){var t=this;return this.getDbService().saveEntities(e).then((function(e){return t.refresh(),e}),(function(e){return t.getLogger().error(e),0})).catch((function(e){return t.getLogger().error(e),0}))}}]),n}(oe),Qe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i,f.warehouse_inventory)}return n}(N),Ze=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(Y),$e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(oe),et=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i,f.warehouse_inventory_detail)}return n}(N),tt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(Y),nt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return _createClass(n,[{key:"save",value:function(e){var t=this;return this.getDbService().saveEntities(e).then((function(e){return t.refresh(),e}),(function(e){return t.getLogger().error(e),0})).catch((function(e){return t.getLogger().error(e),0}))}}]),n}(oe),rt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i,f.warehouse_category)}return n}(N),it=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(Y),ot=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(oe),at=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i,f.warehouse_adjust)}return n}(N),st=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(Y),ut=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(oe),ct=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i,f.warehouse_adjust_detail)}return n}(N),lt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(Y),ht=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(oe),pt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i,f.country)}return n}(N),dt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(Y),ft=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(oe),gt=function e(t){_classCallCheck(this,e),this.id=t},yt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).id=e,o.code=r,o.name=i,o}return n}(gt),_t={universal:{code:"UNIVERSAL",baseUrl:"https://www.universal-tutorial.com/",api:{token:{email:"hainguyenjc@gmail.com",vapid_public_key:"M70onCyk9pjjPxfwNiM3TyerUYNPGI26ZqBKuqhAP6LmE3Ct2bR91gw8QPg4D5Aom14",tokenUrl:function(){return(d.useProxy?"":_t.universal.baseUrl).concat("api/getaccesstoken")},expiredIn:864e5},country:{url:function(){return(d.useProxy?"":_t.universal.baseUrl).concat("api/countries")},method:"GET"},province:{url:function(){return(d.useProxy?"":_t.universal.baseUrl).concat("api/states")},method:"GET"},city:{url:function(){return(d.useProxy?"":_t.universal.baseUrl).concat("api/cities")},method:"GET"}}}},vt=n("5+tZ");new r.C("Third-party API authorization token configuration");var mt,kt=function(e){_inherits(n,_wrapNativeSuper(Error));var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._code=e,i._cause=r,i}return _createClass(n,[{key:"code",get:function(){return this._code}},{key:"cause",get:function(){return this._cause}}]),n}(),Ct=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o,a;return _classCallCheck(this,n),(a=t.call(this,e,r,i,f.third_party)).deleteExecutor=function(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return i&&i.length&&(i[0].expiredAt=(new Date).getTime()),_get((o=_assertThisInitialized(a),_getPrototypeOf(n.prototype)),"deleteExecutor",o).call(o,e,t)},a}return _createClass(n,[{key:"getAll",value:function(){var e=this;return _get(_getPrototypeOf(n.prototype),"getAll",this).call(this).then((function(t){return(t||[]).length&&e._ensureNonExpiredData.apply(e,_toConsumableArray(t)),t}),(function(t){return e.getLogger().error(t),[]}))}},{key:"findEntities",value:function(e,t){var r=this;return _get(_getPrototypeOf(n.prototype),"findEntities",this).call(this,e,t).then((function(e){return(e||[]).length&&r._ensureNonExpiredData.apply(r,_toConsumableArray(e)),e}),(function(e){return r.getLogger().error(e),[]}))}},{key:"findById",value:function(e){var t=this;return _get(_getPrototypeOf(n.prototype),"findById",this).call(this,e).then((function(e){return e&&t._ensureNonExpiredData(e),e}),(function(e){return t.getLogger().error(e),null}))}},{key:"_ensureNonExpiredData",value:function(){for(var e=new Date,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(n||[]).forEach((function(t){t&&0!==t.expiredAt&&new Date(t.expiredAt)>=e&&Object(S.a)(new kt(t.code,new Error("Third party data has been expired!")))}))}}]),n}(N),bt=((mt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e,r,i))._secureStorage=o,s.apiConfig=a,a||Object(S.a)("Could not inject third-party API configuration"),(a.code||"").length&&a.token||Object(S.a)("Third-party API configuration code must be not undefined"),s}return _createClass(n,[{key:"generateTokenKey",value:function(){return[n.THIRD_PARTY_LATEST_ACCESS_TOKEN,this.config.code].join("_")}},{key:"generateRequiredTokenTimesKey",value:function(){return[n.THIRD_PARTY_REQUIRED_TOKEN_TIMES,this.config.code].join("_")}},{key:"requiredTokenTimes",value:function(){var e=this.secureStorage.get(this.generateRequiredTokenTimesKey());return isNaN(e)?1:parseFloat(e)}},{key:"increaseRequiredTokenTimes",value:function(){var e=this.requiredTokenTimes();this.secureStorage.set(this.generateRequiredTokenTimesKey(),e)}},{key:"resetRequiredTokenTimes",value:function(){this.secureStorage.remove(this.generateRequiredTokenTimesKey())}},{key:"parseResponse",value:function(e){if(e&&e.getResponse()&&e.getResponse().body&&e.getResponse().ok){var t=F.parseResponseJson(e.getResponse().body);return t.code=this.config.code.concat("|",this.apiConfig.token.method||"UNKNOWN","|",e.getResponse().url),Math.max(this.config.token.expiredIn,0)>0&&(t.expiredAt=(new Date).getTime()+this.config.token.expiredIn),t}}},{key:"configHeaders",value:function(e){return this.config.tokenParam&&"header"===this.config.tokenParam.type?this.config.tokenParam.values:e}},{key:"configParams",value:function(e){return this.config.tokenParam&&"param"===this.config.tokenParam.type?this.config.tokenParam.values:e}},{key:"configBody",value:function(e){return this.config.tokenParam&&"body"===this.config.tokenParam.type?this.config.tokenParam.values:e}},{key:"configResponseType",value:function(e){return this.config.tokenParam?this.config.tokenParam.responseType:e}},{key:"configObserve",value:function(e){return this.config.tokenParam?this.config.tokenParam.observe:e}},{key:"handleResponseError",value:function(e,t,r,i){var o=this.requiredTokenTimes();return e!==this.config.token.tokenUrl&&o<n.THIRD_PARTY_REQUIRED_TOKEN_TIMES_MAXIMUM&&this.isUnauthorizedOrExpired(r)?(!(this.config.token.tokenUrl||"").length||Object(S.a)("Please provide third-party authorization configuration to require access token!"),this.increaseRequiredTokenTimes(),this.handleUnauthorizedExpired(e,t,i)):_get(_getPrototypeOf(n.prototype),"handleResponseError",this).call(this,e,t,i)}},{key:"isUnauthorizedOrExpired",value:function(e){return!1}},{key:"handleUnauthorizedExpired",value:function(e,t,n,r){var i=this,o=_e.deepCopy(r||{});o.headers=this.configHeaders(),o.params=this.configParams(),o.body=this.configBody(),o.observe=this.configObserve(),o.responseType=this.configResponseType(),this.config.tokenParam&&"custom"===this.config.tokenParam.type&&(o=(o=this.customAuthorizeRequestOptions(o))||{});var a=this;return a.getHttp().request(a.config.token.method||"GET",a.config.token.tokenUrl,o).pipe(Object(x.a)((function(e){return a.getLogger().debug("Access Token Response",e),e})),Object(x.a)((function(t){var n=t;a.ensureVaidResponse(n,a.config.token.tokenUrl,a.config.token.method||"GET",o);var s=a.parseAccessToken(n);return s||Object(S.a)(new _.c({url:e,headers:r.headers,status:401,statusText:"Unauthorized",error:"Token has been expired! But could not require/parse new token again!"})),a.secureStorage.set(i.generateTokenKey(),s),a.resetRequiredTokenTimes(),s})),Object(x.a)((function(e){return a.updateRequestOptionsBeforeRequest(r)})),Object(vt.a)((function(n){return a.getHttp().request(t,e,n).pipe(Object(x.a)((function(r){return r instanceof _.h?a.ensureVaidResponse(r,e,t,n):r=new _.h({body:JSON.stringify(r),headers:n&&n.headers instanceof _.e?n.headers:new _.e((n||{}).headers),status:200,url:e}),a.parseResponse(new H(!0,r,n.redirectSuccess,[],n.messages))})),Object(U.a)(a.processRequestError(e,t,r)))})),Object(U.a)(a.processRequestError(e,t,r)))}},{key:"customAuthorizeRequestOptions",value:function(e){return e}},{key:"parseAccessToken",value:function(e){return F.safeParseJson(e instanceof _.h?e.body:e)}},{key:"processAccessToken",value:function(e,t){return t}},{key:"updateRequestOptionsBeforeRequest",value:function(e){return(e=Object.assign({},e||{})).headers=e.headers||{},e.headers instanceof _.e?e.headers.set("X-ThirdParty",this.config.code):e.headers["X-ThirdParty"]=this.config.code,this.processAccessToken(this.latestToken,e)}},{key:"request",value:function(e,t,r){return r=this.updateRequestOptionsBeforeRequest(r=r||{}),_get(_getPrototypeOf(n.prototype),"request",this).call(this,e,t,r)}},{key:"config",get:function(){return this.apiConfig}},{key:"secureStorage",get:function(){return this._secureStorage}},{key:"latestToken",get:function(){return this.secureStorage.get(this.generateTokenKey())}}]),n}(Y)).THIRD_PARTY_LATEST_ACCESS_TOKEN="XThirdPartyToken",mt.THIRD_PARTY_REQUIRED_TOKEN_TIMES="XThirdPartyRequiredToken",mt.THIRD_PARTY_REQUIRED_TOKEN_TIMES_MAXIMUM=3,L.__decorate([Object(z.a)(),L.__metadata("design:type",Function),L.__metadata("design:paramtypes",[String,String,Object]),L.__metadata("design:returntype",M.a)],mt.prototype,"request",null),mt),St=function e(t){_classCallCheck(this,e),this.parsers=t},Ot=function(){function e(t){_classCallCheck(this,e),this._dataPropertyName=t,(t||"").length||Object(S.a)("Please define the property of the returned third-part API data to parse")}return _createClass(e,[{key:"parse",value:function(e){var t,n,r=this;return t=null,e&&(e.response||"").length?((n=F.parseResponseJson(e.response))&&!Object(P.isArray)(n)&&(n=[n]),Object(P.isArray)(n)&&n.length&&(t=[],n.forEach((function(e){if(e&&e.hasOwnProperty(r.dataPropertyName)&&(e[r.dataPropertyName]||"").length){var n=r.mappingData(e);n&&t.push(n),!n&&window.console.warn(["Could not parse ",e," data from third-party API!"])}}))),t):t}},{key:"dataPropertyName",get:function(){return this._dataPropertyName}}]),e}();new r.C("Third-party API data parsers definition");var wt,Tt,Et,At,Pt,qt,Rt,jt=((Et=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r,i))._dataParser=o,a}return _createClass(n,[{key:"dataParser",value:function(){return this._dataParser||new St([])}},{key:"getAll",value:function(){return Object(S.a)(n.EXCEPTION_NOT_SUPPORTED),Promise.reject(n.EXCEPTION_NOT_SUPPORTED)}},{key:"findData",value:function(e,t,r,i){(e||"").length||Object(S.a)(n.EXCEPTION_NOT_SUPPORTED);var o=this,a=[o.getHttpService().config.code,t||"UNKNOWN",e].join("|");return o.getDbService().findEntities(n.INDEX_NAME_THIRD_PARTY_CODE,a).then((function(n){return(n||[]).length?n:o.getHttpService().request(e,t,i).toPromise().then((function(e){return e&&!Object(P.isArray)(e)&&(e=[].concat(e)),o.getDbService().insertEntities(e).then((function(t){var n,i;return n=[],r&&o.dataParser()&&o.dataParser().parsers&&(i=o.getDataParser(r))&&(e||[]).forEach((function(e){var t=i.parse(e);t&&Object(P.isArray)(t)?n=n.concat(t):t&&n.push(t)})),e=o.filter(e),e=o.sort(e),o.setRecordsNumber((e||[]).length),e=o.paginate(e),n}),(function(e){return o.getLogger().error(e),[]})).catch((function(e){return o.getLogger().error(e),[]}))}),(function(e){return o.getLogger().error(e),[]})).catch((function(e){return o.getLogger().error(e),[]}))}),(function(e){return o.getLogger().error(e),[]})).catch((function(e){return o.getLogger().error(e),[]}))}},{key:"getDataParser",value:function(e){var t;if(t=null,this.dataParser().parsers&&e){var n,r=_createForOfIteratorHelper(this.dataParser().parsers);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i&&i.provide===e){t=i.parser;break}}}catch(o){r.e(o)}finally{r.f()}}return t}}]),n}(oe)).EXCEPTION_NOT_SUPPORTED="Not support for getting all data because third-party manage data by URL, method and code!",Et.INDEX_NAME_THIRD_PARTY_CODE="code",Et),Nt=((Tt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r,i,"NOT_USING_STORE_BECAUSE_THIS_JUST_BRIDGE_API"))._thirdPartyApi=o,a.deleteExecutor=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];r&&r.length?(a.getLogger().debug("Delete data",r,"First data",r[0]),r[0].deletedAt=(new Date).getTime(),r[0].expiredAt=(new Date).getTime(),a.updateExecutor.apply(_assertThisInitialized(a),[e,t].concat(r))):e(0)},o||Object(S.a)("Could not inject ThirdPartyApiDatasource instance"),a}return _createClass(n,[{key:"getAll",value:function(){return Object(S.a)(n.EXCEPTION_PERFORMANCE_REASON),Promise.reject(n.EXCEPTION_PERFORMANCE_REASON)}},{key:"fetch",value:function(e){var t=this;return e&&e.dbCacheFilter||Object(S.a)(n.EXCEPTION_PERFORMANCE_REASON),e.callApi&&(e.callApi.method||"").length&&("function"==typeof this.thirdPartyApi[e.callApi.method]||this.thirdPartyApi[e.callApi.method]instanceof Promise||this.thirdPartyApi[e.callApi.method]instanceof M.a)||Object(S.a)(n.EXCEPTION_INVALID_API_GATEWAY),this.getDbService().getAllByIndex(e.dbCacheFilter.dbStore,e.dbCacheFilter.indexName,e.dbCacheFilter.criteria).then((function(n){if(!n||Object(P.isArray)(n)&&!(n||[]).length){var r=t.thirdPartyApi[e.callApi.method];return(r instanceof Promise||r instanceof M.a?r instanceof Promise?r:r.toPromise():new Promise((function(n){return n(r.apply(t._thirdPartyApi,e.callApi.args))}))).then(e.apiFulfilled,(function(e){return t.getLogger().error(e),[]})).catch((function(e){return t.getLogger().error(e),[]}))}return n&&!Object(P.isArray)(n)?Array.of(n):n?Array.from(n):n}),(function(e){return t.getLogger().error(e),[]})).catch((function(e){return t.getLogger().error(e),[]}))}},{key:"thirdPartyApi",get:function(){return this._thirdPartyApi}}]),n}(j)).EXCEPTION_PERFORMANCE_REASON="Not support for getting all data because of performance!",Tt.EXCEPTION_INVALID_API_GATEWAY="Not found the valid API function",Tt),It=((wt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r,i,f.city)).thirdPartyApiBridge=o,o||Object(S.a)("Could not inject ThirdPartyApiBridgeDbService instance"),a}return _createClass(n,[{key:"getAll",value:function(){return Object(S.a)(n.EXCEPTION_PERFORMANCE_REASON),Promise.reject(n.EXCEPTION_PERFORMANCE_REASON)}},{key:"findByProvince",value:function(e){e||Object(S.a)(n.EXCEPTION_PERFORMANCE_REASON);var t=this,r={dbCacheFilter:{dbStore:this.getDbStore(),indexName:n.INDEX_NAME_PROVINCE_ID,criteria:e.id},callApi:{method:n.THIRD_PARTY_ENTRY_METHOD,args:[n.THIRD_PARTY_CITY_URL.concat("/",e.name),n.THIRD_PARTY_CITY_METHOD,yt]},apiFulfilled:function(n){var r,i={};return(r=(r=Object(P.isArray)(n)?n:n?[n]:[]).removeIf((function(e){return Object(P.isNullOrUndefined)(e)}))).forEach((function(t){t.province_id=e.id;var n=e.code.concat("|",t.code);i.hasOwnProperty(n)?(i[n]=i[n]+1,n=n.concat("|",i[n].toString())):i[n]=1,t.code=n})),t.insertEntities(r).then((function(e){return r}),(function(e){return t.getLogger().error(e),[]})).catch((function(e){return t.getLogger().error(e),[]}))}};return t.thirdPartyApiBridge.fetch(r)}}]),n}(N)).EXCEPTION_PERFORMANCE_REASON="Not support for getting all cities because of performance!",wt.INDEX_NAME_PROVINCE_ID="province_id",wt.THIRD_PARTY_CITY_URL=_t.universal.api.city.url.call(void 0),wt.THIRD_PARTY_CITY_METHOD=_t.universal.api.city.method,wt.THIRD_PARTY_ENTRY_METHOD="findData",wt),Dt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),o=t.call(this,e,r,i),i||Object(S.a)("Could not inject user database service for offline mode"),o}return n}(Y),Lt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return _createClass(n,[{key:"findByProvince",value:function(e){var t=this;return _get(_getPrototypeOf(n.prototype),"getDbService",this).call(this).findByProvince(e).then(this.onFulfilledData(),(function(e){return t.getLogger().error(e),[]})).catch((function(e){return t.getLogger().error(e),[]}))}}]),n}(oe),xt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).id=e,o.code=r,o.name=i,o}return n}(gt),Ut=((At=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r,i,f.province)).thirdPartyApiBridge=o,o||Object(S.a)("Could not inject ThirdPartyApiBridgeDbService instance"),a}return _createClass(n,[{key:"getAll",value:function(){return Object(S.a)(n.EXCEPTION_PERFORMANCE_REASON),Promise.reject(n.EXCEPTION_PERFORMANCE_REASON)}},{key:"findByCountry",value:function(e){e||Object(S.a)(n.EXCEPTION_PERFORMANCE_REASON);var t=this,r={dbCacheFilter:{dbStore:this.getDbStore(),indexName:n.INDEX_NAME_COUNTRY_ID,criteria:e.id},callApi:{method:n.THIRD_PARTY_ENTRY_METHOD,args:[n.THIRD_PARTY_STATE_URL.concat("/",e.name),n.THIRD_PARTY_STATE_METHOD,xt]},apiFulfilled:function(n){var r,i={};return(r=(r=Object(P.isArray)(n)?n:n?[n]:[]).removeIf((function(e){return Object(P.isNullOrUndefined)(e)}))).forEach((function(t){t.country_id=e.id;var n=e.code.concat("|",t.code);i.hasOwnProperty(n)?(i[n]=i[n]+1,n=n.concat("|",i[n].toString())):i[n]=1,t.code=n})),t.insertEntities(r).then((function(e){return r}),(function(e){return t.getLogger().error(e),[]})).catch((function(e){return t.getLogger().error(e),[]}))}};return t.thirdPartyApiBridge.fetch(r)}}]),n}(N)).EXCEPTION_PERFORMANCE_REASON="Not support for getting all provinces because of performance!",At.INDEX_NAME_COUNTRY_ID="country_id",At.THIRD_PARTY_STATE_URL=_t.universal.api.province.url.call(void 0),At.THIRD_PARTY_STATE_METHOD=_t.universal.api.province.method,At.THIRD_PARTY_ENTRY_METHOD="findData",At),Mt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(Y),Ft=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return _createClass(n,[{key:"findByCountry",value:function(e){var t=this;return _get(_getPrototypeOf(n.prototype),"getDbService",this).call(this).findByCountry(e).then(this.onFulfilledData(),(function(e){return t.getLogger().error(e),[]})).catch((function(e){return t.getLogger().error(e),[]}))}}]),n}(oe),Ht=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,null,_t.universal.code)}return n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).id=e,i.code=r,i}return n}(gt)),zt=n("jk/G"),Bt=n("iLSq"),Yt=function e(t,n,r,i){_classCallCheck(this,e),this.isCompression=t,this.encodingType=n,this.encryptionSecret=r,this.encryptionNamespace=i},Vt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"serialize",value:function(e){return JSON.stringify(e)}},{key:"deserialize",value:function(e){return F.safeParseJson(e)}}]),e}(),Gt=function e(t,n){_classCallCheck(this,e),this.prefix=t,this.allowNull=n},Jt=new r.C("Local storage secure encryption configuration"),Kt=new r.C("Local storage configuration"),Wt=new r.C("Local storage serializer/deserializer injection"),Xt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,r||new Vt,i||new Gt))._logger=e,o._serializer=r,e||Object(S.a)("Could not inject NGXLogger instance"),r||e.warn("Not inject serializer configuration! The default serializer will be used!"),r=r||new Vt,i||e.warn("Not inject storage configuration! The default configuration will be used!"),o}return _createClass(n,[{key:"logger",get:function(){return this._logger}},{key:"serializer",get:function(){return this._serializer}}]),n}(zt.a),Qt=function(){function e(t,n,r,i){_classCallCheck(this,e),this._logger=t,this._serializer=n,this._storageConfig=r,this._secureConfig=i,t||Object(S.a)("Could not inject NGXLogger instance"),i||t.warn("Not inject secure storage configuration! The default configuration will be used!"),i=i||new Yt,this._internalSecuredStorage=new Bt({isCompression:i.isCompression,encodingType:i.encodingType,encryptionNamespace:i.encryptionNamespace,encryptionSecret:i.encryptionSecret})}return _createClass(e,[{key:"_transformKey",value:function(e){return(this.storageConfig.prefix||"").concat(e||"")}},{key:"_revertKey",value:function(e){return(e||"").substring((this.storageConfig.prefix||"").length)}},{key:"getKey",value:function(e){var t=this.getAllKeys();return(t||[]).length&&0<=e&&e<t.length?t[e]:void 0}},{key:"count",value:function(){return(this.getAllKeys()||[]).length}},{key:"get",value:function(e,t){var n=this.internalSecuredStorage.get(this._transformKey(e),t);return Object(P.isNullOrUndefined)(n)?n:this.serializer.deserialize(n)}},{key:"getDataFromLocalStorage",value:function(e){var t=this.internalSecuredStorage.getDataFromLocalStorage(this._transformKey(e));return Object(P.isNullOrUndefined)(t)?t:this.serializer.deserialize(t)}},{key:"set",value:function(e,t){(Object(P.isNullOrUndefined)(t)&&this.storageConfig.allowNull||!Object(P.isNullOrUndefined)(t))&&this.internalSecuredStorage.set(this._transformKey(e),Object(P.isNullOrUndefined)(t)?t:this.serializer.serialize(t))}},{key:"setDataToLocalStorage",value:function(e,t){(Object(P.isNullOrUndefined)(t)&&this.storageConfig.allowNull||!Object(P.isNullOrUndefined)(t))&&this.internalSecuredStorage.set(this._transformKey(e),Object(P.isNullOrUndefined)(t)?t:this.serializer.serialize(t))}},{key:"remove",value:function(e){this.internalSecuredStorage.remove(this._transformKey(e))}},{key:"getEncryptionSecret",value:function(){return this.internalSecuredStorage.getEncryptionSecret()}},{key:"getAllKeys",value:function(){var e,t=this,n=this.internalSecuredStorage.getAllKeys();return e=[],(n||[]).forEach((function(n){return e.push(t._revertKey(n))})),e}},{key:"removeAll",value:function(){this.internalSecuredStorage.removeAll()}},{key:"clear",value:function(){this.internalSecuredStorage.clear()}},{key:"resetAllKeys",value:function(){return this.internalSecuredStorage.resetAllKeys()}},{key:"processData",value:function(e,t){return this.internalSecuredStorage.processData(e,t)}},{key:"setMetaData",value:function(){this.internalSecuredStorage.setMetaData()}},{key:"getMetaData",value:function(){return this.internalSecuredStorage.getMetaData()}},{key:"secureConfig",get:function(){return this._secureConfig}},{key:"logger",get:function(){return this._logger}},{key:"serializer",get:function(){return this._serializer}},{key:"storageConfig",get:function(){return this._storageConfig}},{key:"internalSecuredStorage",get:function(){return this._internalSecuredStorage}}]),e}(),Zt="TokenExpiredError",$t="JsonWebTokenError",en={code:_t.universal.code,baseUrl:_t.universal.baseUrl,token:{tokenUrl:_t.universal.api.token.tokenUrl.call(void 0),method:"GET",expiredIn:_t.universal.api.token.expiredIn},tokenParam:{type:"header",values:{"api-token":_t.universal.api.token.vapid_public_key,"user-email":_t.universal.api.token.email}}},tn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(Ct),nn=((Pt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){return _classCallCheck(this,n),t.call(this,e,r,i,o,en)}return _createClass(n,[{key:"parseResponse",value:function(e){if(e&&e.getResponse()&&e.getResponse().body&&e.getResponse().ok){var t=new Ht;return t.id=t.id||R.oid.generate(),t.code=[this.config.code,this.config.token.method||"UNKNOWN",e.getResponse().url].join("|"),t.response=e.getResponse().body,t}}},{key:"isUnauthorizedOrExpired",value:function(e){if(e&&e instanceof _.c&&(500===e.status||401===e.status)){var t=e;if(t.error){var r=F.safeParseJson(t.error);return r&&r.error&&[Zt,$t].indexOf(r.error.name)>=0}}return _get(_getPrototypeOf(n.prototype),"isUnauthorizedOrExpired",this).call(this,e)}},{key:"parseAccessToken",value:function(e){return(_get(_getPrototypeOf(n.prototype),"parseAccessToken",this).call(this,e)||{})[n.UNIVERSAL_ACCESS_TOKEN_API_PARAMETER_NAME]}},{key:"processAccessToken",value:function(e,t){var n=[Z,e||""].join(" ");return(t=t||{}).headers=t.headers||{},t.headers instanceof _.e?t.headers.set("Authorization",n):t.headers.Authorization=n,t}}]),n}(bt)).UNIVERSAL_ACCESS_TOKEN_API_PARAMETER_NAME="auth_token",Pt),rn=((Rt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,n.DATA_PROPERTY_PROVINCE_NAME)}return _createClass(n,[{key:"mappingData",value:function(e){var t=R.oid.generate(),r=e[this.dataPropertyName];return new xt(t,r.left(n.PROVINCE_CODE_FROM_NAME_LENGTH),r)}}]),n}(Ot)).DATA_PROPERTY_PROVINCE_NAME="state_name",Rt.PROVINCE_CODE_FROM_NAME_LENGTH=3,Rt),on=((qt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,n.DATA_PROPERTY_CITY_NAME)}return _createClass(n,[{key:"mappingData",value:function(e){var t=R.oid.generate(),r=e[this.dataPropertyName];return new xt(t,r.left(n.CITY_CODE_FROM_NAME_LENGTH),r)}}]),n}(Ot)).DATA_PROPERTY_CITY_NAME="city_name",qt.CITY_CODE_FROM_NAME_LENGTH=3,qt),an=[{provide:xt,parser:new rn},{provide:yt,parser:new on}],sn=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,an)}return n}(St)),un=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i,sn)}return n}(jt),cn=n("tS1D"),ln=new r.C("The default request timeout to apply"),hn=new r.C("The default request header to apply such as CORS"),pn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){return _classCallCheck(this,n),t.call(this,e,r,i,o)}return n}(Nt);n("NFKh");var dn=n("NFKh"),fn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i,f.warehouse_settings)}return n}(N),gn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(Y),yn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(oe),_n=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i,f.general_settings)}return n}(N),vn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(Y),mn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(oe),kn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getElementsBySelector",value:function(e,t){if((e||"").length)return(t||document).querySelectorAll(e)}},{key:"getClosestElementBySelector",value:function(e,t){if((e||"").length){var n=t||document;return n?n.closest(e):void 0}}},{key:"getFirstElementBySelector",value:function(e,t){var n;return(n=this.getElementsBySelector(e,t))&&n.length?n.item(0):void 0}},{key:"getFocusableElements",value:function(t){return e.getElementsBySelector("a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled])",t)}},{key:"getFirstFocusableElement",value:function(e){var t;return(t=this.getFocusableElements(e))&&t.length?t.item(0):void 0}},{key:"preventEvent",value:function(e){var t=e;return!t||(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),t.cancelBubble=!0,t.returnValue=!1,!1)}},{key:"sibling",value:function(e,t,n){var r;return r=e?(t||document.body).nextElementSibling:(t||document.body).previousElementSibling,(n||"").length&&r&&!r.matches(n)?this.sibling(e,r,n):r}},{key:"nextSibling",value:function(e,t){return this.sibling(!0,e,t)}},{key:"previousSibling",value:function(e,t){return this.sibling(!1,e,t)}},{key:"walk",value:function(e,t,n){var r;if(r=this.getElementsBySelector((n||"").length?n:"*"),!t)return r.item(e?0:r.length-1);for(var i=0;i<r.length;i++)if(r.item(i)===t&&(!(n||"").length||r.item(i).matches(n))){if(e&&i<r.length-1)return r.item(i+1);if(!e&&0<i)return r.item(i-1)}}},{key:"next",value:function(e,t){return this.walk(!0,e,t)}},{key:"previous",value:function(e,t){return this.walk(!1,e,t)}},{key:"getBaseHref",value:function(){var e;return(((e=document.getElementsByTagName("base"))&&e.item(0)&&e.item(0).hasAttribute("href")?e.item(0).getAttribute("href"):d.baseHref)||"").trimLast("/")}},{key:"offset",value:function(e){if(Object(P.isNullOrUndefined)(e))return{top:-1,left:-1,width:-1,height:-1};var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+r,left:t.left+n,width:e instanceof HTMLElement?e.offsetWidth:-1,height:e instanceof HTMLElement?e.offsetHeight:-1}}},{key:"detectBrowserLanguage",value:function(){var e=Object(P.isNullOrUndefined)(navigator)?"":navigator.language||"";return!e.length||e.indexOf("-")<0?e||"":e.substring(0,e.indexOf("-"))}},{key:"detectBrowserLanguages",value:function(){var e=this.detectBrowserConfigurationLanguages(),t=[];return e.forEach((function(e){var n=!e.length||e.indexOf("-")<0?e:e.substring(0,e.indexOf("-"));n.length&&t.indexOf(n)<0&&t.push(n)})),t}},{key:"detectBrowserConfigurationLanguages",value:function(){return Object(P.isNullOrUndefined)(navigator)?[]:Array.from(navigator.languages||[])}}]),e}(),Cn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i,f.warehouse_item)}return n}(N),bn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(Y),Sn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return _createClass(n,[{key:"getDataModel",value:function(){return this.dataModel}},{key:"setDataModel",value:function(e){this.dataModel=e,_get(_getPrototypeOf(n.prototype),"reset",this).call(this,!0),_get(_getPrototypeOf(n.prototype),"refresh",this).call(this)}}]),_createClass(n,[{key:"getAll",value:function(){var e=this.dataModel?this.dataModel.code:void 0;return(e||"").length?_get(_getPrototypeOf(n.prototype),"getAllByIndex",this).call(this,"item_code",IDBKeyRange.only(e)):Promise.resolve([])}}]),n}(oe),On=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i,f.warehouse_batch_no)}return n}(N),wn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(Y),Tn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(oe),En=function(){function e(t,n,r){_classCallCheck(this,e),this._applicationRef=t,this._componentFactoryResolver=n,this._injector=r}return _createClass(e,[{key:"getComponentRootNode",value:function(e){return e.hostView.rootNodes[0]}},{key:"projectComponentInputs",value:function(e,t){if(t){var n,r=_createForOfIteratorHelper(Object.getOwnPropertyNames(t));try{for(r.s();!(n=r.n()).done;){var i=n.value;e.instance[i]=t[i]}}catch(o){r.e(o)}finally{r.f()}}return e}},{key:"appendComponentByFactory",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.rootViewContainerNode,i=(Object(P.isNullOrUndefined)(e)?this.componentFactoryResolver:e).resolveComponentFactory(t).create(this.injector),o=this.applicationRef,a=this.getComponentRootNode(i);if(this.projectComponentInputs(i,n),o.attachView)o.attachView(i.hostView),i.onDestroy((function(){o.detachView(i.hostView)}));else{var s=i.changeDetectorRef;"function"==typeof o.registerChangeDetector&&"function"==typeof o.unregisterChangeDetector&&(o.registerChangeDetector.apply(o,[s]),i.onDestroy((function(){o.unregisterChangeDetector.apply(o,[s]),a.parentNode&&a.parentNode.removeChild(a)})))}return r.appendChild(a),i}},{key:"appendComponent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rootViewContainerNode;return this.appendComponentByFactory(null,e,t,n)}},{key:"container",get:function(){return this._container}},{key:"applicationRef",get:function(){return this._applicationRef}},{key:"componentFactoryResolver",get:function(){return this._componentFactoryResolver}},{key:"injector",get:function(){return this._injector}},{key:"rootViewContainer",get:function(){if(this.container)return this.container;var e=this.applicationRef._rootComponents;if(e.length)return e[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer.")},set:function(e){this._container=e}},{key:"rootViewContainerNode",get:function(){return this.getComponentRootNode(this.rootViewContainer)}}]),e}(),An=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i,f.warehouse_management)}return n}(N),Pn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(Y),qn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,r,i)}return n}(oe),Rn=function(){function e(){var t=this;_classCallCheck(this,e),this.properties={baseLocation:location.origin,debug:d.mock,concurrentJobs:1},this.workers=new Map,this.findWorker=function(e){return t.workers.get(e)}}return _createClass(e,[{key:"startTask",value:function(e){var t=new Worker(this.getOrCreateWorkerUrl());return this.workers.set(e.id,t),this.createWorkerObservableForTask(t,e)}},{key:"pauseTask",value:function(e){this.notify(e,"pause",e)}},{key:"resumeTask",value:function(e){this.notify(e,"resume",e)}},{key:"stopTask",value:function(e){this.notify(e,"stop",e)}},{key:"createWorkerObservableForTask",value:function(e,t){var n=this;return new M.a((function(r){e.addEventListener("message",(function(n){var i=n.data||{};i.taskId===t.id&&(r.next(i),"TERMINATED"===i.taskStatus&&(r.complete(),e.terminate()))})),e.addEventListener("error",(function(e){return r.error(e)})),n.notify(t.id,"start",t)}))}},{key:"getOrCreateWorkerUrl",value:function(){return this.workerURL||(this.workerURL=this.createWorkerUrl()),this.workerURL}},{key:"notify",value:function(e,t,n){this.workers.has(e)&&this.workers.get(e).postMessage({action:t,payload:n})}},{key:"createWorkerUrl",value:function(){var e="\n            ".concat(this.createWorkerTemplate(),"\n            self.addEventListener('message', function(event) {\n                var listener = function ").concat(this.workerListener.toString(),";\n                listener(worker, event.data.action, event.data.payload);\n            });");return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))}},{key:"createWorkerTemplate",value:function(){return"\n            var config = {\n              properties: {\n                baseLocation: '".concat(this.properties.baseLocation,"',\n                debug: ").concat(this.properties.debug,",\n                concurrentJobs: ").concat(this.properties.concurrentJobs,",\n              },\n              dependencies: {\n                createJobManager: ").concat(function(){return function e(){var t=this;_classCallCheck(this,e),this.pendingJobs=new Map,this.findPendingJob=function(e){return t.pendingJobs.get(e)},this.cancelJob=function(e){var n=t.findPendingJob(e);Object(P.isNullOrUndefined)(n)||(n.canceled=!0,n.deleteOnCancel&&t.pendingJobs.delete(e))},this.performJob=function(e,n,r,i){t.pendingJobs.set(e.id,{job:e,timeout:r,deleteOnCancel:i});var o=t.pendingJobs.get(e.id).timeout||1e3,a=window.setTimeout((function(){n(e,!t.pendingJobs.get(e.id).canceled),window.clearTimeout(a)}),o)}}}().toString(),",\n                createJobQueue: ").concat(function(){return function e(t){var n=this;_classCallCheck(this,e),this._jobs=t,this.jobs=function(){return n._jobs=Object(P.isNullOrUndefined)(n._jobs)?[]:n._jobs,n._jobs},this.addJobs=function(){var e;(e=n.jobs()).push.apply(e,arguments)},this.getJob=function(){return n.jobs().shift()},this.isEmpty=function(){return!n.jobs().length}}}().toString(),",\n              },\n            }\n            var worker = new ").concat(function(){return function e(t){var n=this;_classCallCheck(this,e),this._SCRIPTS=["/assets/workers/base.worker.js"],this.pendingJobs=[],this.start=function(e){console.warn(["START TASK: ".concat(e.id),e]),n.task=e,n.progress={totalJobs:e.jobs.length,doneJobs:0,progressPercent:e.jobs.length>0?0:100},n.queue=new n.createUploadQueue(e.jobs),n.changeTaskStatus("PAUSED")},this.pause=function(e){console.warn(["PAUSE TASK: ".concat(e)]),n.cancelPendingJobs(),n.changeTaskStatus("PAUSED")},this.resume=function(e){console.warn(["RESUME TASK: ".concat(e)]),n.changeTaskStatus("RUNNING"),n.runTask()},this.stop=function(e){console.warn(["STOP TASK: ".concat(e)]),n.changeTaskStatus("STOPPED"),n.terminateTask()},this.cancelPendingJobs=function(){n.pendingJobs.forEach((function(e){return n.jobManager.cancelJob(e.id)}))},this.terminateTask=function(){n.cancelPendingJobs(),n.changeTaskStatus("TERMINATED")},this.runTask=function(){if(n.task&&"RUNNING"===n.task.status&&n.pendingJobs.length<n.properties.concurrentJobs){if(n.queue.isEmpty()&&!n.pendingJobs.length)return void n.terminateTask();var e=n.queue.getJob();e&&(n.pendingJobs.push(e),n.jobManager.performJob(e,n.jobOver),n.runTask())}},this.jobOver=function(e,t){var r=n.pendingJobs.indexOf(e);if(-1!==r&&n.pendingJobs.splice(r,1),!t)return n.queue.addJobs(e),void setTimeout((function(){return n.runTask()}),100);n.progress.doneJobs++,n.progress.progressPercent=Math.ceil(100*n.progress.doneJobs/n.progress.totalJobs),n.publishMessage(),n.runTask()},this.changeTaskStatus=function(e){n.task&&n.task.status!==e&&(n.task.status=e,n.publishMessage())},this.publishMessage=function(){postMessage({taskId:n.task.id,taskStatus:n.task.status,progress:n.progress,taskData:n.task.data})},this.properties=t.properties,this.createUploadQueue=t.dependencies.createJobQueue,this.jobManager=new t.dependencies.createJobManager,importScripts.apply(void 0,_toConsumableArray(this._SCRIPTS.map((function(e){return n.properties.baseLocation.concat(e)}))))}}().toString(),"(config);\n        ")}},{key:"workerListener",value:function(e,t,n){switch(t){case"start":e.start(n);break;case"stop":e.stop(n);break;case"resume":e.resume(n);break;case"pause":e.pause(n)}}}]),e}(),jn=n("3pDu"),Nn=[].concat([{provide:Rn,useClass:Rn,deps:[]}]),In={WAREHOUSE_INVENTORY:{script:"",controller:null}};In.WAREHOUSE_INVENTORY.script="./assets/workers/".concat("warehouse/warehouse.inventory/warehouse.inventory.service.worker.js");var Dn,Ln={enabled:d.mock,registrationStrategy:"registerImmediately"},xn=[].concat((Dn=[],Object.keys(In).forEach((function(e){Dn.push(jn.a.register(In[e].script,Ln))})),Dn)),Un=([].concat(xn),"hi_system_");function Mn(){return new Gt(Un,!1)}function Fn(){return new Yt(!0,"rc4","s3cr3tPa$$w0rd@h1System","hi-system")}var Hn,zn=new r.C("Application baseHref injection"),Bn=document,Yn=[{provide:y.c,useValue:Bn},{provide:y.a,useFactory:kn.getBaseHref,deps:[]},{provide:zn,useFactory:kn.getBaseHref,deps:[]},{provide:ge,useValue:be.sw.vapid_public_key},{provide:r.G,useValue:"vi"},{provide:y.d,useClass:y.d,deps:[]},{provide:_.b,useClass:_.b,deps:[_.d]},{provide:v.c,useClass:v.c,deps:[_.d]},{provide:v.b,useClass:v.b,deps:[_.d]},{provide:te.a,useClass:we.a,deps:[]},{provide:Oe.a,useClass:Oe.a,deps:[]},{provide:Te.a,useClass:Te.a,deps:[]},{provide:De.c,useClass:De.c,deps:[y.c]},{provide:De.b,useClass:De.b,deps:[y.c]},{provide:r.u,useClass:function(){function e(t,n,r,i){_classCallCheck(this,e),this.translateService=t,this.toasterService=n,this.logger=r,this.injector=i,t||Object(S.a)("Could not inject TranslateService"),n||Object(S.a)("Could not inject ToastrService"),r||Object(S.a)("Could not inject NGXLogger"),i||Object(S.a)("Could not inject Injector")}return _createClass(e,[{key:"getTranslateService",value:function(){return this.translateService}},{key:"getToasterService",value:function(){return this.toasterService}},{key:"getLogger",value:function(){return this.logger}},{key:"getInjector",value:function(){return this.injector}},{key:"handleError",value:function(e){var t=this.getInjector().get(y.i),n=e&&e.message?e.message:e?e.toString():"Unknown ERROR!!!",r=t instanceof y.j?t.path():"";window.console.error(["Global error handler",e]),this.getLogger()&&this.getLogger().error("Unexpected Error",{message:n,url:r,error:e}),this.getToasterService()&&this.getToasterService().error(this.getTranslateService().instant("common.toast.unknown"),this.getTranslateService().instant("app"))}}]),e}(),deps:[qe.b,Ce.a,v.a,r.D]},{provide:Kt,useFactory:Mn,deps:[]},{provide:Jt,useFactory:Fn,deps:[]},{provide:Wt,useClass:function(){function e(t){_classCallCheck(this,e),this._logger=t,this._logger||Object(S.a)("Could not inject NGXLogger instance")}return _createClass(e,[{key:"serialize",value:function(e){return G.base64Encode(":",e)}},{key:"deserialize",value:function(e){return G.base64Decode(e)}},{key:"logger",get:function(){return this._logger}}]),e}(),deps:[v.a]},{provide:Xt,useClass:Xt,deps:[v.a,Wt,Kt]},{provide:Qt,useClass:Qt,deps:[v.a,Wt,Kt,Jt]},{provide:En,useClass:En,deps:[r.f,r.o,r.D]}],Vn=[{provide:C.a,useValue:"Authorization"},{provide:fe,useValue:"Company"},{provide:de,useValue:"access_token"},{provide:_.a,useClass:function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Authorization",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Company",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"access_token";return _classCallCheck(this,n),(i=t.call(this,e,r,o)).headerName=o,i.companyHeaderName=a,i.accessTokenParamName=s,i}return _createClass(n,[{key:"isSupported",value:function(e){return _get(_getPrototypeOf(n.prototype),"isSupported",this).call(this,e)&&!this.isThirdPartyRequest(e)}},{key:"isThirdPartyRequest",value:function(e){return e.headers&&e.headers.has("X-ThirdParty")}},{key:"doIntercept",value:function(e,t){var n=this;return this.authService.getToken().pipe(Object(he.a)((function(r){return r&&r.getValue()&&e&&!e.headers.has(n.headerName)&&!e.headers.hasOwnProperty(n.headerName)&&(e.headers.set(n.headerName,r.getValue()),e.headers.set(n.companyHeaderName,r.getPayload().company),e.params.append(n.accessTokenParamName,r.getValue())),t.handle(e)})))}}]),n}(pe),deps:[r.D,v.a,C.a,fe,de],multi:!0},{provide:ln,useValue:be.request.timeout},{provide:_.a,useClass:function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r,null))._timeout=i,o}return _createClass(n,[{key:"doIntercept",value:function(e,t){var n=e.headers.get("timeout")||this.timeout,r=Number(n);return t.handle(e).pipe(Object(cn.a)(r))}},{key:"timeout",get:function(){return Math.max(this._timeout,0)}}]),n}(pe),deps:[r.D,v.a,ln],multi:!0},{provide:hn,useValue:be.request.headers},{provide:_.a,useClass:function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r,null))._headers=i,o}return _createClass(n,[{key:"doIntercept",value:function(e,t){var n;e&&this.headers&&(n=this.headers instanceof _.e?this.headers:new _.e(this.headers)).keys().forEach((function(t){e.headers.has(t)||e.headers.set(t,n.get(t))}));return t.handle(e)}},{key:"headers",get:function(){return this._headers}}]),n}(pe),deps:[r.D,v.a,hn],multi:!0}],Gn=[{provide:k,useClass:k,deps:[C.c,b.c]},{provide:ae,useClass:ae,deps:[D.a,v.a,Te.a]},{provide:se,useClass:se,deps:[_.b,v.a,ae]},{provide:ue,useClass:ue,deps:[se,ae,v.a]},{provide:$,useClass:$,deps:[D.a,v.a,Te.a]},{provide:ee,useClass:ee,deps:[_.b,v.a,W]},{provide:le,useClass:le,deps:[_.b,b.a,ee,$,ae,v.a]}],Jn=[{provide:tn,useClass:tn,deps:[D.a,v.a,Te.a]},{provide:nn,useClass:nn,deps:[_.b,v.a,tn,Qt]},{provide:un,useClass:un,deps:[nn,tn,v.a]},{provide:pn,useClass:pn,deps:[D.a,v.a,Te.a,un]}],Kn=[{provide:qe.a,useFactory:function(e,t){return e||Object(S.a)("Not found HttpClient to create TranslateHttpLoader"),new Re.a(e,(t||"").concat("/assets/i18n/"))},deps:[_.b,y.a]},{provide:xe,useClass:xe,deps:[qe.b,v.a]}],Wn=[{provide:W,useClass:W,deps:[D.a,v.a,Te.a]},{provide:X,useClass:X,deps:[_.b,v.a,W]},{provide:Se,useClass:Se,deps:[X,W,v.a]}],Xn=[{provide:Ee,useClass:Ee,deps:[D.a,v.a,Te.a]},{provide:Ae,useClass:Ae,deps:[_.b,v.a,W]},{provide:Pe,useClass:Pe,deps:[Ae,Ee,v.a]}],Qn=[{provide:_n,useClass:_n,deps:[D.a,v.a,Te.a]},{provide:vn,useClass:vn,deps:[_.b,v.a,_n]},{provide:mn,useClass:mn,deps:[vn,_n,v.a]}],Zn=[{provide:je,useClass:je,deps:[D.a,v.a,Te.a]},{provide:Ne,useClass:Ne,deps:[_.b,v.a,je]},{provide:Ie,useClass:Ie,deps:[Ne,je,v.a]}],$n=[{provide:pt,useClass:pt,deps:[D.a,v.a,Te.a]},{provide:dt,useClass:dt,deps:[_.b,v.a,pt]},{provide:ft,useClass:ft,deps:[dt,pt,v.a]},{provide:Ut,useClass:Ut,deps:[D.a,v.a,Te.a,pn]},{provide:Mt,useClass:Mt,deps:[_.b,v.a,Ut]},{provide:Ft,useClass:Ft,deps:[Mt,Ut,v.a]},{provide:It,useClass:It,deps:[D.a,v.a,Te.a,pn]},{provide:Dt,useClass:Dt,deps:[_.b,v.a,It]},{provide:Lt,useClass:Lt,deps:[Dt,It,v.a]}],er=[{provide:Me,useClass:Me,deps:[D.a,v.a,Te.a]},{provide:Fe,useClass:Fe,deps:[_.b,v.a,Me]},{provide:He,useClass:He,deps:[Fe,Me,v.a]},{provide:fn,useClass:fn,deps:[D.a,v.a,Te.a]},{provide:gn,useClass:gn,deps:[_.b,v.a,fn]},{provide:yn,useClass:yn,deps:[gn,fn,v.a]},{provide:ze,useClass:ze,deps:[D.a,v.a,Te.a]},{provide:Be,useClass:Be,deps:[_.b,v.a,ze]},{provide:Ye,useClass:Ye,deps:[Be,ze,v.a]},{provide:Ve,useClass:Ve,deps:[D.a,v.a,Te.a]},{provide:Ge,useClass:Ge,deps:[_.b,v.a,Ve]},{provide:Je,useClass:Je,deps:[Ge,Ve,v.a]},{provide:Ke,useClass:Ke,deps:[D.a,v.a,Te.a]},{provide:We,useClass:We,deps:[_.b,v.a,Ke]},{provide:Xe,useClass:Xe,deps:[We,Ke,v.a]},{provide:Cn,useClass:Cn,deps:[D.a,v.a,Te.a]},{provide:bn,useClass:bn,deps:[_.b,v.a,Cn]},{provide:Sn,useClass:Sn,deps:[bn,Cn,v.a]},{provide:Qe,useClass:Qe,deps:[D.a,v.a,Te.a]},{provide:Ze,useClass:Ze,deps:[_.b,v.a,Qe]},{provide:$e,useClass:$e,deps:[Ze,Qe,v.a]},{provide:et,useClass:et,deps:[D.a,v.a,Te.a]},{provide:tt,useClass:tt,deps:[_.b,v.a,et]},{provide:nt,useClass:nt,deps:[tt,et,v.a]},{provide:rt,useClass:rt,deps:[D.a,v.a,Te.a]},{provide:it,useClass:it,deps:[_.b,v.a,rt]},{provide:ot,useClass:ot,deps:[it,rt,v.a]},{provide:at,useClass:at,deps:[D.a,v.a,Te.a]},{provide:st,useClass:st,deps:[_.b,v.a,at]},{provide:ut,useClass:ut,deps:[st,at,v.a]},{provide:ct,useClass:ct,deps:[D.a,v.a,Te.a]},{provide:lt,useClass:lt,deps:[_.b,v.a,ct]},{provide:ht,useClass:ht,deps:[lt,ct,v.a]},{provide:On,useClass:On,deps:[D.a,v.a,Te.a]},{provide:wn,useClass:wn,deps:[_.b,v.a,On]},{provide:Tn,useClass:Tn,deps:[wn,On,v.a]},{provide:An,useClass:An,deps:[D.a,v.a,Te.a]},{provide:Pn,useClass:Pn,deps:[_.b,v.a,An]},{provide:qn,useClass:qn,deps:[Pn,An,v.a]}],tr=[{provide:ke,useClass:ke,deps:[D.a,v.a,Te.a]},{provide:Ue,useClass:Ue,deps:[ae,b.c,Ce.a,qe.b,v.a]}],nr=[{provide:I,useClass:I,deps:[D.a,v.a,Te.a]}],rr=[].concat([{provide:r.b,useFactory:function(){return function(e){window.console.info(["Bootstrap Listener: Component",e,"Component Instance",e?e.instance:"NULL","Component Title",e&&e.instance?e.instance.title:"NULL"])}},deps:[],multi:!0},{provide:r.d,useFactory:function(){return function(){return new Promise((function(e,t){window.console.info(["Application Initializer Listener"]),e(!0)}))}},deps:[],multi:!0}]).concat(Yn).concat(Vn).concat(Jn).concat(Gn).concat(Kn).concat(Qn).concat(Zn).concat(Wn).concat(Xn).concat($n).concat(er).concat(tr).concat(Nn).concat(nr),ir=((Hn={PageConfig:{title:"app"},Injector:void 0,appRef:void 0,viewRef:void 0,COMMON:be,TOASTER:{autoDismiss:!0,closeButton:!1,countDuplicates:!0,disableTimeOut:!1,enableHtml:!0,newestOnTop:!0,positionClass:"toast-top-right",preventDuplicates:!0,progressBar:!0,tapToDismiss:!0,timeOut:5e3},API:{},Db:g,Providers:rr,Env:d,i18n:{defaultLang:"en",use:"vi",languages:["en","vi"]},IdGenerators:R,CryptoService:dn,Storage:{storageConfig:{},secureConfig:{}},ServiceWorkers:In}).API=Object.assign({},J),Hn);ir.Storage.storageConfig=Object.assign({},Mn()),ir.Storage.secureConfig=Object.assign({},Fn());var or=n("YL2T"),ar=n("0fkH");function sr(e,t){t.forEach((function(t){Object.getOwnPropertyNames(t.prototype).forEach((function(n){e.prototype[n]||Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype,n))}))}))}d.production&&Object(r.rb)(),sr(or.a,[function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"prototypeName",get:function(){return Reflect.getPrototypeOf(this).constructor.name}}]),_createClass(e,[{key:"ngOnChanges",value:function(e){window.console.warn(["ComponentLifeCycle","ngOnChanges",this.prototypeName])}},{key:"ngOnInit",value:function(){window.console.warn(["ComponentLifeCycle","ngOnInit",this.prototypeName])}},{key:"ngDoCheck",value:function(){window.console.warn(["ComponentLifeCycle","ngDoCheck",this.prototypeName])}},{key:"ngAfterContentInit",value:function(){window.console.warn(["ComponentLifeCycle","ngAfterContentInit",this.prototypeName])}},{key:"ngAfterContentChecked",value:function(){window.console.warn(["ComponentLifeCycle","ngAfterContentChecked",this.prototypeName])}},{key:"ngAfterViewInit",value:function(){window.console.warn(["ComponentLifeCycle","ngAfterViewInit",this.prototypeName])}},{key:"ngAfterViewChecked",value:function(){window.console.warn(["ComponentLifeCycle","ngAfterViewChecked",this.prototypeName])}},{key:"ngOnDestroy",value:function(){window.console.warn(["ComponentLifeCycle","ngOnDestroy",this.prototypeName])}}]),e}()]),sr(ar.a,[function(){function e(t,n,r,i,o,a,s){_classCallCheck(this,e),this._translateService=t,this._factoryResolver=n,this._viewContainerRef=r,this._changeDetectorRef=i,this._elementRef=o,this._formlyConfig=a,this._injector=s,this.__initialized=!1,this._formlyConfig=this.translateFormConfig(a)}return _createClass(e,[{key:"translate",value:function(e,t){return(e||"").length&&this.translateService?t?this.translateService.instant(e,t):this.translateService.instant(e):e}},{key:"translateFormConfig",value:function(e){var t=this;if(!Object(P.isNullOrUndefined)(e)){var n=this;e["messages:keys"]={};var r=e.messages;Object.keys(r).length&&Object.keys(r).forEach((function(n){r[n]=t.__translateFormValidationMessage(n,r[n],e["messages:keys"])}));var i=e.addValidatorMessage;e.addValidatorMessage=function(t,r){var o=n.__translateFormValidationMessage(t,r,e["messages:keys"]);i.apply(e,[t,o])};var o=e.getValidatorMessage;e.getValidatorMessage=function(t){return n.__translateFormValidationMessage(t,o.apply(e,[t]),e["messages:keys"])};var a=e.addConfig;e.addConfig=function(t){(t.validationMessages||[]).forEach((function(t){t.message=n.__translateFormValidationMessage(t.name,t.message,e["messages:keys"])})),a.apply(e,[t])}}return e}},{key:"__translateFormValidationMessage",value:function(e,t,n){var r=this;if(n=n||{},"function"==typeof t)return function(e,n){var i=t.apply(n,[e,n]);return(i||"").length?r.translate(i):""};if("string"==typeof t&&(t||"").length){var i=[e,"key"].join(":");return n.hasOwnProperty(i)||(n[i]=t),this.translate(n[i])}}},{key:"componentFactoryResolver",get:function(){return Object(P.isNullOrUndefined)(this._factoryResolver)&&!Object(P.isNullOrUndefined)(this.injector)&&(this._factoryResolver=this.injector.get(r.o)),this._factoryResolver},set:function(e){this._factoryResolver=e}},{key:"viewContainerRef",get:function(){return Object(P.isNullOrUndefined)(this._viewContainerRef)&&!Object(P.isNullOrUndefined)(this.injector)&&(this._viewContainerRef=this.injector.get(r.mb)),this._viewContainerRef}},{key:"changeDetectorRef",get:function(){return Object(P.isNullOrUndefined)(this._changeDetectorRef)&&!Object(P.isNullOrUndefined)(this.injector)&&(this._changeDetectorRef=this.injector.get(r.j)),this._changeDetectorRef}},{key:"elementRef",get:function(){return Object(P.isNullOrUndefined)(this._elementRef)&&!Object(P.isNullOrUndefined)(this.injector)&&(this._elementRef=this.injector.get(r.t)),this._elementRef}},{key:"injector",get:function(){return this._injector},set:function(e){this._injector=e}},{key:"translateService",get:function(){return Object(P.isNullOrUndefined)(this._translateService)&&!Object(P.isNullOrUndefined)(this.injector)&&(this._translateService=this.injector.get(qe.b)),this._translateService}},{key:"formlyConfig",get:function(){return this.__initialized||(this._formlyConfig=this.translateFormConfig(this._formlyConfig),this.__initialized=!0),this._formlyConfig},set:function(e){this._formlyConfig=e}}]),e}()]),Object(i.a)().bootstrapModule(function(){return function e(t,n){_classCallCheck(this,e),ir.Injector=r.D.create({providers:ir.Providers,parent:t}),n.registerFontPack("fa",{packClass:"fa",iconClassPrefix:"fa"}),n.registerFontPack("fas",{packClass:"fas",iconClassPrefix:"fa"}),n.registerFontPack("far",{packClass:"far",iconClassPrefix:"fa"}),n.registerFontPack("ion",{iconClassPrefix:"ion"}),navigator&&"serviceWorker"in navigator&&(console.warn(["Start browser service worker registration",navigator.serviceWorker]),navigator.serviceWorker.getRegistrations().then((function(e){console.warn(["Browser service registration",e]);var t={};!Object(P.isNullOrUndefined)(e)&&Array.from(e).length?Object.keys(In).forEach((function(n){var r=In[n],i=r.script;i.startsWith("./")&&(i=i.right(i.length-2)),!Array.from(e).filter((function(e){var t=!Object(P.isNullOrUndefined)(e.active)&&(e.active.scriptURL||"").length&&e.active.scriptURL.indexOf(i)>=0;return t&&(r.controller=e.active,r.controller.postMessage({type:"environment",environment:d,dbStores:f}),e.update()),t})).length||(t[n]=r)})):t=In,console.warn(["Need to register service workers",t]),Object.keys(t).forEach((function(e){var n=t[e];(n.script||"").length?navigator.serviceWorker.register(n.script).then((function(t){return console.warn(["Register ".concat(e," successfully"),t]),navigator.serviceWorker.ready.then((function(e){n.controller=e.active,n.controller.postMessage({type:"environment",environment:d,dbStores:f})}))}),(function(t){console.error("Could not register ".concat(e,": ").concat(t))})).catch((function(t){console.error("Could not register ".concat(e,": ").concat(t))})):console.warn("Invalid worker script to register ".concat(e))}))})))}}()).then((function(e){return window.console.info(["======= MAIN BOOTSTRAP APPLICATION SUCCESSFUL =======",e])}),(function(e){return window.console.error(["======= MAIN BOOTSTRAP APPLICATION ERROR =======",e])})).catch((function(e){return window.console.error(["======= MAIN BOOTSTRAP APPLICATION ERROR =======",e])}))}},[[0,0,5]]]);